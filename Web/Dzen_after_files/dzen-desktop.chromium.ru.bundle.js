(()=>{var e={73424:(e,t,n)=>{"use strict";function s(e,t={}){return e.map((e=>`${e},${t[Number(e)]||0};`)).join("")}n.d(t,{Q:()=>s})},94626:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});const s=e=>{if("undefined"!=typeof document){const t=e?`${e}=1`:atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}return!1}},88644:(e,t,n)=>{"use strict";let s,i,a,r,o;n.d(t,{EQ:()=>o}),function(e){e.GIF="gif"}(s||(s={})),function(e){e.bright="bright",e.black="black",e.white="white",e.portal="portal"}(i||(i={})),function(e){e.carrot_accent="carrot_accent",e.enable_color_variables="enable_color_variables",e.stretch_images_to_the_edges="stretch_images_to_the_edges"}(a||(a={})),function(e){e.Feed="feed",e.Category="category",e.Categories="categories",e.Profile="profile",e.SwitchableSubs="switchable_subs",e.Suggest="suggest",e.Blocked="blocked",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.VideoRelated="video_related",e.Preferences="preferences",e.Language="language",e.SendAppLinkSms="send_app_link_sms",e.CommentsCounter="comments_counter",e.GetVideoViewerData="get_video_popup_data"}(r||(r={})),function(e){e.Suggest="suggest",e.Carousel="list_of_categories",e.Category="category",e.Subs="subscriptions",e.Blocked="blocked",e.Similar="similar",e.Feed="layout",e.Subscribers="user_subscribers",e.LeftColumn="left_column",e.MordaLeftColumn="morda_left_column",e.RightColumn="right_column",e.VideoRelated="video_related",e.VideoFeed="video_more",e.Showcase="showcase",e.Suite="suite",e.Saved="saved"}(o||(o={}))},76480:(e,t,n)=>{"use strict";n.d(t,{X:()=>m});var s=n(51780),i=n(86826),a=n(30373),r=n(78147),o=n(43623),l=n(75971),c=n(74432),d=n(48627);let u;!function(e){e.RECOMMENDATION="recommendation",e.SUBSCRIPTION="subscription",e.SOFT_FAVOURITE="soft_favourite",e.RTB_RECOMMENDATION="rtb_recommendation",e.DOC2DOC_RECOMMENDATION="doc2doc_recommendation"}(u||(u={}));const m=(0,s.v)({type:i.Z_,items:(0,a.I)(c._),title:i.Z_,subtitle:(0,r.w)(i.Z_),bulkParams:i.Z_,statEvents:(0,r.w)(l.np),blockType:(0,r.w)((0,o.G)(u)),showcaseLink:(0,r.w)(i.Z_),isFromShowcase:(0,r.w)(i.O7),shouldShowRefresh:(0,r.w)(i.O7),isForChannelPage:(0,r.w)(i.O7),moreLink:(0,r.w)(i.Z_),richRecommendLabel:(0,r.w)(d.jU)})},86297:(e,t,n)=>{"use strict";n.d(t,{X:()=>d});var s=n(51780),i=n(78147),a=n(86826),r=n(30373),o=n(75971),l=n(249);const c=(0,s.v)({unreadPostsCount:(0,i.w)(a.Rx),hasInteraction:(0,i.w)(a.O7),source:l.Hw,hasLive:(0,i.w)(a.O7)}),d=(0,s.v)({bulkParams:a.Z_,statEvents:o.np,creationTime:(0,i.w)(a.Z_),items:(0,r.I)(c),linkMore:(0,i.w)(a.Z_),isFreshFromSubscriptionsExists:(0,i.w)(a.O7),type:a.Z_,title:(0,i.w)(a.Z_)})},36617:(e,t,n)=>{"use strict";n.d(t,{i:()=>d,Ad:()=>u});var s=n(51780),i=n(40352),a=n(86826),r=n(78147),o=n(2464),l=n(26347),c=n(75971);const d=(0,s.v)({type:(0,i.i)("direct"),domElemId:a.Z_,blockId:a.Z_,partnerStatId:(0,r.w)(a.Z_),isBig:(0,r.w)(a.O7),bulkParams:a.Z_,statEvents:c.np,data:(0,r.w)(o.A)}),u=(0,l.kS)("type",{direct:d})},83279:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var s=n(51780),i=n(86826),a=n(78147),r=n(30373);const o=(0,s.v)({width:i.Rx,height:i.Rx,mainColor:i.Z_,src:i.Z_}),l=(0,s.v)({area:i.Z_,image:(0,a.w)(o),withPlus:(0,a.w)(i.O7)}),c=(0,s.v)({templateAreas:(0,r.I)(i.Z_),items:(0,r.I)(l)})},74432:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var s=n(51780),i=n(78147),a=n(86826),r=n(75971),o=n(249);const l=(0,s.v)({source:o.Hw,statEvents:(0,i.w)(r.np),bulkParams:a.Z_})},24212:(e,t,n)=>{"use strict";n.d(t,{sh:()=>c,iV:()=>d,hM:()=>u});var s=n(51780),i=n(78147),a=n(86826),r=n(43623),o=n(40352),l=n(88392);let c;!function(e){e.zenBrief="zen_brief",e.zenLogos="zen-logos",e.zenNarrativeSlides="zen-narrative-slides",e.zenPersonal="zen-personal",e.zenPubOg="zen-pub-og",e.zenQr="zen-qr",e.zenBriefEmbed="zen_brief_embed",e.zenGallery="zen_gallery",e.zenPictures="zen_pictures",e.zenSocial="zen_social",e.zenComments="zen_comments",e.zenDoc="zen_doc",e.zenVh="zen-vh",e.unknown="unknown"}(c||(c={}));const d=(0,s.v)({id:(0,i.w)(a.Z_),namespace:(0,r.G)(c),preview:(0,i.w)(a.Z_),height:a.Rx,width:a.Rx,origSize:(0,s.v)({width:a.Rx,height:a.Rx}),meta:(0,s.v)({mainColor:a.Z_,origFormat:(0,i.w)(a.Z_)}),urlTemplate:a.Z_,sizeName:a.Z_,blurredLink:(0,i.w)(a.Z_),link:a.Z_}),u=(0,s.v)({type:(0,o.i)("image"),image:d,viewerImage:(0,i.w)(d),richText:(0,i.w)(l.x),stubImage:(0,i.w)(a.Z_),isGifStub:(0,i.w)(a.O7),isVideoNotConvertedStub:(0,i.w)(a.O7),mainColor:a.Z_})},12165:(e,t,n)=>{"use strict";n.d(t,{PM:()=>k,FU:()=>S,uW:()=>f,y8:()=>y});var s=n(51780),i=n(86826),a=n(78147),r=n(29332),o=n(30373),l=n(249),c=n(36617);const d=(0,n(72034).d)("promo","special"),u=(0,s.v)({type:d,text:i.Z_});var m=n(49082),p=n(25723),h=n(48627),b=n(75971),g=n(91642),v=n(32121);const _=(0,s.v)({briefExpand:(0,a.w)((0,o.I)(i.Z_)),videoRatingView:(0,a.w)((0,o.I)(i.Z_))}),f=(0,s.v)({id:i.Z_,pos:(0,a.w)(i.Rx),type:i.Z_,bulkParams:i.Z_,statEvents:(0,a.w)(b.np)}),y=(0,a.w)((0,s.v)({repostUrl:(0,a.w)(i.Z_)})),w=(0,r.j)(f,(0,s.v)({source:l.Hw,isPinned:(0,a.w)(i.O7),link:i.Z_,shareLink:(0,a.w)(i.Z_),domainTitle:i.Z_,customUserFeedbackData:(0,a.w)(p.Gw),badges:(0,a.w)((0,o.I)(u)),zenLogo:(0,a.w)(h.jw),promoLabel:(0,a.w)(h.rF),rtbLabel:(0,a.w)(h.Jv),recommendLabel:(0,a.w)(h.Jv),richRecommendLabel:(0,a.w)(h.jU),feedbackInfo:(0,a.w)(m.f),creationTime:(0,a.w)(i.Z_),publicationDate:(0,a.w)(i.Z_),views:(0,a.w)(i.Rx),read:(0,a.w)(i.O7),bidFloor:(0,a.w)(i.Z_),requireUserData:(0,a.w)(i.O7),more:(0,a.w)(g.T),covid19:(0,a.w)(i.O7),isPromoPublication:(0,a.w)(i.O7),menu:(0,a.w)((0,o.I)(v.sN)),publicationPixels:(0,a.w)(_),isSavedToBookmarks:(0,a.w)(i.O7),sharingMenu:y})),k=(0,r.j)(w,(0,s.v)({ad:(0,a.w)(c.Ad)})),S=w},32145:(e,t,n)=>{"use strict";n.d(t,{b_:()=>h,LB:()=>b,I3:()=>E});var s=n(46997),i=n(77735),a=n(62993),r=n(86826),o=n(78147),l=n(16309),c=n(40352),d=n(51780),u=n(26347),m=n(24212);const p=["mainColor","main_color"];let h,b;!function(e){e.site="site",e.video="video",e.zen="zen"}(h||(h={})),function(e){e[e.site=0]="site",e[e.video=1]="video"}(b||(b={}));const g=(0,i.n)((0,a.R)({src:r.Z_,width:r.Rx,height:r.Rx,main_color:(0,o.w)(r.Z_),mainColor:(0,o.w)(r.Z_)}),(e=>{let{mainColor:t,main_color:n}=e,i=(0,s.Z)(e,p);return Object.assign({},i,{mainColor:t||n||"transparent"})})),v=(0,o.w)((0,l.G)({new:m.iV,old:g})),_={src:r.Z_,title:r.Z_,imageId:(0,o.w)(r.Z_),image:(0,o.w)(v)},f=Object.assign({type:(0,c.i)(h.site),typeId:(0,o.w)((0,c.i)(b.site)),host:r.Z_,isBig:r.O7},_),y=Object.assign({type:(0,c.i)(h.video),typeId:(0,o.w)((0,c.i)(b.video)),host:r.Z_,isBig:r.O7},_),w=Object.assign({type:(0,c.i)(h.zen)},_,{publisherName:r.Z_,isPublisherVerified:r.O7,publishDate:(0,o.w)(r.Z_),typeId:(0,o.w)(r.Rx),isBig:(0,o.w)(r.O7)}),k=(0,l.G)({camel:(0,a.R)(f),snake:(0,d.v)(f)}),S=(0,l.G)({camel:(0,a.R)(y),snake:(0,d.v)(y)}),E=(0,u.kS)("type",{[h.site]:k,[h.video]:S});(0,u.kS)("type",{[h.site]:k,[h.video]:S,[h.zen]:(0,l.G)({camel:(0,a.R)(w),snake:(0,d.v)(w)})})},49082:(e,t,n)=>{"use strict";n.d(t,{f:()=>a,M:()=>r});var s=n(51780),i=n(86826);const a=(0,s.v)({isLiked:i.O7,isDisliked:i.O7}),r=e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null},50589:(e,t,n)=>{"use strict";n.d(t,{_:()=>K,K:()=>X});var s=n(46997),i=n(43623),a=n(51780),r=n(78147),o=n(86826),l=n(62993),c=n(72034),d=n(30373),u=n(40352),m=n(26347),p=n(77735),h=n(29332),b=n(16309),g=n(48627),v=n(53104),_=n(91642),f=n(71966),y=n(3676),w=n(249),k=n(75971),S=n(24212);const E=["ad","isShortVideo","width","height"],C=["callToAction","customUserFeedbackData","expandDelay","expandType","feedbackInfo","image","commonImage","promoLabel","rtbLabel","recommendLabel","text","title","video","zenLogo","source","covid_19","isPromoPublication"];var I,P;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(I||(I={})),function(e){e.None="none",e.Auto="auto",e.StopAndGo="stop_and_go",e.ClickToSite="click_to_site"}(P||(P={}));const T=(0,a.v)({bulkParams:(0,r.w)(o.Z_),id:(0,r.w)(o.Z_),pos:(0,r.w)(o.Rx),statEvents:(0,r.w)(k.np),type:o.Z_}),R=(0,l.R)({ratio_1x1:(0,r.w)(o.Z_)}),A=(0,a.v)({feedApiLink:(0,r.w)(o.Z_),feedLink:o.Z_,logo:o.Z_,logoBackgroundColor:o.Z_,status:w.ln,id:o.Z_,strongestId:o.Z_,subscriptionForbidden:(0,r.w)(o.O7),title:o.Z_,description:(0,r.w)(o.Z_),isVerified:(0,r.w)(o.O7),type:w.PO,redesignLogos:(0,r.w)(R),vacuumCounterId:(0,r.w)(o.Rx),metricaId:(0,r.w)(o.Rx)}),x=(0,c.d)("promo","special"),O=(0,l.R)({type:x,text:o.Z_}),N=(0,a.v)({source:(0,r.w)(A),text:(0,r.w)(o.Z_),title:(0,r.w)(o.Z_),creationTime:(0,r.w)(o.Z_),publicationDate:(0,r.w)(o.Z_),recommendReason:(0,r.w)(o.Z_),more:(0,r.w)(_.T)}),M=(0,a.v)({isLiked:o.O7,isDisliked:o.O7}),L=(0,a.v)({link:(0,r.w)(o.Z_),shareLink:(0,r.w)(o.Z_),read:(0,r.w)(o.O7),feedbackInfo:(0,r.w)(M),badges:(0,r.w)((0,d.I)(O)),commentsDocumentId:(0,r.w)(o.Z_),allCommentsLink:(0,r.w)(o.Z_),oneCommentLink:(0,r.w)(o.Z_),covid_19:(0,r.w)(o.O7)}),D=(0,a.v)({id:o.Z_,type:o.Z_,text:o.Z_,stats:(0,a.v)({statEvents:k.np,bulkParams:o.Z_})}),B=(0,a.v)({type:(0,u.i)("extended_dislike_feedback"),displayType:(0,u.i)("ask_on_dislike"),id:o.Z_,text:o.Z_,answers:(0,d.I)(D)}),F=(0,m.kS)("type",{extended_dislike_feedback:B}),Z=(0,a.v)({questions:(0,d.I)(F)}),V=(0,a.v)({customUserFeedbackData:(0,r.w)(Z),promoLabel:(0,r.w)(g.rF),rtbLabel:(0,r.w)(g.Jv),recommendLabel:(0,r.w)(g.Jv),richRecommendLabel:(0,r.w)(g.jU),zenLogo:(0,r.w)(g.jw),isPromoPublication:(0,r.w)(o.O7)}),U=((0,a.v)({pageId:(0,r.w)(o.Z_),categoryId:(0,r.w)(o.Rx)}),(0,i.G)(I)),j=(0,a.v)({buttonName:o.Z_,description:(0,r.w)(o.Z_),linkId:(0,r.w)(o.Z_),linkInfoUrl:(0,r.w)(o.Z_),logo:(0,r.w)((0,a.v)({url:(0,r.w)(o.Z_),mainColor:o.Z_})),priceUrl:(0,r.w)(o.Z_),title:o.Z_,type:(0,r.w)(U),urlType:(0,r.w)(o.Z_),url:o.Z_,videoCallToActionTimestamp:(0,r.w)(o.Rx)}),z=(0,i.G)(P),H=(0,a.v)({link:(0,r.w)((0,d.I)(o.Z_)),videoFullView:(0,r.w)((0,d.I)(o.Z_)),videoExpand:(0,r.w)((0,d.I)(o.Z_)),show:(0,r.w)((0,d.I)(o.Z_))}),q=(0,a.v)({design:(0,r.w)(o.Z_),imageLink:(0,r.w)(o.Z_),faviconLink:(0,r.w)(o.Z_),linkToOpen:o.Z_,linkToShow:o.Z_,title:(0,r.w)(o.Z_)}),$=(0,a.v)({callToAction:(0,r.w)(j),expandDelay:(0,r.w)(o.Rx),expandType:(0,r.w)(z),stopAndGoExternalUrl:(0,r.w)(o.Z_),videoPixels:(0,r.w)(H),video:y.nk,channelOwnerUid:(0,r.w)(o.Rx),publisherId:(0,r.w)(o.Z_),publicationObjectId:(0,r.w)(o.Z_),flightId:(0,r.w)(o.Z_),swipeToSite:(0,r.w)(q),adDisable:(0,r.w)(o.O7),videoNotConvertedStub:(0,r.w)((0,u.i)(!1))}),G=(0,a.v)({type:(0,u.i)("video"),videoNotConvertedStub:(0,u.i)(!0),stubImage:(0,r.w)(o.Z_)}),W=e=>{if(e)return Object.assign({},e,{logo:e.logo&&e.logo.url?{logoUrl:e.logo.url,mainColor:e.logo.mainColor}:void 0})},Y=e=>{if(e)return{category:void 0!==e.categoryId?e.categoryId:1016,hasPreroll:!1,partnerId:e.pageId?parseInt(e.pageId,10):void 0}},K=(0,p.n)((0,h.j)(T,N,L,V,$,v.L,(0,a.v)({commonImage:(0,r.w)(S.iV),image:(0,b.G)({url:o.Z_,object:S.iV}),imageDesignV3:(0,r.w)(f.VX),bigCardImage:(0,r.w)(o.Z_),blurredPreview:(0,r.w)(o.Z_)})),(e=>{var t;let n,{callToAction:i,customUserFeedbackData:a,expandDelay:r,expandType:o,feedbackInfo:l,image:c,commonImage:d,promoLabel:u,rtbLabel:m,recommendLabel:p,text:h="",title:b="",video:{ad:g,isShortVideo:v=!1,width:_=0,height:y=0}={},zenLogo:w,source:k,covid_19:S,isPromoPublication:I}=e,P=(0,s.Z)(e.video,E),T=(0,s.Z)(e,C);if(d)n=d;else if("string"==typeof c){var R;const{namespace:e,sizeName:t,urlTemplate:s}=(0,f.u8)(c);n={urlTemplate:s,width:_,height:y,meta:{mainColor:(null==(R=T.imageDesignV3)?void 0:R.meta.mainColor)||"transparent"},namespace:e,sizeName:t,origSize:{width:_,height:y},preview:void 0,link:c}}else n=c;const A={hasImage:!0,image:n},x=(e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null)(l),O=((null==a?void 0:a.questions)||[]).filter((e=>"ask_on_dislike"===e.displayType)),N=O.length>0?O[0]:void 0;return Object.assign({callToAction:W(i),dislikeQuestion:N,expandDelaySec:r||5,expandType:o||"none",feedback:x,labelIcon:w,labelText:u,rtbLabel:m||p,isPromoPublication:I,text:h,title:b,mainColor:(null==(t=T.imageDesignV3)?void 0:t.meta.mainColor)||"",video:Object.assign({width:_,height:y,adConfig:Y(g),isShortVideo:null!=v&&v},P),source:Object.assign({},k,{statEvents:T.statEvents,bulkParams:T.bulkParams}),covid19:S},A,T,{type:"video",videoNotConvertedStub:!1})})),X=(0,m.b5)("videoNotConvertedStub",G,K)},71966:(e,t,n)=>{"use strict";n.d(t,{My:()=>c,u8:()=>u,VX:()=>m});n(14072),n(53208);var s=n(51780),i=n(86826),a=n(78147),r=n(16309),o=n(77735),l=n(24212);const c=(0,s.v)({link:i.Z_,preview:(0,a.w)(i.Z_),width:i.Rx,height:i.Rx,mainColor:(0,a.w)(i.Z_),blurredLink:(0,a.w)(i.Z_)}),d=(0,r.G)({old:c,new:l.iV}),u=e=>{const[,t,n]=e.match(/^[^/]+\/\/[^/]+\/get-([^/]+)\/[^/]+\/[^/]+\/([^/?&]+)/)||[],s=e.slice(0,e.lastIndexOf("/")+1),i=s&&t&&n?`${s}{size}`:e;return{namespace:t||l.sh.unknown,sizeName:n||"unknown_size_name",urlTemplate:i}},m=(0,o.n)(d,(e=>{if("urlTemplate"in e)return e;const{width:t,height:n,blurredLink:s,preview:i,mainColor:a}=e,{namespace:r,sizeName:o,urlTemplate:l}=u(e.link);return{namespace:r,sizeName:o,urlTemplate:l,width:t,height:n,origSize:{width:t,height:n},blurredLink:s,preview:i,meta:{mainColor:a||""},link:e.link}}))},44240:(e,t,n)=>{"use strict";let s;n.d(t,{q:()=>s,K:()=>i}),function(e){e.native="native",e.brief="brief",e.gif="gif",e.live="live",e.plain_card="plain_card",e.unknown="_unknown"}(s||(s={}));const i=e=>{switch(e.toLowerCase()){case"native":return s.native;case"brief":return s.brief;case"gif":return s.gif;case"live":return s.live;case"plain_card":return s.plain_card;default:return s.unknown}}},48627:(e,t,n)=>{"use strict";n.d(t,{rF:()=>c,jw:()=>u,Px:()=>m,Jv:()=>b,jU:()=>g});var s=n(51780),i=n(86826),a=n(72034),r=n(78147),o=n(30373),l=n(50901);const c=(0,s.v)({channelInfoSubscribed:i.Z_,channelInfoUnsubscribed:i.Z_}),d=(0,a.d)("interest","new_subscription","subscribed","turbo"),u=(0,s.v)({type:(0,r.w)(d),b:(0,r.w)(i.Z_),w:(0,r.w)(i.Z_)});let m;!function(e){e.trend="trend",e.subject="subject",e.none="none",e.alice_found="alice_found",e.alice_similar_recommend="alice_similar_recommend",e.visibility_type="visibility_type",e.is_pinned="is_pinned"}(m||(m={}));const p=(0,a.d)(...(0,l.s)(m)),h=(0,s.v)({text:(0,r.w)(i.Z_),isBold:(0,r.w)(i.O7),link:(0,r.w)(i.Z_)}),b=(0,s.v)({type:(0,r.w)(p),title:(0,r.w)(i.Z_),subtitle:(0,r.w)(i.Z_)}),g=(0,s.v)({type:(0,r.w)(p),parts:(0,r.w)((0,o.I)(h)),link:(0,r.w)(i.Z_),feedApiLink:(0,r.w)(i.Z_),feedLink:(0,r.w)(i.Z_)})},55742:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var s=n(86826),i=n(78147),a=n(51780),r=n(62993);const o={publisherId:s.Z_,publisherNickname:(0,i.w)(s.Z_),feedLink:(0,i.w)(s.Z_),feedApiLink:(0,i.w)(s.Z_)},l=(0,a.v)(o);(0,r.R)(o)},32121:(e,t,n)=>{"use strict";n.d(t,{ot:()=>r,sN:()=>l});var s=n(62993),i=n(78147),a=n(86826);let r;!function(e){e.NOT_SAVED="not_saved",e.SAVED="saved",e.SAVE_ERROR="save_error",e.REMOVE_ERROR="remove_error"}(r||(r={}));const o=(0,s.R)({link:(0,i.w)(a.Z_),icon:(0,i.w)(a.Z_),title:a.Z_,subtitle:(0,i.w)(a.Z_)}),l=(0,s.R)({type:a.Z_,enable:o,disable:(0,i.w)(o)})},91642:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var s=n(62993),i=n(78147),a=n(86826);const r=(0,s.R)({recommendations_channels:(0,i.w)(a.Z_)})},40770:(e,t,n)=>{"use strict";n.d(t,{n_:()=>y});var s=n(72034),i=n(51780),a=n(86826),r=n(78147),o=n(30373),l=n(62993),c=n(50901);let d,u,m;!function(e){e.single_choice="single_choice"}(d||(d={})),function(e){e.anonymous="anonymous"}(u||(u={})),function(e){e.success="success",e.failed="failed",e.notAuthorized="not_authorized"}(m||(m={}));const p=(0,s.d)(...(0,c.s)(d)),h=(0,s.d)(...(0,c.s)(u)),b=(0,s.d)(...(0,c.s)(m)),g=(0,i.v)({text:a.Z_,isCorrect:(0,r.w)(a.O7)}),v={answers:(0,o.I)(a.Rx),myAnswers:(0,o.I)(a.O7),percentages:(0,o.I)(a.Rx),totalAnswers:a.Rx},_=(0,i.v)(Object.assign({},v)),f=((0,i.v)(Object.assign({},v,{pollId:a.Z_})),{pollId:a.Z_,type:p,anonymityType:h,title:a.Z_,items:(0,o.I)(g)}),y=(0,i.v)(Object.assign({},f,{result:(0,r.w)(_),resultStatus:(0,r.w)(b)}));(0,l.R)(Object.assign({},f))},86651:(e,t,n)=>{"use strict";n.d(t,{qN:()=>c,xb:()=>h});var s=n(51780),i=n(86826),a=n(30373),r=n(78147),o=n(43623),l=n(3676);let c;!function(e){e.default="",e.showClickToSite="showClickToSite",e.clickOut="clickOut",e.swipe="swipe"}(c||(c={}));const d=(0,s.v)({link:i.Z_,blurredLink:i.Z_}),u=(0,s.v)({hasSound:i.O7,heartbeatTimes:(0,a.I)(i.Rx),id:i.Z_,streams:(0,a.I)(i.Z_),player:(0,r.w)(i.Z_),width:(0,r.w)(i.Rx),height:(0,r.w)(i.Rx),duration:(0,r.w)(i.Rx),videoInfo:l.L4,firstFrames:(0,r.w)(l.Q8)}),m=(0,s.v)({image:(0,r.w)(d),video:(0,r.w)(u),mainColor:(0,r.w)(i.Z_),title:i.Z_,text:i.Z_}),p=(0,s.v)({firstSlideDelayForImage:i.Rx,nextSlideDelayForImage:i.Rx,firstSlideDelayForVideo:i.Rx,clickBehaviour:(0,o.G)(c)}),h=(0,s.v)({items:(0,a.I)(m),config:(0,r.w)(p)})},25723:(e,t,n)=>{"use strict";n.d(t,{Gw:()=>g,G8:()=>v,he:()=>_});var s=n(51780),i=n(86826),a=n(40352),r=n(30373),o=n(26347),l=n(62993),c=n(78147),d=n(75971);const u=(0,l.R)({id:i.Z_,type:i.Z_,text:i.Z_,stats:(0,l.R)({statEvents:(0,c.w)(d.np),bulkParams:i.Z_})}),m=(0,l.R)({type:(0,a.i)("extended_dislike_feedback"),displayType:(0,a.i)("ask_on_dislike"),id:i.Z_,text:i.Z_,answers:(0,r.I)(u)}),p=(0,s.v)({id:i.Z_,type:i.Z_,text:i.Z_}),h=(0,s.v)({type:(0,a.i)("zoloka_interest_feedback"),displayType:(0,a.i)("ask_on_click"),id:i.Z_,text:i.Z_,answers:(0,r.I)(p)}),b=(0,o.kS)("type",{extended_dislike_feedback:m,zoloka_interest_feedback:h}),g=(0,s.v)({questions:(0,r.I)(b)}),v=e=>((null==e?void 0:e.questions)||[]).filter((e=>"ask_on_dislike"===e.displayType)).shift(),_=e=>((null==e?void 0:e.questions)||[]).filter((e=>"ask_on_click"===e.displayType)).shift()},2213:(e,t,n)=>{"use strict";n.d(t,{iE:()=>v,MV:()=>T});var s=n(51780),i=n(40352),a=n(86826),r=n(78147),o=n(26347),l=n(46821),c=n(30373),d=n(29332),u=n(88392),m=n(83279),p=n(40770),h=n(24212);const b=(0,s.v)({type:(0,i.i)("video"),image:h.iV,mainColor:a.Z_,richText:(0,r.w)(u.x),video:(0,s.v)({duration:a.Rx})}),g=(0,o.kS)("type",{image:h.hM,video:b});let v;!function(e){e.brief="brief",e.gif="gif",e.native="native",e.live="live"}(v||(v={}));const _=(0,s.v)({id:a.Z_,itemId:(0,r.w)(a.Z_),logo:h.iV,name:(0,r.w)(a.Z_),nickname:(0,r.w)(a.Z_),isVerified:a.O7,url:a.Z_}),f=(0,s.v)({publicationObjectId:a.Z_,itemId:a.Z_,link:a.Z_,creationTime:a.Z_,source:_,stats:(0,s.v)({bulkParams:a.Z_,statEvents:(0,l.I)(a.Z_)})}),y=(0,s.v)({items:(0,c.I)(g),richText:(0,r.w)(u.x),embed:(0,r.w)((0,s.v)({src:a.Z_})),poll:(0,r.w)(p.n_),gridMobile:(0,r.w)(m.U),gridDesktop:(0,r.w)(m.U)}),w=(0,s.v)({title:a.Z_,video:(0,r.w)((0,s.v)({isShortVideo:a.O7,duration:(0,r.w)(a.Rx)})),image:(0,r.w)(h.iV)}),k=(0,s.v)({title:a.Z_,text:a.Z_,image:(0,r.w)(h.iV)}),S=(0,s.v)({title:a.Z_,text:a.Z_,image:(0,r.w)(h.iV)}),E=(0,d.j)(f,(0,s.v)({itemType:(0,i.i)(v.brief),content:y})),C=(0,d.j)(f,(0,s.v)({itemType:(0,i.i)(v.native),content:k})),I=(0,d.j)(f,(0,s.v)({itemType:(0,i.i)(v.gif),content:w})),P=(0,d.j)(f,(0,s.v)({itemType:(0,i.i)(v.live),content:S})),T=(0,o.c9)("itemType",{[v.brief]:E,[v.gif]:I,[v.native]:C,[v.live]:P})},88392:(e,t,n)=>{"use strict";n.d(t,{x:()=>b});var s=n(32481);var i=n(51780),a=n(40352),r=n(86826),o=n(62993),l=n(46821),c=n(30373),d=n(26347),u=n(78147);const m=(0,i.v)({type:(0,a.i)("text"),data:r.Z_}),p=(0,o.R)({type:(0,a.i)("tag"),name:r.Z_,attribs:(0,l.I)(r.Z_),children:(0,c.I)((e=>{let t;return(0,s.Mv)(((n,i)=>{var a;return t=null!=(a=t)?a:(0,s.kB)(e()),t(n,i)}))})((()=>h)))}),h=(0,d.kS)("type",{tag:p,text:m}),b=(0,o.R)({length:(0,u.w)(r.Rx),json:(0,c.I)(h)})},13354:(e,t,n)=>{"use strict";let s,i;n.d(t,{m:()=>s,j:()=>i}),function(e){e.LIST="list",e.CAROUSEL="carousel",e.ONBOARDING="onboarding",e.PROMO_PUBLISHERS="promo_publishers",e.PROMO_PUBLICATIONS="promo_publications"}(s||(s={})),function(e){e.BANNER="banner_list",e.PUBLICATIONS="publication_list",e.REPOST="showcase_repost",e.PUBLISHERS="publisher_list",e.PROMO_PUBLICATIONS_CAROUSEL="promo_publications_carousel",e.SHOWCASE_SEARCH_RECENTS_HEADER="showcase_search_recents_header",e.SHOWCASE_SEARCH_RECENT="showcase_search_recent"}(i||(i={}))},53104:(e,t,n)=>{"use strict";n.d(t,{p:()=>l,L:()=>c});var s=n(62993),i=n(78147),a=n(86826),r=n(30373),o=n(77735);const l=(0,s.R)({commentCount:(0,i.w)(a.Rx),commentsEnabled:(0,i.w)(a.O7),likesCount:(0,i.w)(a.Rx),avatarUrls:(0,i.w)((0,r.I)(a.Z_))}),c=(0,o.n)((0,s.R)({socialInfo:(0,i.w)(l)}),(e=>{if(e.socialInfo){const{commentCount:t,commentsEnabled:n,likesCount:s,avatarUrls:i}=e.socialInfo;return{socialInfo:{commentCount:t,commentsEnabled:n,likeCount:s,likesCount:s,commentatorAvatars:i}}}return e}))},32342:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var s=n(51780),i=n(86826);const a=(0,s.v)({commentsDocumentId:i.Z_,allCommentsLink:i.Z_,publisherId:i.Z_,channelOwnerUid:i.Rx})},249:(e,t,n)=>{"use strict";n.d(t,{PO:()=>r,ln:()=>l,mC:()=>d,Hw:()=>u});var s=n(7689),i=n(75971);const a=s.d_("publisher","domain","user"),r=a.parser,o=s.d_("subscribed","not_subscribed","blocked"),l=o.parser,c=s.v0({ratio_1x1:s.wY(s.Z_())}),d=s.v0({strongestId:s.Z_(),id:s.Z_(),type:a,status:o,title:s.Z_(),logo:s.Z_(),logoBackgroundColor:s.Z_(),feedLink:s.wY(s.Z_()),subtitle:s.wY(s.Z_()),description:s.wY(s.Z_()),feedApiLink:s.wY(s.Z_()),subscriptionForbidden:s.wY(s.O7()),subscribers:s.wY(s.Rx()),redesignLogos:s.wY(c),isVerified:s.O7(),vacuumCounterId:s.wY(s.Rx()),metricaId:s.wY(s.Rx()),bulkParams:s.wY(s.Z_()),statEvents:s.wY(i.E0),freshChannelTitle:s.wY(s.Z_()),isMyChannel:s.wY(s.O7()),publisherId:s.wY(s.Z_())}),u=d.parser},75971:(e,t,n)=>{"use strict";n.d(t,{E0:()=>i,np:()=>a,KF:()=>r,Oh:()=>o});var s=n(7689);const i=s.IM(s.Z_()),a=i.parser,r=s.Z_(),o=r.parser;s.v0({bulkParams:r,statEvents:i}).parser},78047:(e,t,n)=>{"use strict";n.d(t,{i0:()=>m,ap:()=>p,XJ:()=>b});var s=n(51780),i=n(86826),a=n(78147),r=n(46821),o=n(40352),l=n(30373),c=n(249),d=n(75971);const u=(0,s.v)({logo:i.Z_,framedLogo:(0,a.w)(i.Z_),logoSizes:(0,r.I)(i.Z_),logoBackgroundColor:i.Z_}),m=(0,s.v)({id:i.Z_,type:(0,o.i)("suite"),name:i.Z_,description:(0,a.w)(i.Z_),image:(0,a.w)(u),feedLink:(0,a.w)(i.Z_),feedShareLink:(0,a.w)(i.Z_),feedApiLink:(0,a.w)(i.Z_),publicationsCount:i.Rx,bulkParams:(0,a.w)(d.Oh),source:(0,a.w)(c.Hw)}),p=(0,s.v)({items:(0,l.I)(m),allSuiteLink:i.Z_,addSuiteLink:(0,a.w)(i.Z_),more:(0,a.w)(i.Z_)}),h=(0,s.v)({suiteId:i.Z_}),b=(0,s.v)({suites:(0,a.w)((0,l.I)(h))})},3676:(e,t,n)=>{"use strict";n.d(t,{Q8:()=>p,L4:()=>h,$3:()=>b,nk:()=>v});var s=n(46997),i=n(62993),a=n(86826),r=n(30373),o=n(51780),l=n(78147),c=n(77735),d=n(46821);const u=["video_content_id","partner_stat_id"],m=(0,i.R)({bitrate:a.Rx,height:a.Rx,width:a.Rx,url:a.Z_}),p=(0,r.I)(m),h=(0,o.v)({videoContentId:(0,l.w)(a.Z_)}),b=(0,c.n)((0,i.R)({duration:(0,l.w)(a.Rx),from:a.Z_,partner_stat_id:(0,l.w)(a.Z_),puid:(0,l.w)(a.Z_),video_content_id:(0,l.w)(a.Z_),from_block:(0,l.w)(a.Z_),strongest_id:(0,l.w)(a.Z_),item_id:(0,l.w)(a.Z_),stream_block:(0,l.w)(a.Z_),rid:(0,l.w)(a.Z_),ppi:(0,l.w)(a.Z_)}),(e=>{let{video_content_id:t,partner_stat_id:n}=e,i=(0,s.Z)(e,u);return Object.assign({"video-content-id":t,"partner-stat-id":n},i)})),g=(0,o.v)({pageId:(0,l.w)(a.Z_),categoryId:(0,l.w)(a.Rx)}),v=(0,o.v)({ad:(0,l.w)(g),additionalParams:(0,l.w)(b),autoplay:(0,l.w)(a.O7),isShortVideo:(0,l.w)(a.O7),duration:(0,l.w)(a.Rx),hasSound:(0,l.w)(a.O7),heartbeatPos:(0,l.w)((0,r.I)(a.Rx)),height:(0,l.w)(a.Rx),id:a.Z_,streams:(0,l.w)((0,r.I)(a.Z_)),videoInfo:(0,l.w)(h),views:(0,l.w)(a.Rx),viewsFormatted:(0,l.w)(a.Z_),width:(0,l.w)(a.Rx),videoFeedUrl:(0,l.w)(a.Z_),viewedTime:(0,l.w)(a.Rx),firstFrames:(0,l.w)(p),previews:(0,l.w)((0,d.I)(a.Z_)),longPreviews:(0,l.w)((0,d.I)(a.Z_))})},50901:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});const s=e=>Object.keys(e).map((t=>e[t]))},83714:(e,t,n)=>{"use strict";var s;let i;n.d(t,{P:()=>a}),function(e){e.server="server",e.offline="offline",e.timeout="timeout",e.other="other"}(i||(i={}));class a extends Error{constructor(e,t,n){var s;const{host:r,pathname:o,search:l,hash:c,searchParams:d}=new URL(t,document.location.origin),u=`${e.toUpperCase()} ${a.replaceId(o)}`;super(`Error from API: ${u}`),this.handleId=u,this.method=e,this.host=r;const m=`${o}${l&&`?${l}`}${c&&`#${c}`}`;this.fullPath=m.length>200?`${m.slice(0,197)}...`:m,this.path=o,this.nativeError=n,this.clientRid=null!=(s=d.get("clientRid"))?s:void 0,this.errorType=i.other}}a.replaceId=e=>e.replace(/comments\/\d{4,}/,"comments/{commentId}").replace(/([/\-_]|^)[0-9a-f]{24}([/\-_]|$)/g,"$1{ObjectId}$2"),a.Unexpected=class extends a{constructor(e,t,n){super(e,t,n),this.message="Unexpected from API"}},a.NetworkBase=class extends a{constructor(e,t,n){super(e,t,n),this.fromTransport=!0}},a.Network=class extends a.NetworkBase{constructor(e,t,n){super(e,t,n)}},a.Offline=class extends a.NetworkBase{constructor(e,t,n){super(e,t,n),this.message="Navigator Offline",this.errorType=i.offline}},a.Timeout=class extends a.NetworkBase{constructor(e,t,n){super(e,t),this.timeout=n,this.errorType=i.timeout}},a.Abort=class extends a.NetworkBase{constructor(e,t,n){super(e,t),this.reason=n}},a.ResponseBase=class extends a{constructor(e,t,n,s){super(e,t,s),this.fromResponse=!0,this.getResponse=()=>this.response.clone(),this.status=n.status,this.statusText=n.statusText,this.responseType=n.type,this.response=n,this.message=`Error from API: ${this.handleId} ${this.status} (${this.statusText})`}},a.Not2xx=class extends a.ResponseBase{constructor(e,t,n){super(e,t,n),this.errorType=i.server}},a.JavaException=((s=class extends a.ResponseBase{constructor(e,t,n,s){var a;super(e,t,n),this.errors=s,this.type=null==(a=s[0])?void 0:a.type,this.errorType=i.server}}).getIfPresent=(e,t,n,s)=>{if(!Array.isArray(null==s?void 0:s.errors)||!s.errors.length)return;const i=s.errors.map((e=>{if(null===e||"object"!=typeof e)return{type:"broken-error",message:"Broken error"};const{message:t="",type:n="Unknown"}=e;return{message:t,type:n}}));return new a.JavaException(e,t,n,i)},s),a.Parsing=class extends a.ResponseBase{constructor(e,t,n,s){super(e,t,n,s),this.message=`Parsing API response: ${this.handleId} ${this.status} (${this.statusText})`}}},19856:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var s=n(46997),i=(n(14072),n(53208),n(83714));const a=["timeout","retry","retryDelay","checkRetryNeeded","modArgs","checkResponse"],r=2e4,o=async(e,t={method:"GET"})=>{let{timeout:n=r,retry:o=0,retryDelay:l=0,checkRetryNeeded:c=(e=>e instanceof i.P.Network||e instanceof i.P.Offline),modArgs:d=(e=>e),checkResponse:u=(()=>{})}=t,m=(0,s.Z)(t,a);const p=t=>{const[s,a]=d([e,m],t);return new Promise(((e,r)=>{let o=()=>{};if(n>0){const e=setTimeout((()=>{r(new i.P.Timeout(a.method,s,n))}),n);o=()=>clearTimeout(e)}fetch(s,a).catch((e=>window.navigator&&!window.navigator.onLine?Promise.reject(new i.P.Offline(a.method,s,e)):Promise.reject(new i.P.Network(a.method,s,e)))).then((async e=>{const n=await u([s,a],e.clone(),t);if(n instanceof i.P.ResponseBase)throw n;return e})).then(e,r).then(o,o)}))};let h=o,b=null;do{try{return await p(h-o)}catch(e){if(!(e instanceof i.P&&await c(e,h-o)))throw e;b=e,l>0&&await new Promise((e=>{setTimeout(e,l)}))}}while(--h>0);throw b}},51262:(e,t,n)=>{"use strict";n.d(t,{_V:()=>l});n(14072);var s=n(19856);class i extends Error{constructor(e){super("FiledGetCsrf"),this.boundError=e}}let a=null,r=null,o=!0;const l=async({initialToken:e,headers:t}={})=>{if(o&&(o=!1,r=null!=e?e:null),"string"==typeof r)return r;if(a)return a;a=(0,s.I)("/media-api/csrf-token",{method:"GET",timeout:3e3,headers:t,credentials:"same-origin"}).then((e=>e.json())).then((e=>{const t=null==e?void 0:e.result;return"string"==typeof t?t:Promise.reject(new Error("Failed get csrf token from response"))})).then((e=>(r=e,e)),(e=>Promise.reject(new i(e))));const n=()=>{a=null};return a.then(n,n),a}},47696:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var s=n(46997),i=(n(14072),n(53208),n(95164)),a=n(83714),r=n(19856),o=n(51262);const l=["responseType","credentials"];let c=null;const d=async(e,t)=>{let{responseType:n="json",credentials:d="same-origin"}=t,u=(0,s.Z)(t,l);const m=await(async()=>{var e;const{token:t}=null!=(e=await(0,i.vX)())?e:{};if(t)return{Authorization:`Bearer ${t}`}})(),p=Object.assign({Accept:"application/json","X-Csrf-Token":await(0,o._V)({headers:m})},m);return u.body instanceof FormData||(p["Content-Type"]="application/json"),null!==c&&(p["X-FP-Token"]=c),u.headers&&Object.assign(p,u.headers),(0,r.I)(e,Object.assign({},u,{credentials:d,headers:p,checkResponse:async([e,{method:t}],n)=>{const s=n.headers.get("Content-Type");if(null!=s&&s.includes("application/json")){const s=await n.clone().json().catch((()=>{})),i=a.P.JavaException.getIfPresent(t,e,n,s);if(i)return i}if(!n.ok)return new a.P.Not2xx(t,e,n)}})).then((t=>{switch(n){case"text":return t.text();case"blob":return t.blob();case"json":{const n=t.headers.get("Content-Type");return null!=n&&n.includes("application/json")?t.json().catch((n=>{var s;return Promise.reject(new a.P.Parsing(null!=(s=u.method)?s:"GET",e,t,n))})):Promise.resolve()}default:return Promise.resolve()}}))}},83642:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var s=n(46997),i=n(43070),a=n(99013),r=n(47696);const o=["responseType"],l=e=>{const{responseType:t="json"}=e,n=(0,s.Z)(e,o);return(0,i.P)(Object.assign({},n,{req:async(e,s)=>{var i;const o=n.req(e),l="string"==typeof o?{url:o,query:e,method:"GET"}:o;return(0,r.T)((0,a.d)(l.url,{},l.query),{responseType:t,method:null!=(i=l.method)?i:"GET",body:l.body})}}))}},28539:(e,t,n)=>{"use strict";n.d(t,{RS:()=>D,b0:()=>L});n(14072),n(53208);var s=n(43688),i=n(87363),a=n.n(i),r=n(2004),o=n(12144),l=n(6792),c=n(12836),d=n(19670),u=n(23242),m=n.n(u),p=n(87240),h=n.n(p);const b=new(m())({id:"refresh_d57c--react",use:"refresh_d57c--react-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="refresh_d57c--react"><path d="M14.595 9.703a1 1 0 1 0-2 0h2zm-1.757-5.298.707.708a1 1 0 0 0 0-1.415l-.707.707zM10.14.293a1 1 0 1 0-1.415 1.414L10.14.293zM9.104 6.725a1 1 0 0 0 1.414 1.415L9.104 6.725zm3.49 2.978A4.297 4.297 0 0 1 8.298 14v2a6.297 6.297 0 0 0 6.298-6.297h-2zM8.298 14A4.297 4.297 0 0 1 4 9.703H2A6.297 6.297 0 0 0 8.297 16v-2zM4 9.703a4.297 4.297 0 0 1 4.297-4.298v-2A6.297 6.297 0 0 0 2 9.703h2zm4.297-4.298h4.54v-2h-4.54v2zm4.54-1 .708-.707c-.004-.004.002.002-.002-.001-.012-.012.01.009-.004-.005l-.018-.017-.068-.068a1975.117 1975.117 0 0 1-.274-.274l-.02-.021-.044-.043-.092-.093-.049-.048-.025-.025-.012-.013-.013-.013a.387.387 0 0 1-.007-.006l-.006-.007-.013-.013-.026-.026-.054-.054-.055-.055-.007-.007-.007-.007-.007-.007-.007-.007-.028-.028-.118-.117a31.312 31.312 0 0 1-.06-.06l-.008-.008-.007-.008-.008-.008-.008-.007-.03-.031-.063-.063-.008-.008-.008-.008-.016-.016-.008-.008a.548.548 0 0 1-.008-.008l-.016-.016-.016-.016-.016-.016-.016-.016-.009-.008a.702.702 0 0 0-.008-.008l-.033-.033-.032-.033-.009-.008-.008-.009-.008-.008-.008-.008-.034-.033-.033-.034-.034-.034-.275-.275-.283-.283-.01-.009-.008-.009a.747.747 0 0 0-.018-.018l-.009-.009-.009-.008-.009-.01-.009-.008-.035-.036-.018-.018-.018-.018-.018-.018-.018-.018a10.94 10.94 0 0 1-.036-.035l-.018-.018-.009-.01-.008-.008-.036-.036-.018-.018-.01-.009-.008-.009-.036-.035-.018-.018-.018-.018-.035-.036-.071-.071A2.713 2.713 0 0 0 11 1.154l-.018-.018-.035-.035-.071-.07-.07-.07-.018-.018-.017-.018a23.877 23.877 0 0 0-.009-.009l-.009-.008a17.859 17.859 0 0 0-.017-.018l-.035-.034-.034-.035-.069-.069-.068-.068-.134-.134-.13-.13-.017-.016-.016-.016-.016-.016-.008-.008a.562.562 0 0 0-.008-.008L10.187.34l-.008-.008a.554.554 0 0 0-.024-.023L10.14.293 8.724 1.707l.063.063.064.064.008.008.008.008.016.016.017.016.008.009.008.008.008.008.008.008.017.017.033.033.134.133.034.034.017.017a6.864 6.864 0 0 1 .017.018l.068.068.07.07a7.124 7.124 0 0 1 .017.017l.018.017.008.01.01.008.017.017.008.01.01.008.008.009.009.008c.043.043-.026-.025.017.018l.018.018.035.035.009.009.009.009.009.008.008.01.285.284a1539.692 1539.692 0 0 1 .57.569l.034.035.035.035a50.145 50.145 0 0 0 .138.138l.034.034.017.017.017.016.033.034.034.034.033.033.033.033.13.13.017.017.016.016.008.007.008.008c.007.007.008.01.016.016l.015.016a.653.653 0 0 1 .008.008l.008.008.031.03.008.009.008.007.007.008.008.008.016.015.007.008.008.008.06.06.117.117.057.057.055.055.205.205.012.011.011.012.012.012.012.012.045.045.043.043.021.021.02.02.006.005.005.005.01.01.019.02.037.037.01.01.008.008.004.004.005.005.004.004.005.004c.05.05-.017-.016.032.033l.016.016a.363.363 0 0 0 .008.007c.008.01-.002 0 .007.008l.004.004.003.003.008.007c0 .002.002.003.003.004l.004.003c0 .002.002.003.003.004a.091.091 0 0 0 .003.003l.05.05.068.068.018.018.002.002.002.002.001.001.708-.707zm-.706-.707L9.104 6.725l1.414 1.415 3.027-3.027-1.414-1.415z" fill="currentColor" /></symbol>'});function g(e){return h().add(b),a().createElement("svg",(0,d.Z)({viewBox:"0 0 16 16"},e),a().createElement("use",{xlinkHref:"#refresh_d57c--react"}))}g.displayName="SpriteSymbolComponent(refresh_d57c--react)";var v=n(51838),_=n.n(v);const f=new(m())({id:"spinner_d7e2--react",use:"spinner_d7e2--react-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="spinner_d7e2--react"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.445 5.348A8 8 0 0 0 12 4V2A10 10 0 1 1 2 12h2a8 8 0 1 0 12.445-6.652z" fill="currentColor" /></symbol>'});function y(e){return h().add(f),a().createElement("svg",(0,d.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#spinner_d7e2--react"}))}y.displayName="SpriteSymbolComponent(spinner_d7e2--react)";const w="loading-boundary-stacked-layout__boundary-1G",k="loading-boundary-stacked-layout__loading-2_",S="loading-boundary-stacked-layout__noLoadingTransition-Gi",E="loading-boundary-stacked-layout__error-ub",C="loading-boundary-stacked-layout__isLoading-2q",I="loading-boundary-stacked-layout__content-2l",P="loading-boundary-stacked-layout__isError-VK",T=({isLoading:e,isError:t,noLoadingTransition:n,errorContent:s,loadingContent:i,children:r})=>a().createElement("div",{className:_()(w,{[S]:n,[P]:t,[C]:e&&!t})},a().createElement("div",{className:I},r),a().createElement("div",{className:E},s),a().createElement("div",{className:k},i)),R="compact-loading-boundary__spinnerContainer-2V",A="compact-loading-boundary__opaque-1Q",x="compact-loading-boundary__spinner-3l",O="compact-loading-boundary__errorText-25",N="compact-loading-boundary__icon-3y",M="compact-loading-boundary__padded-3q",L=((0,r.A)((({loadingCount:e,contentReady:t,errors:n,retry:r,children:l,ownProps:{opacity:c,isErrorPadded:d,errorText:u=a().createElement(o.oc.errorText,null),retryText:m=a().createElement(o.oc.retry,null)}})=>{const[p]=n;return(0,i.useEffect)((()=>{p&&s.k.error((0,s.X)(p))}),[p]),a().createElement(L,{error:p,isErrorPadded:d,isContentReady:t,isLoading:e>0,errorText:u,retryText:m,opacity:c,retry:r},l)})),({children:e,isLoading:t,error:n,errorText:s,retryText:i,isErrorPadded:r,isContentReady:o=!0,opacity:l="opaque-unless-content-ready",retry:c})=>{const d="opaque-unless-content-ready"===l?!o:"opaque"===l;return a().createElement(T,{isLoading:t,isError:!!n,noLoadingTransition:t&&!o,loadingContent:a().createElement("div",{className:_()(R,{[A]:d})},a().createElement("div",{className:x},a().createElement(y,{className:N}))),errorContent:a().createElement("div",{className:r?M:void 0},a().createElement(D,{retry:c,isRetrying:t,text:s,retryText:i}))},e)}),D=({retry:e,isRetrying:t,text:n,retryText:s,buttonView:i="pseudo"})=>a().createElement(a().Fragment,null,a().createElement(l.x,{as:"p",color:"low",className:O},n),a().createElement(c.z,{view:i,size:"s",onClick:e,spinner:t,disabled:t,iconComponent:g},s))},12144:(e,t,n)=>{"use strict";n.d(t,{oc:()=>a});var s=n(32976);const i={retry:{en:"Try again",ru:"Попробовать ещё раз",_context:"Кнопка повторной загрузки данных после ошибки",_remoteKey:"retry"},errorText:{en:"Something went wrong. Try again?",ru:"Что-то пошло не так и мы не смогли загрузить данные. Давайте попробуем ещё раз?",_context:"Стандартное сообщение об ошибке загрузки данных",_remoteKey:"errorText"},errorTitle:{en:"Something didn't load",ru:"Что-то не загрузилось",_context:"Стандартное сообщение об ошибке загрузки данных",_remoteKey:"errorTitle"},errorHint:{en:"",ru:"Мы поищем проблему на своей стороне, а вы попробуйте ещё раз чуть позже.",_context:"Дополнительный текст к сообщению об ошибке загрузки данных",_remoteKey:"errorHint"},networkErrorTitle:{en:"Connection problems",ru:"Проблемы со связью",_context:"Сообщение об ошибке, когда у пользователя нет интернета",_remoteKey:"networkErrorTitle"},networkErrorHint:{en:"Couldn't load data. Check your internet connection.",ru:"Мы не смогли загрузить данные. Проверьте подключение к интернету.",_context:"",_remoteKey:"networkErrorHint"}},a=(0,s.Wh)(i);(0,s.bN)(i)},16080:(e,t,n)=>{"use strict";n.d(t,{B:()=>P});var s=n(27202),i=n(51838),a=n.n(i),r=n(87363),o=n.n(r),l=n(19670),c=n(23242),d=n.n(c),u=n(87240),m=n.n(u);const p=new(d())({id:"arrow_short_back_b24f--react",use:"arrow_short_back_b24f--react-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow_short_back_b24f--react"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.207 7.793a1 1 0 0 1 0 1.414L12.414 16l6.793 6.793a1 1 0 0 1-1.414 1.414l-7.5-7.5a1 1 0 0 1 0-1.414l7.5-7.5a1 1 0 0 1 1.414 0z" fill="currentColor" /></symbol>'});function h(e){return m().add(p),o().createElement("svg",(0,l.Z)({viewBox:"0 0 32 32"},e),o().createElement("use",{xlinkHref:"#arrow_short_back_b24f--react"}))}h.displayName="SpriteSymbolComponent(arrow_short_back_b24f--react)";var b=n(47592);const g="mobile-page-layout__page-3K",v="mobile-page-layout__header-2_",_="mobile-page-layout__backButton-2w",f="mobile-page-layout__backButtonIcon-2r",y="mobile-page-layout__center-22",w="mobile-page-layout__title-Vx",k="mobile-page-layout__subtitle-2R",S="mobile-page-layout__submitButton-2X",E="mobile-page-layout__submitButtonDisabled-1I",C="mobile-page-layout__loader-Sl",I="mobile-page-layout__content-39",P=({title:e,submitButton:t,onSubmitButtonClick:n,onDisabledSubmitButtonClick:i,onCancelButtonClick:r,isSubmitButtonDisabled:l,children:c,subTitle:d,loading:u,visible:m=!0})=>((0,s.N)(m),m?o().createElement("div",{className:g},o().createElement("div",{className:v},o().createElement("div",{onClick:r,className:_},o().createElement(h,{className:f})),o().createElement("div",{className:y},o().createElement("span",{className:w},e),d&&o().createElement("span",{className:k},d)),o().createElement("span",{className:a()(S,{[E]:l||u}),onClick:()=>!u&&(l?null==i?void 0:i():null==n?void 0:n())},t)),o().createElement("div",{className:I},c),u&&o().createElement("div",{className:C},o().createElement(b.y,{progress:!0,position:"center",size:"m"}))):null)},64770:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});n(14072),n(53208);var s=n(62781),i=n(54934),a=n(87363);const r=({scrollDeltaPercent:e=.8,scrollThrottleMs:t=200,onScrollToBottom:n,needHandleScroll:r})=>{const[o,l]=(0,a.useState)(null),c=(0,s.m)((()=>{if(!o||!r)return;const{scrollTop:t,scrollHeight:s,clientHeight:i}=o;s*e<t+i&&n()}));return(0,a.useEffect)((()=>{o&&c()}),[c,o]),(0,a.useEffect)((()=>{const e=(0,i.P)(c,t);return null==o||o.addEventListener("scroll",e,{passive:!0}),()=>null==o?void 0:o.removeEventListener("scroll",e)}),[c,t,o]),l}},65602:(e,t,n)=>{"use strict";n.d(t,{sS:()=>h});var s=n(87363),i=n.n(s),a=n(15600),r=n(75670),o=n(40018),l=n(16639),c=n(16163),d=n(2038),u=n(32976);const m={shortYears:{en:"{value} y",ru:"{value} г",_context:'Короткое обозначение лет, например "5 г"',_remoteKey:"shortYears"},shortMonths:{en:"{value} m",ru:"{value} м",_context:'Короткое обозначение месяцев, например "5 м"',_remoteKey:"shortMonths"},shortDays:{en:"{value} d",ru:"{value} д",_context:'Короткое обозначение дней, например "5 д"',_remoteKey:"shortDays"},shortHours:{en:"{value} h",ru:"{value} ч",_context:'Короткое обозначение часов, например "5 ч"',_remoteKey:"shortHours"},shortMinutes:{en:"{value} min",ru:"{value} мин",_context:'Короткое обозначение минут, например "5 мин"',_remoteKey:"shortMinutes"},shortSeconds:{en:"{value} s",ru:"{value} с",_context:'Короткое обозначение секунд, например "5 с"',_remoteKey:"shortSeconds"},justNow:{en:"just now",ru:"только что",_context:"",_remoteKey:"justNow"},monthsForDate:{be:"студзеня, лютага, сакавіка, красавіка, мая, чэрвеня, ліпеня, жніўня, верасня, кастрычніка, лістапада, снежня",en:"January, February, March, April, May, June, July, August, September, October, November, December",kk:"қаңтар, ақпан, наурыз, сәуір, мамыр, маусым, шілде, тамыз, қыркүйек, қазан, қараша, желтоқсан",ru:"января, февраля, марта, апреля, мая, июня, июля, августа, сентября, октября, ноября, декабря",uk:"січня, лютого, березня, квітня, травня, червня, липня, серпня, вересня, жовтня, листопада, грудня",vi:"Tháng 1, tháng 2, tháng 3, tháng 4, tháng 5, tháng 6, tháng 7, tháng 8, tháng 9, tháng 10, tháng 11, tháng 12",zh_hans:"January, February, March, April, May, June, July, August, September, October, November, December",_context:"publishers.settings.months_for_date",_remoteKey:"monthsForDate"},today:{be:"Сёння",en:"Today",kk:"Бүгін",ru:"Сегодня",uk:"Сьогодні",vi:"Hôm nay",zh_hans:"Today",_context:"publishers.settings.today",_remoteKey:"today"},yesterday:{be:"Учора",en:"Yesterday",kk:"Кеше",ru:"Вчера",uk:"Учора",vi:"Hôm qua",zh_hans:"Yesterday",_context:"publishers.settings.yesterday",_remoteKey:"yesterday"},twoDaysAgoText:{be:"2 дні таму",en:"2 days ago",kk:"2 күн бұрын",ru:"2 дня назад",uk:"2 дні тому",vi:"2 ngày trước",zh_hans:"2 days ago",_context:"publishers.settings.2_days_ago_text",_remoteKey:"twoDaysAgoText"},threeDaysAgoText:{be:"3 дні таму",en:"3 days ago",kk:"3 күн бұрын",ru:"3 дня назад",uk:"3 дні тому",vi:"3 ngày trước",zh_hans:"3 days ago",_context:"publishers.settings.3_days_ago_text",_remoteKey:"threeDaysAgoText"}},p=(0,u.Wh)(m);(0,u.bN)(m);const h=(e,t=new Date)=>{const n=(0,a.Z)(t,e);if(0!==n)return i().createElement(p.shortYears,{value:n});const s=(0,r.Z)(t,e);if(0!==s)return i().createElement(p.shortMonths,{value:s});const u=(0,o.Z)(t,e);if(0!==u)return i().createElement(p.shortDays,{value:u});const m=(0,l.Z)(t,e);if(0!==m)return i().createElement(p.shortHours,{value:m});const h=(0,c.Z)(t,e);if(0!==h)return i().createElement(p.shortMinutes,{value:h});const b=(0,d.Z)(t,e);return 0!==b?i().createElement(p.shortSeconds,{value:b}):i().createElement(p.justNow,null)}},52727:(e,t,n)=>{"use strict";n.d(t,{E$:()=>s,pc:()=>i,eE:()=>a,fL:()=>r});n(14072);const s=(e,{namespace:t,groupId:n,imageName:s},i)=>t&&n&&s&&`https://${e}/get-${t}/${n}/${s}/${i}`||void 0,i=(e,t)=>{let n=e;return Object.keys(t).forEach((e=>{var s;const i=(null==(s=t[e])?void 0:s.toString())||"";n=n.replace(new RegExp(e,"g"),i)})),n},a=(e,t="orig")=>null==e?void 0:e.replace("{size}",t),r=e=>{const t="undefined"!=typeof window?window.location.origin:void 0;return t?`${t}/suite/${e}`:""}},48422:(e,t,n)=>{"use strict";n.d(t,{Z_:()=>i,Rx:()=>a,O7:()=>r});const s=(e,t)=>(n=t)=>t=>typeof t===e?t:n,i=s("string",""),a=s("number",0),r=s("boolean",!1)},82204:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var s=n(12017);const i=e=>t=>{const n={};return(0,s.K)(t)?Object.keys(e).forEach((s=>{var i;n[s]=e[s](t[(i=s,i.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)))])})):Object.keys(e).forEach((t=>{n[t]=e[t](void 0)})),n}},9395:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});const s=(e,t)=>{const n=e;return e=>"string"==typeof e&&n.includes(e)?e:t}},12017:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});const s=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e},12836:(e,t,n)=>{"use strict";n.d(t,{z:()=>X});var s=n(19670),i=n(46997),a=n(87363),r=n.n(a),o=n(64555),l=n(42069),c=n(87865),d=n(39263),u=n(83552),m=n(54936),p=n(84658),h=n(42140),b=n(77400),g=n(67526),v=n(55916),_=n(76781),f=n(34574),y=n(17008),w=n(87605),k=n(16240),S=n(31953),E=n(2983),C=n(78565),I=n(23986),P=n(48377),T=n(80147),R=n(35727);const A=(0,l.withBemMod)((0,o.cnButton)(),{view:"danger"});n(55578);const x=(0,l.withBemMod)((0,o.cnButton)(),{size:"l"});n(31524);const O=(0,l.withBemMod)((0,o.cnButton)(),{size:"m"});n(39977);const N=(0,l.withBemMod)((0,o.cnButton)(),{size:"s"}),M=(0,l.withBemMod)((0,o.cnButton)(),{size:"xs"}),L=(0,l.withBemMod)((0,o.cnButton)(),{size:"xl"}),D=(0,l.composeU)(L,x,O,N,M);var B=n(8212),F=n(16745);const Z=["spinner","onClick"],V=(0,F.G)(B.Spin),U=(0,l.withBemMod)((0,o.cnButton)(),{view:"promo"}),j=(0,l.withBemMod)((0,o.cnButton)(),{view:"outlined"}),z=(0,l.withBemMod)((0,o.cnButton)(),{view:"black"}),H=(0,l.withBemMod)((0,o.cnButton)(),{view:"carrot"}),q=(0,l.composeU)((0,l.composeU)(c.x,d.x,u.j,m.Z),(0,l.composeU)(p.p,h.A,b.L),(0,l.composeU)(g.Q,v.W,_.J,f.F),(0,l.composeU)(y.x,w.E)),$=(0,l.composeU)((0,l.composeU)(C.withViewDefault,I.withViewAction,H,P.withViewClear,T.withViewLink),(0,l.composeU)(R.withViewPseudo,A,U),(0,l.composeU)(j,z)),G=(0,l.composeU)(k.e,S.$),W=(0,l.compose)(q,D,G,$,E.V,(e=>t=>{let{spinner:n,onClick:a}=t,l=(0,i.Z)(t,Z);return r().createElement(e,(0,s.Z)({},l,{icon:n?void 0:l.icon,iconLeft:n?void 0:l.iconLeft,iconRight:n?void 0:l.iconRight,onClick:n?void 0:a}),n?r().createElement(r().Fragment,null,r().createElement("div",{className:(0,o.cnButton)("Hidden")},l.children),r().createElement("div",{className:(0,o.cnButton)("Center")},r().createElement(V,{className:(0,o.cnButton)("Spin"),view:"default",progress:!0}))):l.children)}))(o.Button),Y=["view","size","iconComponent","iconRightComponent","className"],K=e=>e&&(t=>r().createElement(e,{className:t})),X=r().memo((e=>{let{view:t="default",size:n="m",iconComponent:a,iconRightComponent:l,className:c}=e,d=(0,i.Z)(e,Y);return r().createElement(W,(0,s.Z)({},d,{className:(0,o.cnButton)({icon_only:!d.children},[c]),iconLeft:K(a),iconRight:K(l),size:n,view:t}))}))},252:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});const s=(0,n(1947).cn)("Menu")},29470:(e,t,n)=>{"use strict";n.d(t,{t:()=>b,l:()=>h});var s=n(87363),i=n.n(s),a=n(6792),r=n(19670),o=n(23242),l=n.n(o),c=n(87240),d=n.n(c);const u=new(l())({id:"arrow_short_forward_9fb7--react",use:"arrow_short_forward_9fb7--react-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="arrow_short_forward_9fb7--react"><path d="M4.796 12.793 9.586 8l-4.79-4.793a1 1 0 0 1 1.415-1.414l5.496 5.5a1 1 0 0 1 0 1.414l-5.496 5.5a1 1 0 0 1-1.415-1.414z" fill="currentColor" /></symbol>'});function m(e){return d().add(u),i().createElement("svg",(0,r.Z)({viewBox:"0 0 16 16"},e),i().createElement("use",{xlinkHref:"#arrow_short_forward_9fb7--react"}))}m.displayName="SpriteSymbolComponent(arrow_short_forward_9fb7--react)";var p=n(252);const h=(0,s.memo)((({text:e,hint:t,icon:n,color:s="full",hintColor:r="low",addonAfter:o,textMaxLines:l,hintMaxLines:c,details:d=!1,disabled:u=!1})=>i().createElement("div",{className:(0,p.s)("MenuItemContent",{disabled:u})},n?i().createElement(a.x,{as:n,className:(0,p.s)("MenuItemIcon"),color:s}):null,i().createElement("div",{className:(0,p.s)("MenuItemTextContent")},i().createElement(a.x,{className:(0,p.s)("MenuItemText"),maxLines:l,overflow:"number"==typeof l?"ellipsis":void 0,color:s,typography:"text-16-20"},e),void 0!==t?i().createElement(a.x,{className:(0,p.s)("MenuItemHint"),maxLines:c,overflow:"number"==typeof c?"ellipsis":void 0,typography:"text-13-16"},t):null),!1!==d?i().createElement(a.x,{as:"div",typography:"text-16-20",color:r,className:(0,p.s)("MenuItemDetails")},"boolean"==typeof d?null:i().createElement("span",{className:(0,p.s)("MenuItemDetailsText")},d),i().createElement(m,{className:(0,p.s)("MenuItemDetailsIcon")})):null,o))),b=(0,s.memo)((({text:e,hint:t,color:n="full",imageUrl:s,addonAfter:r,disabled:o=!1,textMaxLines:l,hintMaxLines:c})=>i().createElement("div",{className:(0,p.s)("MenuItemContent",{disabled:o,mobile:!1})},i().createElement("div",{className:(0,p.s)("MenuItemImage"),style:s?{backgroundImage:`url(${s})`}:void 0}),i().createElement("div",{className:(0,p.s)("MenuItemTextContent")},i().createElement(a.x,{className:(0,p.s)("MenuItemText"),color:n,maxLines:l,overflow:"number"==typeof l?"ellipsis":void 0,typography:"text-16-20"},e),void 0!==t?i().createElement(a.x,{className:(0,p.s)("MenuItemHint"),maxLines:c,overflow:"number"==typeof c?"ellipsis":void 0,typography:"text-13-16"},t):null),r)))},92481:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var s=n(19670),i=n(46997),a=n(87363),r=n.n(a),o=n(252);const l=["component","stopPropagation","className"],c=e=>{let{component:t,stopPropagation:n,className:a}=e,c=(0,i.Z)(e,l);return r().createElement(t,(0,s.Z)({},c,{tabIndex:-1,className:(0,o.s)("ItemInteractive",{},[a]),onClick:n?e=>{e.stopPropagation(),null==c.onClick||c.onClick(e)}:c.onClick,onKeyDown:n?e=>{e.stopPropagation(),null==c.onKeyDown||c.onKeyDown(e)}:c.onKeyDown}))}},53984:(e,t,n)=>{"use strict";n.d(t,{v2:()=>S});n(14072),n(53208);var s=n(87363),i=n.n(s),a=n(19670),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"check_f782--react",use:"check_f782--react-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="check_f782--react"><path d="m7 17 5.965 5.965c.02.02.05.02.07 0L26 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" /></symbol>'});function u(e){return c().add(d),i().createElement("svg",(0,a.Z)({viewBox:"0 0 32 32"},e),i().createElement("use",{xlinkHref:"#check_f782--react"}))}u.displayName="SpriteSymbolComponent(check_f782--react)";var m=n(252);n(48427),n(76508);const p=(0,s.memo)((({needIconGlyph:e=!0,checked:t=!0,disabled:n=!1,type:a="menuitem",className:r,onKeyDown:o,tabIndex:l,children:c,onClick:d,title:p,item:h})=>{const b=(0,s.useCallback)((e=>d(e,h)),[h,d]);return i().createElement("li",{id:h.id,title:p,tabIndex:l,onClick:n?void 0:b,onKeyDown:(0,s.useCallback)((e=>o(e,h)),[h,o]),className:(0,m.s)("Item",{checked:t,disabled:n,type:a},[r]),"aria-selected":t,"aria-disabled":n},c,e&&t?i().createElement(u,{className:"CheckMark"}):null)}));var h=n(58514);const b=(0,h.cnMenu)("Item"),g=(0,h.cnMenu)("Group"),v=(0,h.cnMenu)("ItemInteractive"),_=e=>e.className.includes(b),f=e=>e.className.includes(g),y=e=>{var t;const n=null==(t=e.parentNode)?void 0:t.parentNode;return n&&f(n)?n:null},w=e=>{var t;return"true"===(null==(t=e.attributes.getNamedItem("aria-disabled"))?void 0:t.value)};let k=0;class S extends s.PureComponent{constructor(...e){return super(...e),this.lastFocusedElement=null,this.idsMap=new WeakMap,this.handleMenuBlur=e=>{e.currentTarget.tabIndex=0},this.handleMenuFocus=e=>{var t,n;e.currentTarget.tabIndex=-1,e.currentTarget===e.target&&(null!=(t=this.lastFocusedElement)&&t.isConnected||(this.lastFocusedElement=(e=>{var t;const n=e.querySelector(`.${b}[aria-disabled=false]`);return null!=(t=null==n?void 0:n.querySelector(`.${v}`))?t:n})(e.currentTarget)),null==(n=this.lastFocusedElement)||n.focus())},this.handleClick=(e,t)=>{null==t.onClick||t.onClick(e);const{value:n,onChange:s}=this.props;if(s){let e;e=Array.isArray(n)?n.includes(t.value)?n.filter((e=>e!==t.value)):n.concat(t.value):t.value,s({target:{value:e}})}},this.handleKeyDown=(e,t)=>{if(!e.shiftKey)switch(e.key){case"ArrowUp":{e.preventDefault();const t=(e=>{var t,n;let s=e;do{var i;f(s)&&s.children.length>0?s=s.lastChild:(s.previousSibling||(s=y(s)),s=null==(i=s)?void 0:i.previousSibling)}while(s&&(!_(s)||w(s)));return null!=(t=null==(n=s)?void 0:n.querySelector(`.${v}`))?t:s})(e.currentTarget);t&&(this.lastFocusedElement=t,t.focus());break}case"ArrowDown":{e.preventDefault();const t=(e=>{var t,n;let s=e;do{var i;f(s)&&s.children.length>0?s=s.firstChild:(s.nextSibling||(s=y(s)),s=null==(i=s)?void 0:i.nextSibling)}while(s&&(!_(s)||w(s)));return null!=(t=null==(n=s)?void 0:n.querySelector(`.${v}`))?t:s})(e.currentTarget);t&&(this.lastFocusedElement=t,t.focus());break}case"Enter":case"Space":this.handleClick(e,t)}},this.renderItem=(e,t)=>this.props.renderItem?this.props.renderItem(e,t):i().createElement(t,e),this.renderItems=e=>{const{value:t}=this.props;return e.map((e=>{if("items"in e)return i().createElement("li",{key:this.getKey(e),title:e.title,className:(0,m.s)("Group")},i().createElement("ul",{className:(0,m.s)("GroupList")},this.renderItems(e.items)));const{title:n,content:a,disabled:r,value:o,type:l}=e,c=Array.isArray(t)?t.includes(o):t===o;return i().createElement(s.Fragment,{key:this.getKey(e)},this.renderItem({item:e,title:n,disabled:r,type:l,tabIndex:-1,needIconGlyph:c,onKeyDown:this.handleKeyDown,onClick:this.handleClick,checked:c,children:a},p))}))},this}getKey(e){var t;let n=null!=(t="id"in e&&e.id)?t:this.idsMap.get(e);return n||(n="menu-item-"+(k=(k+1)%1e8),this.idsMap.set(e,n)),n}render(){const{disabled:e,value:t,items:n,className:s}=this.props,a=Array.isArray(t);return i().createElement("ul",{role:void 0!==t?"listbox":void 0,"area-disabled":e,"aria-multiselectable":a,className:(0,m.s)({view:"default",size:"m"},[s]),onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,tabIndex:0},this.renderItems(n))}}},92391:(e,t,n)=>{"use strict";n.d(t,{u:()=>b});var s=n(19670),i=n(46997),a=n(87363),r=n.n(a),o=n(83849),l=n.n(o),c=n(32243),d=n(12836),u=n(99501),m=n(59049),p=n(43016);const h=["children","onClose","hasCloseButton","overflowHidden","visible","className"],b=r().memo((e=>{let{children:t,onClose:n,hasCloseButton:o=!0,overflowHidden:b,visible:g,className:v=""}=e,_=(0,i.Z)(e,h);const f=(0,a.useRef)(g),y=(0,a.useCallback)((e=>null==n?void 0:n(e.nativeEvent,"click")),[n]);return(0,a.useEffect)((()=>{f.current!==g&&((0,c.l)(g?1:-1),f.current=g)}),[g]),r().createElement(m.u,(0,s.Z)({theme:"normal",className:l()(v,{Modal_overflowHidden:b,Modal_isMobile:!1}),onClose:n,visible:g},_),t,o&&(g||t)?r().createElement(d.z,{iconComponent:u.Z,view:"clear",size:"s",pin:"circle-circle",onClick:y,className:(0,p.P)("CloseButton")}):null)}))},18101:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});const s=n(11276).a.getInstance()},80884:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var s=n(19670),i=n(46997),a=n(87363),r=n.n(a),o=n(99501),l=n(12836),c=n(21736),d=n(10480);const u=["hasCloseButton","onClose","className","children","view"],m=e=>{let{hasCloseButton:t,onClose:n,className:m,children:p,view:h="default"}=e,b=(0,i.Z)(e,u);const g=(0,a.useCallback)((e=>null==n?void 0:n(e.nativeEvent,"click")),[n]);return r().createElement(c.GI,(0,s.Z)({view:h,onClose:n,className:(0,d.l)({hasCloseButton:t},[m])},b),p,t&&r().createElement(l.z,{iconComponent:o.Z,view:"clear",size:"s",pin:"circle-circle",onClick:g,className:(0,d.l)("CloseButton")}))}},65288:(e,t,n)=>{"use strict";n.d(t,{w:()=>H,D:()=>q});var s=n(19670),i=(n(14072),n(53208),n(87363)),a=n.n(i),r=n(17306),o=n(83849),l=n.n(o),c=n(26239);const d="snackbar-context-provider__snackbarContextProvider-1M",u="snackbar-context-provider__isMobile-3M",m={showSnackbar:()=>(console.error("Snackbar context is not provided"),Promise.resolve({reason:"error"})),hideSnackbar:()=>(console.error("Snackbar context is not provided"),Promise.resolve())};function p(e,t,n,s){return()=>{if(!s)return;const{shouldAutoHideOnClick:i,onClick:a}=s;a&&a((()=>n(e,t))),(null==i||i)&&n(e,t)}}const h={standard:3e3,infinity:null},b="snackbar__snackbarComponent-3D",g="snackbar__isExpanded-1o",v="snackbar__snackbarComponentInnerContainer-2V",_="snackbar__generalContent-tS",f="snackbar__rightContent-Dy",y="snackbar__bottomContent-1h",w="snackbar__title-3L",k="snackbar__subtitle-1V",S="snackbar__actionText-3p",E="snackbar__buttonReset-NY";var C=n(23242),I=n.n(C),P=n(87240),T=n.n(P);const R=new(I())({id:"delete_20b3--react",use:"delete_20b3--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="delete_20b3--react"><path d="M12.663 1.5h-1.326c-1.069 0-1.49.09-1.921.27-.432.181-.792.453-1.084.82-.292.365-.493.746-.784 1.774L7.368 5H5a1 1 0 0 0 0 2h.5l.844 12.666A2.5 2.5 0 0 0 8.84 22h6.322a2.5 2.5 0 0 0 2.495-2.334L18.5 7.001V7h.5a1 1 0 1 0 0-2h-2.367l-.18-.636c-.292-1.028-.493-1.409-.785-1.775a2.694 2.694 0 0 0-1.084-.819c-.431-.18-.852-.27-1.92-.27zm1.89 3.5H9.447l.026-.09c.203-.717.29-.905.424-1.074a.696.696 0 0 1 .292-.221c.2-.084.404-.115 1.149-.115h1.326c.745 0 .95.031 1.149.115.122.05.21.118.292.221.135.169.221.357.424 1.074l.026.09zm1.943 2-.836 12.533a.5.5 0 0 1-.499.467H8.84a.5.5 0 0 1-.499-.467L7.505 7h8.99zM9.4 9.63l.272 7.796a.85.85 0 1 0 1.699-.06l-.272-7.795a.85.85 0 0 0-1.7.06zm4.381-.879a.85.85 0 0 0-.88.82l-.271 7.795a.85.85 0 1 0 1.699.06L14.6 9.63a.85.85 0 0 0-.82-.88z" fill="currentColor" /></symbol>'});function A(e){return T().add(R),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#delete_20b3--react"}))}A.displayName="SpriteSymbolComponent(delete_20b3--react)";const x=new(I())({id:"retry_89d3--react",use:"retry_89d3--react-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" id="retry_89d3--react">\n    <path d="M3.71167 8.99995C3.18224 8.99995 2.81948 8.46624 3.01429 7.97396L4.87624 3.26904C5.09793 2.70884 5.85628 2.62548 6.19438 3.12414L7.09451 4.45173C8.53272 3.51552 10.2255 2.99995 11.9983 2.99995C16.9688 2.99995 20.9983 7.02938 20.9983 11.9999C20.9983 16.9705 16.9688 20.9999 11.9983 20.9999C7.65593 20.9999 3.95556 17.903 3.156 13.6853C3.05313 13.1427 3.40961 12.6195 3.95223 12.5166C4.49485 12.4137 5.01813 12.7702 5.121 13.3128C5.74238 16.5905 8.6212 18.9999 11.9983 18.9999C15.8643 18.9999 18.9983 15.8659 18.9983 11.9999C18.9983 8.13395 15.8643 4.99995 11.9983 4.99995C10.6317 4.99995 9.32841 5.39258 8.21713 6.10749L9.38438 7.82906C9.72204 8.32706 9.3653 8.99995 8.76362 8.99995H3.71167Z" fill="currentColor" />\n</symbol>'});function O(e){return T().add(x),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#retry_89d3--react"}))}O.displayName="SpriteSymbolComponent(retry_89d3--react)";const N=new(I())({id:"plus_06c9--react",use:"plus_06c9--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="plus_06c9--react"><path d="M13 4a1 1 0 1 0-2 0v7H4a1 1 0 1 0 0 2h7v7a1 1 0 1 0 2 0v-7h7a1 1 0 1 0 0-2h-7V4z" fill="currentColor" /></symbol>'});function M(e){return T().add(N),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#plus_06c9--react"}))}M.displayName="SpriteSymbolComponent(plus_06c9--react)";const L="snakbar-icon__icon-Jr",D=({icon:e})=>a().createElement(e,{className:L}),B={trash:a().createElement(D,{icon:A}),retry:a().createElement(D,{icon:O}),plus:a().createElement(D,{icon:M})},F="snackbar-left-content__leftContent-1h",Z="snackbar-left-content__backgroundImage-2v",V="snackbar-left-content__isCircular-3R",U=e=>a().createElement(a().Fragment,null,"iconName"in e&&a().createElement("div",{className:F},B[e.iconName]),"imageSrc"in e&&a().createElement("div",{className:F},a().createElement("div",{style:{backgroundImage:`url(${e.imageSrc})`},className:l()(Z,{[V]:e.isCircular})}))),j=({id:e,title:t,subtitle:n,leftContent:s,successAction:r,cancelAction:o,rightIconAction:c,onHideSnackbarWithData:d,isActive:u,onRemove:m,lifeTime:C})=>{const I=!c&&!o&&r,P=!c&&o&&!r,T=c||I||P,R=!I&&!P&&(o||r),A=(0,i.useRef)(null),x=(0,i.useRef)(null),O=(0,i.useRef)(),N=(0,i.useRef)(!1),[M,L]=(0,i.useState)(0),D=p(e,{reason:"successAction"},d,r),F=p(e,{reason:"cancelAction"},d,o),Z=p(e,{reason:"rightIconAction"},d,c),V=(0,i.useCallback)((()=>{d(e,{reason:"timeout"})}),[d,e]);function j(){O.current&&clearTimeout(O.current)}function z(){if(!x.current||!A.current)return;const e="0px"!==getComputedStyle(A.current).height,t="auto"===A.current.style.height,n=e&&!t;e||m(),n?j():t&&(L(x.current.clientHeight),requestAnimationFrame((()=>{N.current=!1,setTimeout((()=>L(0)))})))}return(0,i.useEffect)((()=>{const e=h[C];return e&&(O.current=setTimeout(V,e)),j}),[C,V]),(0,i.useEffect)((()=>{u?x.current&&(N.current=!0,L(x.current.clientHeight)):z()}),[u]),a().createElement("div",{id:e,className:l()(b,{[g]:N.current}),style:{height:null!==M?M:"auto",opacity:N.current?1:0,transform:N.current?"translateY(0px)":"translateY(calc(100% + 16px))",marginBottom:N.current?16:0},onTransitionEnd:function(e){"height"===e.nativeEvent.propertyName&&(N.current?(u||(O.current=setTimeout((()=>z()),200)),L(null)):m())},ref:A},a().createElement("div",{className:v,ref:x},a().createElement("div",{className:_},s&&a().createElement(U,s),a().createElement("div",null,a().createElement("div",{className:w},t),n&&a().createElement("div",{className:k},n)),T&&a().createElement("div",{className:f},c&&a().createElement("button",{type:"button",className:E,onClick:Z},B[c.iconName]),I&&a().createElement("button",{type:"button",className:E,onClick:D},a().createElement("span",{className:S},null==r?void 0:r.title)),P&&a().createElement("button",{type:"button",className:E,onClick:F},a().createElement("span",{className:S},null==o?void 0:o.title)))),R&&a().createElement("div",{className:y},o&&a().createElement("button",{type:"button",className:E,onClick:F},a().createElement("span",{className:S},null==o?void 0:o.title)),r&&a().createElement("button",{type:"button",className:E,onClick:D},a().createElement("span",{className:S},r.title)))))},z=(0,i.createContext)(m),H=({children:e})=>{const t=(0,i.useRef)({}),[n,o]=(0,i.useState)([]),m=(0,r.dD)(),p=(0,i.useCallback)((e=>{const{id:n}=e;!function(e){const n=t.current[e];if(n){const e={reason:"programmatically"};n.onHide&&n.onHide(e),n.showSnackbarPromiseResolveFunction(e)}}(n),t.current[n]=e}),[]);const h=(0,i.useCallback)(((e,t)=>{let n;const s=new Promise((e=>{n=e}));return o((s=>{const i=s.findIndex((t=>t.id===e)),a=s[i];if(!a)return n(),s;const r=Object.assign({},a);r.isActive=!1;const o=t||{reason:"programmatically"};r.onHide&&r.onHide(o),r.showSnackbarPromiseResolveFunction(o);const l=[...s];return l[i]=r,r.hideSnackbarPromise.then(n),l})),s}),[]),b=(0,i.useCallback)((e=>{const n=function(e){var t,n;return Object.assign({},e,{id:null!=(t=e.id)?t:(0,c.x0)(),lifeTime:null!=(n=e.lifeTime)?n:"standard"})}(e);let s;const i=new Promise((e=>{s=e}));let a;const r=new Promise((e=>{a=e})),l=(0,c.x0)(),d=Object.assign({},n,{onHideSnackbarWithData:h,key:`${n.id}-${l}`,onRemove:()=>{o((e=>{const s=e.find((e=>e.id===n.id));s&&s.hideSnackbarPromiseResolveFunction();const i=e.filter((e=>e.id!==n.id)),a=function(e){const n=t.current[e];return delete t.current[e],n}(n.id);return a&&i.push(a),i}))},showSnackbarPromiseResolveFunction:s,hideSnackbarPromise:r,hideSnackbarPromiseResolveFunction:a,isActive:!0});return o((e=>{const t=e.find((e=>e.id===d.id));return t?(p(d),h(t.id),e):[...e,d]})),i}),[p,h]),g=(0,i.useMemo)((()=>({showSnackbar:b,hideSnackbar:h})),[b,h]);return a().createElement(z.Provider,{value:g},a().createElement("div",{className:l()(d,{[u]:m})},n.map((e=>a().createElement(j,(0,s.Z)({},e,{key:`snackbar-id-key-${e.key}`}))))),e)},q=()=>(0,i.useContext)(z)},47592:(e,t,n)=>{"use strict";n.d(t,{y:()=>v});var s=n(19670),i=n(46997),a=n(87363),r=n.n(a),o=n(8212),l=n(42069),c=n(72181),d=n(44863),u=n(95127),m=n(36237),p=n(16745),h=n(61276);const b=(0,l.compose)((0,l.composeU)(c.$,d.H,u.K,m.c),p.G,h.i)(o.Spin),g=["size"],v=e=>{let{size:t="l"}=e,n=(0,i.Z)(e,g);return r().createElement(b,(0,s.Z)({size:t,view:"default"},n))}},6792:(e,t,n)=>{"use strict";n.d(t,{x:()=>g});var s=n(42069),i=n(89782),a=n(25982),r=n(94803),o=n(1955),l=n(19670),c=n(46997),d=n(87363),u=n.n(d);const m=["className"],p=(0,s.withBemMod)((0,o.LR)(),{typography:"*"},(e=>t=>{let{className:n}=t,s=(0,c.Z)(t,m);return u().createElement(e,(0,l.Z)({className:(0,o.LR)({typography:s.typography},[n])},s))})),h=["color","className"],b=(0,s.withBemMod)((0,o.LR)(),{color:"*"},(e=>t=>{let{color:n,className:s}=t,i=(0,c.Z)(t,h);return u().createElement(e,(0,l.Z)({className:(0,o.LR)({color:n},[s])},i))})),g=(0,o.SZ)((0,s.compose)(p,b,i.R,a.s,r.O))},66461:(e,t,n)=>{"use strict";n.d(t,{$:()=>h});var s=n(46997),i=n(19670),a=n(87363),r=n.n(a),o=n(27542),l=n(80884),c=n(29206),d=n(61560);const u=["size","state","hasCloseButton","className"],m=new o.Registry({id:(0,c.kD)()});m.set("Popup",(e=>r().createElement(l.G,(0,i.Z)({hasCloseButton:!0},e))));const p=(0,o.withRegistry)(m)(d.u),h=e=>{let{size:t="m",state:n,hasCloseButton:a,className:o}=e,l=(0,s.Z)(e,u);const m=a?p:d.u;return r().createElement(m,(0,i.Z)({view:"default",size:t,state:"important"===n?void 0:n,className:"important"===n?(0,c.kD)({state:n},[o]):o},l))}},63415:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});n(14072),n(53208);function s(e){const t={};function n(n,s){const i=s?Object.assign({},s):{};try{Ya.Rum.logError(Object.assign({level:"error",service:e},n,{additional:Object.assign({},t,i,n.additional)}),s,{project:"zen"})}catch(e){}}return{error(...e){if(1===e.length){const[t]=e;t instanceof Error?n({},t):n(t)}else if(2===e.length){const[t,s]=e;n(t,s)}},warn(...e){},log(...e){},handleErrorEvent(e,t,s,i,a){if(e instanceof Event)return;n(null!=a?a:new Error(null!=e?e:"Unknown error"))},addContextInfo(e){Object.assign(t,e)},getContextInfo:()=>t}}},23195:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});n(14072),n(53208);function s(e){return{error(...t){e.forEach((e=>e.error(...t)))},warn(...t){e.forEach((e=>e.warn(...t)))},log(...t){e.forEach((e=>e.log(...t)))},handleErrorEvent(t,n,s,i,a){e.forEach((e=>e.handleErrorEvent(t,n,s,i,a)))},addContextInfo(t){e.forEach((e=>e.addContextInfo(t)))},getContextInfo(){const t={};for(const n of e)Object.assign(t,n.getContextInfo());return t}}}},43688:(e,t,n)=>{"use strict";n.d(t,{X:()=>l,k:()=>o});n(14072),n(53208);var s=n(63415),i=n(23195);const a=["development","test"].some((e=>"production"===e)),r=[[function(){const e={};function t(e){return function(...t){"undefined"!=typeof window&&window.console[e](...t)}}const n=t("error");return{error:n,warn:t("warn"),log:t("log"),handleErrorEvent:n,addContextInfo(t){Object.assign(e,t)},getContextInfo:()=>e}}(),!0],[(0,s.S)(null!="dzen-desktop"?"dzen-desktop":"unknown_app"),!a]],o=(0,i.l)(r.filter((([,e])=>e)).map((([e])=>e)));const l=e=>e instanceof Error?e:new Error(String(e))},77735:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var s=n(32481);const i=(e,t)=>(0,s.Mv)(((n,i)=>t((0,s.kB)(e)(n,i))))},30373:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var s=n(32481);const i=e=>(0,s.Mv)(((t,n)=>(n.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map(((t,i)=>n.deepen(String(i),(()=>(0,s.kB)(e)(t,n))))))))},26347:(e,t,n)=>{"use strict";n.d(t,{b5:()=>o,kS:()=>c,c9:()=>d});var s=n(32481),i=n(5457),a=n(54511);const r=({isSnakeCase:e,isOptional:t=!1})=>(n,r,o)=>{const l=e?(0,a.a)(n):n;return(0,s.Mv)(((e,a)=>{a.assert((0,i.b)(e),"object",typeof e);const c=e[l];t?a.assert("boolean"==typeof c||void 0===c,`value of key '${l}' boolean or undefined`,typeof c):a.assert("boolean"==typeof c,`value of key '${l}' boolean`,typeof c);const d=c?(0,s.kB)(r):(0,s.kB)(o);return Object.assign(d(e,a),{[n]:Boolean(c)})}))},o=(r({isSnakeCase:!1,isOptional:!1}),r({isSnakeCase:!0,isOptional:!1}),r({isSnakeCase:!1,isOptional:!0}),r({isSnakeCase:!0,isOptional:!0})),l=({isSnakeCase:e})=>(t,n)=>{const r=e?(0,a.a)(t):t,o=Object.keys(n).map((e=>`'${e}'`)).join(", ");return(0,s.Mv)(((e,t)=>{t.assert((0,i.b)(e),"object",typeof e);const a=e[r];t.assert("string"==typeof a,`value of key '${r}' string`,typeof a),t.assert(a in n,`value of key '${r}' in [${o}]`,a);const l=n[a];return Object.assign((0,s.kB)(l)(e,t),{[r]:a})}))},c=l({isSnakeCase:!1}),d=l({isSnakeCase:!0})},43623:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var s=n(95758),i=n(32481);const a=e=>{const t=(0,s.u)(e).filter((e=>isNaN(+String(e)))).map((t=>e[t])),n=t.map((e=>"string"==typeof e?`'${e}'`:e)).join(", ");return(0,i.Mv)(((e,s)=>(s.assert("string"==typeof e||"number"==typeof e,`one of [${n}]`,typeof e),s.assert(t.includes(e),`one of [${n}]`,`'${e}'`),e)))}},29332:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var s=n(32481);const i=(...e)=>(0,s.Mv)(((t,n)=>Object.assign({},...e.map((e=>(0,s.kB)(e)(t,n))))))},2464:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const s=(0,n(32481).Mv)(((e,t)=>(t.assert(void 0!==e,"json","undefined"),e)))},40352:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var s=n(32481);const i=e=>(0,s.Mv)(((t,n)=>(n.assert(t===e,`${typeof e} '${e}'`,`${typeof t} '${t}'`),e)))},78147:(e,t,n)=>{"use strict";n.d(t,{w:()=>i,v:()=>a});var s=n(32481);const i=e=>(0,s.Mv)(((t,n)=>a(e)(t,n))),a=e=>(t,n)=>void 0===t?void 0:(0,s.kB)(e)(t,n)},62993:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});n(14072),n(53208);var s=n(32481),i=n(5457),a=n(78147);const r=e=>(0,s.Mv)(((t,n)=>{n.assert((0,i.b)(t),"object",typeof t);const r={},o=n.isPartialObject?(0,s.Bx)(n):n,l=n.isPartialObject?a.v:s.kB;for(const s of Object.keys(e))r[s]=n.deepen(s,(()=>l(e[s])(t[s],o)));return r}))},86826:(e,t,n)=>{"use strict";n.d(t,{Z_:()=>a,Rx:()=>r,O7:()=>o});var s=n(32481);const i=e=>(0,s.Mv)(((t,n)=>(n.assert(typeof t===e,e,typeof t),t))),a=i("string"),r=i("number"),o=i("boolean")},46821:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});n(14072),n(53208);var s=n(95758),i=n(32481),a=n(5457);const r=e=>(0,i.Mv)(((t,n)=>{n.assert((0,a.b)(t),"record",typeof t);const r={};for(const a of(0,s.u)(t))r[a]=n.deepen(`"${a}"`,(()=>(0,i.kB)(e)(t[a],n)));return r}))},51780:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});n(14072),n(53208);var s=n(32481),i=n(5457),a=n(54511);const r=e=>(0,s.Mv)(((t,n)=>{n.assert((0,i.b)(t),"object",typeof t);const r={};for(const i of Object.keys(e))r[i]=n.deepen(i,(()=>(0,s.kB)(e[i])(t[(0,a.a)(i)],n)));return r}))},72034:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var s=n(32481);const i=(...e)=>{const t=e.map((e=>`'${e}'`)).join(", ");return(0,s.Mv)(((n,s)=>(s.assert("string"==typeof n,"string union",typeof n),s.assert(e.includes(n),`one of [${t}]`,`'${n}'`),n)))}},16309:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});n(14072),n(53208);var s=n(95758),i=n(32481);const a=e=>{const t=(0,s.u)(e);return(0,i.Mv)(((n,s)=>{const a=[];for(const r of t)try{const t=(0,i.vR)((e=>{throw a.push(`${String(r)}: ${e}`),""})),o=e[r];return(0,i.kB)(o)(n,(0,i.kr)({originalContext:s,onAssert:t}))}catch(e){}return s.assert(0===a.length,`successful parsing by one of parsers: ${t.join(",")}`,`all failed: [\n\t${a.join(";\n\t")}\n]`),(0,i.kB)(e[t[0]])(n,(0,i.kr)({originalContext:s,onAssert:()=>{}}))}))}},32481:(e,t,n)=>{"use strict";n.d(t,{kr:()=>s,zL:()=>i,Bx:()=>a,Mv:()=>r,kB:()=>o,vR:()=>l,Qc:()=>c,Hj:()=>d});const s=e=>{const{originalContext:t,onAssert:n}=e,s=[];return{deepen:(e,t)=>{s.push(e);const n=t();return s.pop(),n},assert:(e,t,i)=>{e||n({path:s,expected:t,got:i})},isPartialObject:(null==t?void 0:t.isPartialObject)||!1}},i=e=>Object.assign({},e,{isPartialObject:!0}),a=e=>Object.assign({},e,{isPartialObject:!1}),r=e=>e,o=e=>e,l=(e=(()=>{}))=>({path:t,expected:n,got:s})=>e(`at ${t.join(".")}: expected ${n}, got ${s}`),c=(e,t,n,i=console.error)=>{const a=l((e=>{i(`In context '${n}' ${e}`)}));try{return o(e)(t,s({onAssert:a}))}catch(e){const t=e instanceof Error?e:new Error(String(e));i(`In context '${n}' ${t.message}`)}return t},d=(e,t,n)=>{const i=l((e=>{throw new Error(`In context '${n}' ${e}`)}));return o(e)(t,s({onAssert:i}))}},5457:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});const s=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e},95758:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});const s=e=>Object.keys(e)},54511:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});const s=e=>e.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`))},64637:(e,t,n)=>{"use strict";n.d(t,{iT:()=>r,Ao:()=>o,mZ:()=>l,Zd:()=>c,S4:()=>d,vO:()=>u,aD:()=>m,b3:()=>p,z0:()=>h,KW:()=>b,Hu:()=>g,FL:()=>v});var s=n(88144),i=n(43756);const a=(e,t)=>({type:i.nF,payload:{branchName:e,branchState:t}}),r=e=>a("links",e),o=e=>a("serpLinks",e),l=e=>a("serpClid",e),c=e=>a("params",e),d=e=>a("shared",e),u=e=>a("context",e),m=e=>a("auth",e),p=e=>a("user",e),h=e=>a("request",e),b=e=>a("icefeed",e),g=(e,t)=>c({zenUserData:Object.assign({},e,{zenTheme:t})}),v=(e=[])=>(t,n)=>{const i=n(),{clientSkipTokenParams:{skipTokenSize:a,enabled:r}}=(0,s.a)(i);if(!r)return;const{zenFeatures:o}=i.params,{ads:l}=o;let d={};if(l&&0!==Object.keys(l).length){const{rendered_banner_ids:t,rendered_banner_ids_count:n}=l;d={request_count:i.feed.moreRequestCount,rendered_banner_ids:[...t,...e].slice(-a),rendered_banner_ids_count:n+e.length}}else d={request_count:i.feed.moreRequestCount,rendered_banner_ids:e,rendered_banner_ids_count:e.length};t(c({zenFeatures:Object.assign({},o,{ads:d})}))}},9273:(e,t,n)=>{"use strict";n.d(t,{Z_:()=>p,tM:()=>b,x:()=>g,wz:()=>m});var s=n(51780),i=n(30373),a=n(78147),r=n(62993),o=n(86826),l=n(74432);const c=(0,s.v)({items:(0,i.I)(l._),more:(0,a.w)((0,r.R)({link:(0,a.w)(o.Z_)}))});var d=n(32481),u=n(43756);const m=e=>({type:u.ym,payload:e}),p=()=>({type:u._W}),h=e=>(0,d.Hj)(c,e,"Модалка с каналами из карусели"),b=({moreLink:e,setIsLoading:t,setModal:n})=>async(s,i,{zenApi:a})=>{t(!0);try{const s=await a.getMoreChannelsList(e);n(h(s)),t(!1)}catch(e){t(!1)}},g=({moreLink:e,setIsLoading:t,setModal:n})=>async(s,i,{zenApi:a})=>{t(!0);try{const s=await a.getMoreChannelsList(e),i=h(s);n((e=>({items:[...(null==e?void 0:e.items)||[],...i.items],more:i.more}))),t(!1)}catch(e){t(!1)}}},6006:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var s=n(43756);const i=e=>({type:s.gc,payload:{displayedRowsNumber:e}})},20773:(e,t,n)=>{"use strict";n.d(t,{pA:()=>ie,MO:()=>re,A7:()=>H,jK:()=>U,he:()=>j,hV:()=>F,JJ:()=>O,eN:()=>B,r8:()=>q,DC:()=>J,zH:()=>A,cV:()=>se,Lc:()=>ae,cl:()=>M,xB:()=>G,Ij:()=>Y,gv:()=>ne,as:()=>te,Yu:()=>W,nP:()=>pe,EC:()=>D,Kq:()=>$,pq:()=>le,Nz:()=>Q,l0:()=>me,g:()=>de,Yb:()=>ce,tK:()=>X,mz:()=>ee,KK:()=>oe});n(14072),n(53208),n(17453);var s=n(70624),i=n(52815),a=n(22796);class r{constructor(){this.resolve=null,this.reject=null,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const o=({privateBus:e})=>{const t=new r;let n,s,i=[],o=!1;const l=(e,t)=>{i.push([e,t]),o&&c()},c=()=>{i.some((([e,t])=>n===e&&s===t))?(e.off("feedChanged",l),t.resolve()):i=[]};return e.on("feedChanged",l),e=>(o=!0,n=(0,a.O5)(e),s=e.displayedRowsNumber,c(),t.promise)};var l=n(35847),c=n(45347),d=n(56720),u=n(59357),m=n(88144),p=n(64637),h=n(46591),b=n(67918),g=n(72602),v=n(92108),_=n(43756),f=n(81235),y=n(86758),w=n(39283),k=n(94823),S=n(89294);var E=n(18326),C=n(3779),I=n(6006),P=n(53932),T=n(37413),R=n(32121);const A=(e,t,n,s)=>({type:_.U4,payload:{items:e,insertOnTop:t,shouldRefreshFeed:n,shouldAddToItemsOrder:s}}),x=(0,i.k)(((e,t)=>e.getMore(t))),O=({insertOnTop:e=!1,shouldRefreshFeed:t=!1,onAfterPackInsert:n,onBeforePackInsert:i,requestOptions:a}={})=>(r,u,m)=>{const{zenApi:b,privateBus:g,outputBus:f,zenLogger:y}=m,w=x.startSession({args:[b,a],timeouts:[3e4,18e4],async onTryComplete(a){i&&await i();let m;try{m=(()=>{if(a.isLastSession())return r((i=>{var r;if(a.isRejected){if(0===a.tryNumber){const n=u(),s=(0,d.eV)(n);(0,d.GP)(n)||(0,d.jY)(n)||(0,d.fH)(n)||s||i((0,l.yX)({insertOnTop:e,shouldRefreshFeed:t})),s&&i(he())}throw console.warn(a.error.message),a.error}const m=n?o({privateBus:g}):null,{apiResponse:f}=a.value,{feed:{gridType:w}}=u(),k=null==f||null==(r=f.gridType)?void 0:r.name;k&&(h.Ct[k]?(((e,t,n)=>{e===t||n.error(`Unexpected grid type - "${e}". Base type - "${t}"`)})(k,w,y),i(L(k,f.rid))):y.error(`Wrong grid type: ${k}`)),i((0,p.iT)({[s.Jl.More]:f.more.link||null})),i((0,p.Zd)({shouldCleanCacheOnFeedback:f.feedbackCacheClean})),i({type:_.vd}),f.items&&(i(A(f.items,e,t)),setTimeout((()=>{i((0,v.Gd)(!1))}),1500));const S=u(),C=(0,d.Fr)(S)&&(0,d.gL)(S);f.orderedIds&&C&&i((0,T.K1)({orderedIds:[...u().feed.orderedIds,...f.orderedIds]}));const{interview:I,rid:P}=f;if(I&&i((0,c.u5)({interview:I,packId:P,pos:I.showOnPosition,itemBasedPosition:I.itemBasedPosition})),P&&b.packUsed(P),E.K.getSubpage("feed","mainFeed").finishLoading(!1),m)return m(u())}));if(a.isRejected)throw a.error})()}catch(e){throw n&&n(!1),e}n&&(m?m.then((()=>n(!0))):n(!1))}});return w.retriesResult.catch((e=>{console.warn(`GetMore retries failed: '${e.message}'.`),f.emit("morePackLoadingError")}))},N=e=>(t,n)=>{const{feed:s}=n(),i=s.items[e],{childItemId:a}=i;(0,k.o8)(a)||(t({type:_.az,payload:{itemId:e,childItemId:void 0}}),t({type:_.ns,payload:{itemId:a}}))},M=e=>t=>{t({type:_.ns,payload:{itemId:e}})},L=(e,t)=>({type:_.eJ,payload:{gridType:e,packId:t}}),D=e=>({type:_.Rf,payload:{initialDisplayedRowsNumber:e}}),B=(e,t)=>(n,s,{zenLogger:i})=>{if(!h.Ct[e])return void i.error(`Wrong grid type: ${e}`);n(L(e,t));const{params:a}=s(),r=a.initialDisplayedRowsNumber||h.Ct[e].initialDisplayedRowsNumber;n(D(r)),n((0,I.P)(r))},F=()=>(e,t)=>{const n=t(),{scrollToID:s}=n.shared;if(!s)return;const{displayedRowsNumber:i}=n,{rows:r}=(0,a.O5)(n),o=r.findIndex((e=>e.some((({id:e})=>e===s))))+i;e((0,I.P)(o))},Z=(()=>{let e=null;return(t,n)=>{const s=Date.now();return e&&s-e<n?Promise.reject():(e=s,t())}})(),V=1e3,U=()=>(e,t,{privateBus:n,zenApi:s})=>{const i=t(),{displayedRowsNumber:r}=i,{rows:c}=(0,a.O5)(i),{getMoreLimitWindow:d}=(0,m.a)(i),u=(0,a.eZ)(i),p=[],h=(0,a.zb)(i);if(s.configure((e=>Object.assign({},e,{suspendMore:h}))),u>c.length){const t=()=>new Promise((t=>{e(O({onAfterPackInsert:t}))})),n=d>0?Z(t,d).catch((()=>{h||console.error(`Too many requests in ${d} ms`)})):t(),s=Date.now();Promise.race([n,(0,S.D)(V)]).then((()=>{s+V>Date.now()||(e((0,l.bM)()),Promise.all([n,(0,S.D)(800)]).then((()=>{e((0,l.JP)())})))})),p.push(n)}else p.push(Promise.resolve(!1));if(r<=c.length){const s=o({privateBus:n});E.K.getSubpage("feed","mainFeed").finishLoading(!0),e((0,I.P)(u)),p.push(s(t()).then((()=>!0)))}else p.push(Promise.resolve(!1));return Promise.all(p).then((([e,t])=>Boolean(e||t)))},j=()=>(e,t)=>{const n=t(),{displayedRowsNumber:s}=n,{rows:i}=(0,a.O5)(n);return s<i.length&&(e(z(!0)),!0)},z=(e=!1)=>(t,n)=>{const s=n(),{rows:i}=(0,a.O5)(s),r=e?Math.min((0,a.mF)(s),i.length):(0,a.eZ)(s);t((0,I.P)(r))},H=()=>({type:_.PK,payload:null}),q=e=>(t,n)=>{const s=n(),i=(0,u.Gu)(s,e,[h.qG.IMAGE,h.qG.TEXT,h.qG.GALLERY,h.qG.BRIEF,h.qG.GALLERY_INTERLACED]),r=(0,b.p)(s,i.id);if(!r||r.answers.some((({isChecked:e})=>e)))return;const o={type:h.qG.USER_QUESTION,id:(0,y.H)(h.qG.USER_QUESTION),parentId:i.id};setTimeout((()=>{t(((e,t)=>(n,s)=>{const i=s(),{rows:r,elements:o}=(0,a.O5)(i),l=o[e].row,c=r[l];if(K(r[l+1],h.Aq)){const e=r[l+1][0].id,t=(0,u.Gu)(i,e,[...h.Aq]);t&&void 0!==t.parentId&&n(N(t.parentId))}n({type:_._q,payload:{afterId:c[c.length-1].id,item:t}}),n({type:_.az,payload:{itemId:e,childItemId:t.id}})})(e,o))}),500)},$=e=>({type:_.Yn,payload:{newItemsOrder:e}}),G=e=>(t,n,{zenLogger:s})=>{const i=n();try{const n=(0,u.Gu)(i,e,[h.qG.RTB]),{replaceWith:s}=n,r=(0,a.gE)(i);if(r){const n=[...r].map((t=>t===e?s:t));t($(n))}}catch(e){s.error((0,C.X)(e))}},W=(e,t,n)=>(s,i,{zenApi:r})=>{const o=i(),{itemsOrder:l}=o.feed,{displayedRowsNumber:c}=o,d=l.findIndex((t=>e===t));if(-1===d)return void console.warn("not found item in itemOrder",{targetItemId:e});const u=l.map(((e,t)=>({id:e,index:t}))).filter(((e,t)=>t%1==0)).find((({index:e})=>e>d)),m=u?u.index:l.length;r.updateNotShownPack({invalidate:!0,params:t,callback:n}),s($(l.slice(0,m)));const p=i();s((0,I.P)(Math.min(c,(0,a.O5)(p).rows.length)))},Y=e=>(t,n)=>{const s=n(),{adQueue:i}=(0,m.a)(s),{enabled:r,size:o,ttl:l}=i;if(!r)return;const{replaceWith:c}=(0,a.Vw)(s,e,h.qG.RTB),d=(0,a.lp)(s);if(!d)return;if([...d].find((e=>e.id===c)))return;const p=[h.qG.TEXT,h.qG.IMAGE,h.qG.GIF,h.qG.SHORT_VIDEO,h.qG.LIVE,h.qG.LIVE_INTERLACED,h.qG.GALLERY,h.qG.BRIEF,h.qG.HIDDEN],{bidFloor:b}=(0,u.Gu)(s,c,p);t((e=>({type:_.XJ,payload:{replaceQueue:e}}))([...[...d].filter((e=>{const t=Date.now(),{receiveTime:n}=(0,u.Gu)(s,e.id,p);return!!n&&t-n<l})).sort(((e,t)=>t.bidFloor-e.bidFloor)).slice(0,o-1),{id:c,bidFloor:b||0}]))},K=(e,t)=>!!e&&e.some((e=>"string"==typeof t?e.type===t:t.has(e.type))),X=()=>({type:_._5,payload:null}),J=()=>({type:_.rL}),Q=e=>({type:_.Ig,payload:{packId:e}}),ee=(e,t)=>({type:_.eS,payload:{rowIndex:e,isVisible:t}}),te=({parentId:e,linkMore:t,items:n,packId:s,needToDeleteParentCard:i=!0})=>async(a,r,{zenApi:o,zenLogger:l})=>{if(0===n.length)return null;const c=n.map((e=>e.id)),d=(0,w.NT)(n,s||"","");if(a(A(d||[],!1,!1,!1)),a({type:_.fF,payload:{afterId:e,itemIdsList:c}}),i&&a({type:_.ns,payload:{itemId:e}}),t&&c)try{const e=await o.getSubscriptionsMore(t);if(e&&0!==e.length){var u,m,p;const{itemsOrder:t}=r().feed;e[0].rawItem.hidden_items=null==(u=e[0])||null==(m=u.rawItem)||null==(p=m.hidden_items)?void 0:p.filter((e=>!t.includes(e.id))),a(A(e,!1,!1,!1)),a({type:_.fF,payload:{afterId:c[c.length-1],itemIdsList:e.map((e=>e.id))}})}}catch(e){throw l.error((0,C.X)(e)),e}},ne=({itemId:e,url:t,isChannelPage:n})=>async(s,i,{zenApi:a,zenLogger:r})=>{if(!t)return null;try{const i=await a.getRecommendationsChannels(t);null!=i&&i.length&&(s(A(i,Boolean(n),!1,!1)),s({type:_.fF,payload:{afterId:e,itemIdsList:i.map((e=>e.id)),insertOnTop:n}}))}catch(e){throw r.error((0,C.X)(e)),e}},se=()=>async(e,t,{zenApi:n,zenLogger:s,privateBus:i})=>{const a=t().params.feedType===f.u5.Video;(async()=>{var s;let r;if(a){await n.clearCache();const{items:e}=await n.getVideoFeed();r=e}else{const{apiResponse:{items:e}}=await n.getExport({cacheMode:P.q.Reload});r=e}const l=o({privateBus:i});return null!=(s=r)&&s.length&&(e(A(r,!1,!0,!1)),e(re())),l(t())})().then((()=>{(0,g.k)()})).catch((e=>{throw s.error((0,C.X)(e)),e}))},ie=({id:e,logo:t,logoBackgroundColor:n,title:s,status:i,feedLink:a})=>({type:_.bT,payload:{id:e,logo:t,logoBackgroundColor:n,title:s,status:i,feedLink:a}}),ae=({id:e})=>({type:_.KU,payload:e}),re=()=>({type:_.Bk,payload:{}}),oe=({id:e,status:t,logo:n,logoBackgroundColor:s,title:i,feedLink:a})=>async(r,o)=>{const{feed:l}=o(),c=t===f.aF.SUBSCRIBED,d=t===f.aF.NOT_SUBSCRIBED||t===f.aF.BLOCKED,u=l.subscribedInCurrrentSessionList.some((t=>t.id===e));!c||u?d&&u&&r(ae({id:e})):r(ie({id:e,logo:n,logoBackgroundColor:s,title:i,feedLink:a}))},le=e=>({type:_.nw,payload:e}),ce=e=>({type:_.T7,payload:e}),de=()=>(e,t,{globalBus:n})=>{n&&n.emit("scrollToHeads")};var ue;!function(e){e.Add="POST",e.Delete="DELETE"}(ue||(ue={}));const me=e=>async(t,n,{zenLogger:s,zenApi:i})=>{const{publisherId:a,publicationId:r,savedStatus:o,itemId:l,onSuccessCallback:c,addSavedUrl:d,removeSavedUrl:u,onErrorCallback:m}=e;if(!u&&!d)return;const p=o===R.ot.SAVED||o===R.ot.REMOVE_ERROR;try{await i.toggleSavedPublication({publicationId:r,publisherId:a,method:p?ue.Delete:ue.Add,url:p?u:d}),t(p?(e=>({type:_.pn,payload:e}))({publisherId:a,itemId:l,publicationId:r}):(e=>({type:_.Vk,payload:e}))({publisherId:a,itemId:l,publicationId:r})),c()}catch(e){m(),s.error({message:`Failed to ${p?"delete from":"add to"} saved publications`,details:{publicationId:r,publisherId:a}})}},pe=e=>({type:_.CI,payload:e}),he=()=>(e,t)=>{const n=t(),{host:s}=n.params,i=n.links.more;i&&s&&(e(A([{id:"live_run_out",type:h.qG.LIVE_RUN_OUT}],!1,!1)),e(O({requestOptions:{apiRequestUrl:i.replace("lives","video-more")}})))}},44624:(e,t,n)=>{"use strict";n.d(t,{Fn:()=>i,g1:()=>a});var s=n(43756);const i=(e,t)=>(n,i,{globalBus:a})=>{n(((e,t)=>({type:s.su,payload:{id:e,feedback:t}}))(e,t)),a&&a.emit("cardFeedback",{id:e,feedback:t})},a=({id:e,questionId:t,answerId:n,value:i})=>({type:s.Yj,payload:{id:e,questionId:t,answerId:n,value:i}})},92108:(e,t,n)=>{"use strict";n.d(t,{Ly:()=>r,GV:()=>o,MK:()=>l,ie:()=>c,s7:()=>d,Gd:()=>u,Ul:()=>m});var s=n(88529),i=n(43756),a=n(88144);const r=e=>(t,n)=>{const{videoAutoplayStorageKey:r}=(0,a.a)(n());(0,s.Sp)(r,e),t((e=>({type:i.Mb,payload:e,broadcastable:!0}))(e))},o=e=>({type:i._$,payload:e}),l=e=>({type:i.or,payload:e}),c=(e,t)=>(t||(0,s.tw)(e),{type:i.e,payload:{isMuted:e,canUnmuteAfterClick:t}}),d=e=>({type:i.ab,payload:{enabled:e}}),u=e=>({type:i.YO,payload:e}),m=(e,t)=>n=>{n(c(e,t))}},45347:(e,t,n)=>{"use strict";n.d(t,{C0:()=>a,_P:()=>r,lT:()=>o,$s:()=>l,u5:()=>c});var s=n(43756),i=n(16624);const a=e=>({type:s.hb,payload:{interviewId:e}}),r=e=>t=>{t(a(e)),t((0,i.wR)(location.pathname)),t((0,i.dy)("INTERVIEW_MODAL_ROUTE_KEY"))},o=({interviewId:e,screenId:t})=>({type:s.dI,payload:{interviewId:e,screenId:t}}),l=({id:e,screenId:t})=>({type:s.Q3,payload:{id:e,screenId:t}}),c=({interview:e,packId:t,pos:n,itemBasedPosition:i})=>({type:s.bj,payload:{interview:e,packId:t,pos:n,itemBasedPosition:i}})},66699:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,O:()=>a});var s=n(43756);const i=e=>({type:s.AG,payload:{items:e}}),a=e=>({type:s.LV,payload:{subscriptions:e}})},51556:(e,t,n)=>{"use strict";n.d(t,{IU:()=>g,dY:()=>v,U:()=>_,_g:()=>f});var s=n(43756),i=n(94823),a=n(34534),r=n(44624),o=n(37739),l=n(56720),c=n(16624),d=n(75653),u=n(41624),m=n(81066),p=n(7760),h=n(51749);const b=e=>({type:s.Ps,payload:e}),g=()=>e=>{e({type:s.YY})},v=e=>t=>{t(b(e))},_=e=>t=>{t(b(e)),t((0,c.wR)(location.pathname)),t((0,c.dy)(d.E))},f=(e,t)=>(n,s,{zenApi:c})=>{const d=s(),b=(0,l.Ip)(d),g=(0,m.HX)(e,t),v=u.w.getItem(g),_=d.params.bulk.bulk_params;if(u.w.removeItem(g),b&&v&&(0,i.HD)(v))try{const e=JSON.parse(v);if(!e)return null;const{ts:t,itemIdForStats:s}=e;if(!(0,m.rV)(t))return;if(c.logBulkEvents((0,h.q)("auth:login"),{bulkParams:_,bulkReplaceMap:{__place_param__:"login_popup",__item_id__:s,__item_type__:"interface_element"}}),e.triggerAction===p.D.Like){const{statObject:t,id:s}=e;c.logBulkEvents((0,h.q)("feedback:more"),t),n((0,r.Fn)(s,"liked"))}if(e.triggerAction===p.D.Subscribe){const{source:t}=e;c.logBulkEvents((0,h.q)("feedback:favourite",""),t),n((0,a.Iz)(t)),n((0,o.Yi)(t))}}catch(e){console.warn(e)}}},16624:(e,t,n)=>{"use strict";n.d(t,{_h:()=>o,Mr:()=>l,wR:()=>c,dy:()=>d,Fk:()=>u});var s=n(6191),i=n(43756),a=n(89432),r=n(76117);const o="MODAL_CLOSE_REASON_CROSS",l=e=>(t,n,{outputBus:a})=>{const r=n(),{closeModalPath:o,forcedModalRoute:l}=r.modal;t(l?d(null):(0,s.Kv)(o||"")),t({type:i.et,payload:e||""}),a.emit("popupClose")},c=e=>({type:i.WX,payload:{closeModalPath:e}}),d=e=>({type:i.kK,payload:e}),u=()=>(e,t,{modalRoutes:n})=>{const s=t(),{location:i}=s.router,{forcedModalRoute:o}=s.modal,{pathname:l}=i,d=(0,a.o)({location:i,forcedModalRoute:o,modalRoutes:n});d&&e(c(((e,t)=>t===r.Yk?e.replace(r.tA,""):r.Tu)(l,d.routeId)))}},90392:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>r,iZ:()=>o});var s=n(80481),i=n.n(s);const a=e=>`nsp-${e}`,r=e=>{i().set(a(e),"1",{expires:9999})},o="NEW_SEARCH_POPUP_KEY"},35847:(e,t,n)=>{"use strict";n.d(t,{JP:()=>l,_X:()=>c,bM:()=>d,yX:()=>u,QH:()=>m,$2:()=>p});n(14072),n(80481);var s=n(81235),i=n(89294),a=n(43756);const r=({button:e,moreButtonParams:t})=>({type:a.kF,payload:{button:e,moreButtonParams:t}}),o=e=>()=>(t,n)=>{const s=n(),{currentNotifierButton:i}=s.notifiers;i===e&&t(r({button:null,moreButtonParams:null}))},l=o(s.j3.Load),c=(o(s.j3.More),o(s.j3.Error)),d=()=>(e,t)=>{const n=t(),{currentNotifierButton:i,isNotifiersDisabled:a}=n.notifiers;i===s.j3.Load||a||e(r({button:s.j3.Load,moreButtonParams:null}))},u=e=>(t,n)=>{const a=n(),{currentNotifierButton:o,isNotifiersDisabled:l}=a.notifiers;o===s.j3.Error||l||(t(r({button:s.j3.Error,moreButtonParams:e})),(0,i.D)(5e3).then((()=>t(c()))))},m=e=>({type:a.H9,payload:e}),p=e=>({type:a.Hr,payload:e})},37413:(e,t,n)=>{"use strict";n.d(t,{K1:()=>o,T0:()=>d,bP:()=>u});var s=n(51262),i=n(43756),a=n(22796),r=n(20773);const o=e=>({type:i.IE,payload:e}),l=(e,t)=>({type:i.TP,payload:{itemId:e,isPinned:t}}),c=(e,t)=>async n=>{const i=`/editor-api/v2/publishers/${t}/pin-publications`,a=JSON.stringify({publicationIds:e}),r=await(0,s._V)();await fetch(i,{method:"POST",headers:{"Content-type":"application/json","x-csrf-token":r},body:a}).then((e=>{if(!e.ok)throw Error()})),n(o({pinnedPublicationIds:e}))},d=(e,t)=>async(n,s,{zenLogger:i})=>{var o,d;const u=s(),{orderedIds:m,pinnedPublicationIds:p,itemsOrder:h}=u.feed,b=null==(o=u.channel)||null==(d=o.source)?void 0:d.publisherId,g=(0,a.rr)(u);if(b)try{if(t){if(g)return;const t=[...p,e];return await n(c(t,b)),n((0,r.Kq)([...t,...h.filter((e=>!t.includes(e)))])),void n(l(e,!0))}const s=p.filter((t=>t!==e));if(await n(c(s,b)),!m.includes(e))return void n((0,r.cl)(e));n((0,r.Kq)([...s,...m.filter((e=>!s.includes(e)&&h.includes(e)))])),n(l(e,!1))}catch(t){i.error({message:"Failed to pin/unpin publication",details:{itemId:e,publisherId:b}})}},u=(e,t)=>async(n,s,{zenLogger:i})=>{var a,o;const l=s(),{pinnedPublicationIds:d,itemsOrder:u}=l.feed,p=null==(a=l.channel)||null==(o=a.source)?void 0:o.publisherId;if(!p||!d.includes(e))return;const h=d.indexOf(e);if("up"===t&&0===h||"down"===t&&h===d.length-1)return;const b=m(d,h,h+("up"===t?-1:1)),g=[...b,...u.filter((e=>!b.includes(e)))];try{await n(c(b,p)),n((0,r.Kq)(g))}catch(t){i.error({message:"Failed to move up/down pinned publication in channel",details:{itemId:e,publisherId:p}})}},m=(e,t,n)=>{const s=[...e];return s[t]=e[n],s[n]=e[t],s}},63064:(e,t,n)=>{"use strict";n.d(t,{E3:()=>a,W2:()=>r,aJ:()=>o,Ze:()=>l});var s=n(43756),i=n(91040);const a=(0,i.PH)(s.Tr),r=(0,i.PH)(s.WB),o=(0,i.PH)(s.pj),l=(0,i.PH)(s.Bh)},6191:(e,t,n)=>{"use strict";n.d(t,{t_:()=>m,Kv:()=>d,V1:()=>u});var s=n(82028),i=n(39970);const a=(e,t,n)=>{const a=(0,i.ob)(t,void 0,void 0,e),r=Object.assign({},(0,s.rz)(e.search),(0,s.rz)(a.search));return n&&n.forEach((e=>{e in r&&delete r[e]})),a.search=(0,s.I$)(r),a};var r=n(36444),o=n(43756),l=n(76117);let c=!1;const d=(e,t,...n)=>(s,i)=>{e===l.IX&&(c=!0);const o=a(i().router.location,e,t);s((0,r.VF)(o,...n))},u=(e,t,...n)=>(s,i)=>{const o=a(i().router.location,e,t);s((0,r.gx)(o,...n))},m=e=>t=>{t({type:o.mI,payload:{location:e}})}},77933:(e,t,n)=>{"use strict";n.d(t,{Wm:()=>d});var s=n(66999);n(14072);class i extends Error{}var a=n(43756),r=n(3779);const o=e=>({type:a.X3,payload:e});let l;const c=(0,s.J)(((e,t=!1)=>async(n,s,{zenApi:c,zenLogger:d})=>{if(""===e)return void n(o());const u=void 0===e?s().search.filter:e,m=(p=t?c.getBlockedSuggest(u):c.getSuggest(u),h=1e4,l=new Promise(((e,t)=>{p.then(e,t),setTimeout((()=>{t(new i("Request timeout."))}),h)})));var p,h;n({type:a.CV,payload:null});try{const e=await m;if(m!==l)return;n(o(e))}catch(e){if(d.error((0,r.X)(e)),m!==l)return;throw n({type:a.AJ,payload:null}),e}}),500),d=(e,t=!1)=>n=>(void 0!==e&&n((e=>({type:a.PT,payload:e}))(e)),n(c(e,t)))},34534:(e,t,n)=>{"use strict";n.d(t,{Iz:()=>m,Xk:()=>p,ls:()=>h,hh:()=>b,og:()=>g,H8:()=>v,Bg:()=>_,qu:()=>f,E8:()=>y,HI:()=>k,KE:()=>S});var s=n(81235),i=n(43756),a=n(37739),r=n(56720),o=n(51556),l=n(20773),c=n(7760);const d=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n},isSourceAction:!0}),u=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n}}),m=d(i.D7),p=d(i.LU),h=d(i.SX),b=d(i.cT),g=d(i.r7),v=u(i.wJ),_=u(i.YZ),f=(e,t,{isPublic:n=!0}={})=>({type:i.jf,payload:{id:e,reasons:t},meta:{isPublic:n},broadcastable:!0,isSourceAction:!0}),y=e=>({type:i.nr,payload:e}),w={[s.aF.SUBSCRIBED]:m,[s.aF.BLOCKED]:h,[s.aF.NOT_SUBSCRIBED]:p},k=(e,t)=>n=>{n(w[e](t)),n((0,a.Yi)(t)),n((0,l.KK)({status:e,id:t.id,logo:t.logo,logoBackgroundColor:t.logoBackgroundColor,title:t.title,feedLink:t.feedLink}))},S=(e,t)=>(n,i)=>{const a=i();return(0,r.Ip)(a)||e!==s.aF.SUBSCRIBED?(n(k(e,t)),!0):(n((0,o.dY)({source:t,triggerAction:c.D.Subscribe,itemIdForStats:s.MA.SourceSubscribeFromPageCard})),!1)}},83824:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,W:()=>a});var s=n(43756);const i=e=>({type:s.Ds,payload:e}),a=()=>({type:s.TX})},78785:(e,t,n)=>{"use strict";n.d(t,{IH:()=>i,xk:()=>a,pq:()=>r,O:()=>o,Q2:()=>l});var s=n(43756);const i=e=>({type:s.dK,payload:e}),a=e=>({type:s.o0,payload:e}),r=e=>({type:s.kb,payload:e}),o=e=>({type:s.Cv,payload:e}),l=e=>({type:s.km,payload:e})},2085:(e,t,n)=>{"use strict";n.d(t,{cn:()=>g,CX:()=>C,JM:()=>S,et:()=>E});n(14072),n(53208);var s=n(68360),i=n(91055);const a=e=>{let t=null,n=null,s=!1;return(...a)=>!n||s||t&&!(0,i.B)(t,a)?(t=a,s=!1,n=e(...a),n.then((e=>(s=!0,e)),(e=>{throw s=!0,e}))):n};var r=n(8708),o=n(59566),l=n(94068),c=n(82867),d=n(65201);const u=(0,s.wb)({reducer:d.g,selector:(e,t)=>(0,r.np)(e,t).followers});var m=n(58155),p=n(77110),h=n(43756),b=n(94823);const g=e=>({type:h.jN,payload:{userId:e}}),v=e=>(t,...n)=>s=>((0,b.HD)(t)?s(g(t)):console.error("ADD_USER action not fired because, userId type is not string"),s(e(t,...n))),_=e=>e===m.sf?"":e,f=a((({zenApi:e},t)=>e.getPreferences(_(t)))),y=a((({zenApi:e},t)=>e.getSocialProfile(_(t)).then((e=>{if((0,p.K)(e)){const t=e.captcha["captcha-page"];throw window.location.href=t,new Error("Couldn't get a social profile. Captcha received.")}return e})))),w=a((({zenApi:e},t)=>e.getUserSubscribers(_(t)))),k=e=>t=>async n=>{const i=(e=>{let t={isFirstCall:!0};return(...n)=>(t.isFirstCall&&(t={isFirstCall:!1,value:e(...n)}),t.value)})(f),[a,r]=(0,s.S1)({type:h.RA,request:i,selector:l.R}).map(v),[o,d]=(0,s.S1)({type:h.eB,request:i,selector:c.o}).map(v);e?await Promise.all([n(r(t)),n(d(t))]):await Promise.all([n(a(t)),n(o(t))])},S=k(!0),[E,C,I]=(k(!0),(0,s.S1)({type:h.wJ,request:y,selector:o.Q}).map(v).map((e=>(t,...n)=>async(s,i)=>{const a=i(),o=(0,r.MA)(a),[l]=await Promise.all([s(e(t,...n)),s(S(o))]);return l}))),[P,T]=(0,s.S1)({type:h.xl,request:w,selector:u}).map(v)},93187:(e,t,n)=>{"use strict";n.d(t,{cU:()=>ee,zr:()=>T,T6:()=>j,Ak:()=>W,jK:()=>O,F7:()=>te,cQ:()=>Q,ar:()=>K,RM:()=>X,fJ:()=>J,lc:()=>x,q2:()=>Y,a:()=>z,LB:()=>ne,G5:()=>V,vg:()=>U,RN:()=>P,U:()=>q,pR:()=>se});var s=n(52815),i=n(43756),a=n(56720),r=n(6191),o=n(92108),l=n(44564),c=n(6816);const d=(e,t)=>(n,s,i)=>{const a=()=>e(n,s,i);t?(0,c.GN)(t,a):a()};var u=n(82837),m=n(76117),p=n(59357),h=n(88144),b=n(69396),g=n(45476),v=n(18326),_=n(55796),f=n(42185),y=n(28494),w=n(66999),k=n(62488),S=n(20773);const E="zen_video",C=["t","comment-request"],I=[E],P=(e,t,n)=>s=>{s({type:i.K9,payload:{id:e,isVisible:t,metricsPageName:n}})},T=({id:e,startPosition:t,playerRect:n,isMuted:s,item:a,options:{isPublic:r=!0,scrollToCommentsOnOpen:l=!1}={}}={})=>(c,d)=>{const u=d(),m=e&&(0,p.O1)(u,e)||a;c({type:i.JY,payload:{id:e,openedItem:m,startPosition:t,playerRect:n,scrollToCommentsOnOpen:l},meta:{isPublic:r}}),c(V(m)),m&&void 0!==s&&c((0,o.ie)(s)),m||(c((0,o.MK)(b.mw)),c((0,o.GV)(g.$)))},R=e=>t=>{const{recommends:n,moreRecommendsLink:s,isPrefetch:a}=e;if(t(G(!0)),0===n.length)throw new Error("no recommends");const r=(e=>{const t={},n=[],s=e.reduce(((e,s,i)=>{let a;if((0,k.U)(s))a=`${s.type}_${i}`;else{a=s.id;const{source:e,statParams:n,bulkParams:i}=s;t[s.source.id]||(t[e.id]=Object.assign({},e,{statParams:n,bulkParams:i}))}return n.push(a),Object.assign({[a]:Object.assign({},s)},e)}),{});return{sources:t,items:s,itemsOrder:n}})(n);t(((e,t,n)=>(s,a)=>{const r=a(),{sources:o,items:l,itemsOrder:c}=e,d=r.videoViewer.itemsOrder.length<=1;if(s({type:i.H1,payload:{items:l,itemsOrder:c,moreRecommendsLink:t}}),s({type:i.pF,payload:{sources:o}}),!n){const e=d?"doc2docFeedFirst":"doc2docFeedNext";v.K.getSubpage("video",e).finishLoading(!1)}})(r,s,a))},A=(0,s.k)(((e,t)=>e.getVideoRecommend(t))),x=(e,t=!1,n=!1)=>(s,i,a)=>{var r,o,l;const c=i(),{moreRecommendsLink:d,openedItemId:u,items:m}=c.videoViewer,p=u?null==(r=m[u])||null==(o=r.video)?void 0:o.videoFeedUrl:void 0;return((e,t,{zenApi:n,zenLogger:s},i,a)=>A.startSession({args:[n,i],timeouts:[1e3,3e3,5e3],async onTryComplete(t){if(t.isRejected)throw 3===t.tryNumber&&s.error({message:`getRecommends: ${t.error.message}`,details:{publication_id:i.publicationId}}),t.error;const{recommends:n,moreRecommendsLink:r,adPixelData:o}=t.value;e(R({recommends:n,moreRecommendsLink:r,isPrefetch:a})),e((0,S.nP)(Object.assign({},o.adPixelData,{adPixelsLink:o.adPixelsLink})))}}).retriesResult)(s,0,a,{videoRelatedUrl:d||p||"",onlyShortVideo:e,publicationId:u?null==(l=m[u])?void 0:l.publication_id:void 0},t).catch((e=>{throw n&&s(z()),e}))},O=(e,t,n=!0,s="doc2docFeedNext")=>async(a,r)=>{const o=r(),{displayedRowsNumber:l,itemsOrder:c}=o.videoViewer,{videoFeedPerformanceTweaks:d,isDoc2docInViewerTouchV2:u}=(0,h.a)(o),m=l+e;return m>c.length&&await a(x(t,!1,u)),l<=c.length&&(m<=c.length&&v.K.getSubpage("video",s).finishLoading(!0),a((e=>({type:i.gT,payload:{displayedRowsNumber:e}}))(m))),d.prefetchPacks&&n&&a(N(m+e,t)),!0},N=(e,t=!1)=>async(n,s)=>{const i=s(),{itemsOrder:a}=i.videoViewer;e>a.length&&(await(0,_.W)(),n(x(t,!0)))},M=(e,t,n,s)=>(a,r,{zenApi:o,zenLogger:l})=>o.getVideoViewerData(e,t,n,s).then((e=>{a({type:i.CM,payload:{videoViewerData:e,publicationId:t}})})).catch((e=>{l.error({message:`getVideoViewerData: ${e.message}`,details:{publication_id:t}})})),L=(e,t,n)=>e&&n?{pathname:location.pathname,search:`?zen_video=${n}`}:t?{pathname:`${y.UK}/${n}`}:{hash:m.pI},D=(0,w.J)(r.Kv,.3),B=(0,w.J)(r.V1,.3),F=(e,t,n)=>(s,i)=>s((Boolean((0,l.B9)(i()))?D:B)(e,t,n)),Z=(e,t)=>n=>{const s=null==e?void 0:e.id;n(s?((e,t)=>(n,s)=>{var i,r,o;const l=s();if(!l.router)return;const{isMordaZenVideoRedirect:c,isVideoNavigationHistoryEnable:d}=(0,h.a)(l),u=(0,a.J1)(l),p=null==(i=u.state)?void 0:i.videoId,b=u.hash,g=p===e;if(b===m.pI&&g)return;const v=(null==(r=u.state)||null==(o=r.openParams)?void 0:o.location)||u,_=Object.assign({},u.state,{videoId:e,openParams:{location:v}}),f=L(c,d,t);n(F(f,C,_))})(s,t):(e,t)=>{var n,s;const i=t();if(!i.router)return;const r=(0,a.J1)(i),o=-1===r.pathname.indexOf(y.UK)?"feed":void 0,l=null==(n=r.state)||null==(s=n.openParams)?void 0:s.location;e(F(l,I,{page:o,videoId:void 0,openParams:{}}))})},V=(e,{isPublic:t=!0}={})=>n=>{const s=e&&e.publicationId&&(0,u.O)(e.publicationId);n(Z(e,s)),n({type:i.io,payload:{video:e},meta:{isPublic:t}})},U=e=>({type:i.sd,payload:{isCollapsedChat:e}}),j=e=>({type:i.RJ,payload:{id:e}}),z=()=>({type:i.GH}),H=(e,t)=>({type:i.vB,payload:{id:t,isVisible:e}}),q=e=>({type:i.G4,payload:e}),$=()=>({type:i.YB}),G=e=>({type:i.Z5,payload:e}),W=e=>d((e=>{e($())}),e),Y=({onlyShortVideo:e,shouldUpdateRecommended:t=!0},n)=>d(((n,s)=>{const i=s(),{videoFeedPerformanceTweaks:a,isDisabledVideoFeed:r}=(0,h.a)(i),{videoViewer:o}=i,{items:l,openedItemId:c,packNumber:d,videoViewerDataMap:m}=o;if(!l||!c)return;const{commentsDocumentId:p,publisherId:b,flightId:g,packId:v,publicationId:f}=l[c],y=0===d,w=(0,u.O)(f);if(t&&y&&!r){(a.prefetchPacks?n(O(a.rowDisplayStepFirst,e,!1)):n(x())).then((()=>{a.prefetchPacks&&(0,_.W)().then((()=>{t&&n(N(a.rowDisplayStepFirst+a.rowDisplayStepNext,e))}))})).catch((()=>{n(z())}))}m[w]||n(M(b,(0,u.O)(p),g,v)),n(H(!0,c))}),n),K=()=>(e,t)=>{const n=t(),{videoViewer:s}=n,{packNumber:i}=s;if(!(0===i))return;const{videoFeedPerformanceTweaks:a}=(0,h.a)(t());v.K.getSubpage("video","doc2docFeedFirst").startLoading();(a.prefetchPacks?e(O(a.rowDisplayStepFirst,!1,!1,"doc2docFeedFirst")):e(x())).catch((()=>{e(z())}))},X=()=>(e,t)=>{if((0,f.Pe)(t()))return;const{videoFeedPerformanceTweaks:n}=(0,h.a)(t());n.prefetchPacks&&e(N(n.rowDisplayStepFirst+n.rowDisplayStepNext,!1))},J=()=>(e,t)=>{const n=t(),{videoViewer:s}=n,{items:i,openedItemId:a}=s;if(!i||!a)return;const{commentsDocumentId:r,publisherId:o,flightId:l,packId:c}=i[a];e(M(o,(0,u.O)(r),l,c))},Q=()=>(e,t)=>{const n=t(),{videoViewer:s}=n,{openedItemId:i}=s;i&&e(H(!0,i))},ee=()=>e=>{e(q(!1))},te=()=>e=>{e($())},ne=()=>(e,t)=>{const{videoViewer:{openedItemId:n}}=t();if(!n)return;const s=t(),{isNearLast:i,id:a}=(0,l.t3)(s);i&&e(x()),a&&(e(j(a)),e(T({id:a})))},se=e=>async(t,n,{zenApi:s})=>{try{var a;const o=await s.getDelayedLiveVideoSource(e.replace("live:","")),{videoViewer:{openedItemId:l,items:c}}=n(),d=l?null==(a=c[l].scheduledTimeInfo)?void 0:a.scheduledTime:void 0,{scheduledTimeInfo:u}=o;(d&&(null==u?void 0:u.scheduledTime)!==d||!u)&&t((r=o,{type:i.gb,payload:r}))}catch(e){t({type:i.Ns})}var r}},37739:(e,t,n)=>{"use strict";n.d(t,{v4:()=>i,Yi:()=>a});var s=n(10475);const i=()=>{var e,t;if("undefined"!=typeof document)return window.ZENKIT||(null==(e=window)||null==(t=e.yandex)?void 0:t.mobileZen)||void 0},a=e=>(t,n,{zenApi:a,zenkitApi:r})=>{const o=n(),l=(0,s.xR)(o,e);if(!l)return;const c=i();c&&"onPageStatusChanged"in c?c.onPageStatusChanged(!0):r?r.channelStatusChanged({id:l.id,title:l.title,image:l.logo,link:l.feedLink,exportLink:l.feedApiLink,logoBgColor:l.logoBackgroundColor,channelType:l.type},l.type,l.status):a.invalidateCache()}},32286:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var s=n(87363);class i extends s.PureComponent{constructor(...e){return super(...e),this.state={value:this._getEndValue(),duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._containerRef=e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e},this._onTransitionEnd=e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})},this}_isTransitionEvent(e){return e.target===this._containerElem&&"opacity"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getEndValue(){const{type:e,minOpacity:t,maxOpacity:n}=this.props;switch(e){case"in":return n;case"out":return t;default:return 1}}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:s,withTransition:i}=this.state,a={};return null!==n&&(a.opacity=n),i&&(a.transition=`${s}ms opacity ${e} ${t}ms`),a}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},(()=>{e&&this.props.onAfterEnd(),this.props.onComplete()}))}_startTransition(){const{getDuration:e,onBeforeStart:t}=this.props;if(!this._containerElem)return;const n=parseFloat(getComputedStyle(this._containerElem).opacity),s=this._getEndValue(),i=this._getRemainingTime(),a=s-n;if(0===a)return void this._endTransition({withEndHandlers:!1});const r=e(i,a);0!==r?(t(),this.setState({value:n,duration:r,withTransition:!0},(()=>{const{onAfterStart:e}=this.props;this._forceContainerReflow(),this.setState({value:s},(()=>{this._startTime=Date.now(),e()}))}))):this._endTransition({withEndHandlers:!1})}componentDidUpdate(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()}render(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})}}i.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}}},80575:(e,t,n)=>{"use strict";n.d(t,{F:()=>I});var s=n(19670),i=n(46997),a=n(87363),r=n.n(a),o=n(32286);class l extends a.PureComponent{constructor(...e){return super(...e),this.state={value:null,endValue:null,duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._contentElem=null,this._containerRef=e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e},this._contentRef=e=>{this._contentElem=e},this._onTransitionEnd=e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})},this}_isTransitionEvent(e){return e.target===this._containerElem&&"height"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return null!==e&&null!==this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getRemainingShift(e){const{endValue:t}=this.state;return null!==t?e-t:0}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:s,withTransition:i}=this.state,a={};return null!==n&&(a.height=n),i&&(a.transition=`${s}ms height ${e} ${t}ms`),a}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:null,endValue:null,duration:null,withTransition:!1},(()=>{e&&this.props.onAfterEnd(),this.props.onComplete()}))}_startTransition(e){const{getDuration:t,onBeforeStart:n}=this.props,s=e.containerHeightStyle,i=this._contentElem&&this._contentElem.offsetHeight||0,a=this._getRemainingTime(),r=this._getRemainingShift(s),o=i-e.contentHeight-r,l=s+o;if(0===o)return void this._endTransition({withEndHandlers:!1});const c=t(a,o);0!==c?(n(),this.setState({value:s,endValue:l,duration:c,withTransition:!0},(()=>{this._forceContainerReflow(),this.setState({value:l},(()=>{this._startTime=Date.now(),this.props.onAfterStart()}))}))):this._endTransition({withEndHandlers:!1})}getSnapshotBeforeUpdate(e){return this._containerElem&&this.props.triggerKey!==e.triggerKey?{containerHeightStyle:parseFloat(String(getComputedStyle(this._containerElem).height)),contentHeight:this._contentElem&&this._contentElem.offsetHeight||0}:null}componentDidUpdate(e,t,n){n&&this._startTransition(n)}render(){return this.props.children({containerRef:this._containerRef,contentRef:this._contentRef,containerStyle:this._getContainerStyle()})}}l.defaultProps={timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};var c=n(72953),d=n(92198),u=n(40162);const m=["component","containerRef","fadeProps","heightProps","className"];class p extends a.PureComponent{constructor(...e){return super(...e),this.state=p.getUpdatedState(this.props),this._composeContainerRefs=(0,c.$)(),this}static getUpdatedState(e){return{triggerKey:e.triggerKey,children:e.children({ref:e.heightProps.contentRef})}}static getDerivedStateFromProps(e,t){return e.triggerKey!==t.triggerKey?p.getUpdatedState(e):null}render(){const e=this.props,{component:t,containerRef:n,fadeProps:a,heightProps:o,className:l}=e,c=(0,i.Z)(e,m),{children:p}=this.state,h=a.style,b=o.containerStyle,g=[h.transition,b.transition].filter(Boolean).join(", "),v=(0,d.d)((0,u.C)(c,["triggerKey"]),{style:{opacity:h.opacity,height:b.height,transition:g}});return r().createElement(t,(0,s.Z)({className:l,ref:this._composeContainerRefs(a.ref,o.containerRef,n)},v),p)}}p.defaultProps={component:"div"};const h=(0,a.forwardRef)(((e,t)=>r().createElement(p,(0,s.Z)({containerRef:t},e)))),b="ACTIVE_STATUS_KEY",g="FADE_TRANSITION",v="HEIGHT_TRANSITION",_="CHILDREN_TRANSITION",f="PENDING",y="FADE_IN",w="RESIZE",k="FADE_OUT";const S=new class{constructor(e){this._config=e}_getUpdatedAnimationsState(e,t){const n=this._config&&this._config[e]&&this._config[e].animationsState;if(!n)return{};const s=Object.keys(n),i={};for(let e=0;e<s.length;e++){const a=s[e];n[a]&&(i[a]=!t[a])}return i}_getSpecificState(e,t,n){const s=this._config&&this._config[e]&&this._config[e].specificState;return s?"function"==typeof s?s(t,n):s:{}}setActiveStatus(e,t,n){const s=this._getUpdatedAnimationsState(e,n),i=this._getSpecificState(e,t,n);return Object.assign({},s,i,{[b]:e})}}({[f]:{animationsState:{[g]:!1,[v]:!1,[_]:!0},specificState:e=>({activeTriggerKey:e.triggerKey})},[k]:{animationsState:{[g]:!0,[v]:!1,[_]:!1},specificState:e=>({fadeType:"out",fadeDelay:e.delay})},[w]:{animationsState:{[g]:!1,[v]:!0,[_]:!0},specificState:e=>({activeTriggerKey:e.triggerKey})},[y]:{animationsState:{[g]:!0,[v]:!1,[_]:!1},specificState:{fadeType:"in",fadeDelay:0}}}),E=["containerRef","getResizeDuration","fadeTimingFunction","resizeTimingFunction"];class C extends a.PureComponent{constructor(...e){return super(...e),this.state=Object.assign({},S.setActiveStatus(f,this.props,{}),{lastTriggerKey:this.props.triggerKey}),this._onFadeComplete=()=>{const e=this.state.ACTIVE_STATUS_KEY;e===k&&this.setState(S.setActiveStatus(w,this.props,this.state)),e===y&&this.setState(S.setActiveStatus(f,this.props,this.state))},this._onHeightComplete=()=>{this.setState(S.setActiveStatus(y,this.props,this.state))},this._getFadeDuration=(e,t)=>{const{getFadeDuration:n}=this.props,{fadeType:s}=this.state;return n(s,e,t)},this}static getActiveStatusAfterTriggerKeyChange(e,{isActiveTriggerKey:t,isDisabled:n}){return e===f&&n?f:e===w?w:e===k&&t?y:e!==k?k:null}static getDerivedStateFromProps(e,t){const n=t.ACTIVE_STATUS_KEY;if(e.triggerKey!==t.lastTriggerKey){const s=C.getActiveStatusAfterTriggerKeyChange(n,{isActiveTriggerKey:e.triggerKey===t.activeTriggerKey,isDisabled:e.isDisabled});return s?Object.assign({},S.setActiveStatus(s,e,t),{lastTriggerKey:e.triggerKey}):{lastTriggerKey:e.triggerKey}}return n===f?S.setActiveStatus(f,e,t):null}render(){const e=this.props,{containerRef:t,getResizeDuration:n,fadeTimingFunction:a,resizeTimingFunction:c}=e,d=(0,i.Z)(e,E),{fadeType:m,fadeDelay:p}=this.state;return r().createElement(o.n,{triggerKey:this.state[g],type:m,timingFunction:a,delay:p,getDuration:this._getFadeDuration,onComplete:this._onFadeComplete},(e=>r().createElement(l,{triggerKey:this.state[v],timingFunction:c,getDuration:n,onComplete:this._onHeightComplete},(n=>r().createElement(h,(0,s.Z)({},(0,u.C)(d,["triggerKey","isDisabled","getFadeDuration"]),{ref:t,triggerKey:this.state[_],fadeProps:e,heightProps:n}))))))}}C.defaultProps={isDisabled:!1};const I=(0,a.forwardRef)(((e,t)=>r().createElement(C,(0,s.Z)({containerRef:t},e))))},16347:(e,t,n)=>{"use strict";n.d(t,{J:()=>C});var s=n(46591);var i=n(1276);const a=e=>e.image?Object.assign({},(0,i.Nr)(e),{type:s.qG.IMAGE,hasImage:!0,hasText:Boolean(e.text),hasCallToAction:Boolean(e.callToAction),rawItem:e,itemType:e.item_type,isPinned:e.is_pinned}):Object.assign({},(0,i.Nr)(e),{type:s.qG.TEXT,hasImage:!1,hasText:Boolean(e.text),hasCallToAction:Boolean(e.callToAction),rawItem:e,itemType:e.item_type,isPinned:e.is_pinned});var r=n(87187);var o=n(29435);var l=n(38266),c=n(50297);var d=n(32481),u=n(28679);const m=e=>((0,d.Hj)(u.x,e,"data в карточке поста debug"),{type:s.qG.BRIEF,id:e.id,rawItem:e,ad:(0,o.C)(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,receiveTime:Date.now(),commentsDocumentId:e.comments_document_id,shareLink:e.share_link,isPinned:e.is_pinned}),p=e=>({id:e.id,type:e.type,bulk_params:e.bulk_params,domain:e.domain,image:e.image});var h=n(85340),b=n(67991);var g=n(1603),v=n(86758),_=n(13354);const f=e=>({id:e.id,item_type:"showcase_banner",aspect_ratio:e.aspect_ratio,image:e.image,url:e.url}),y=e=>({id:e.source.id,redactor_description:e.redactor_description,bulk_params:e.bulk_params,redactor_logos:e.redactor_logos,source:(0,g.P7)(e.source),content_type:"source"}),w=e=>{switch(e.type){case s.qG.GIF:try{return(0,r.TW)(e)}catch(e){throw new Error("showcase parse video data mismatch")}case"card":return a(e);case"brief":return m(e);default:throw new Error("Unsupported showcase publication subItem")}},k=e=>({id:e.item.id,item_type:e.item_type,item:w(e.item),content_type:"publication",gif:e.gif});var S=n(7061);const E={hidden:e=>({type:s.qG.HIDDEN,id:e.id,ad:(0,o.C)(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,receiveTime:Date.now(),pos:e.pos}),card:a,gif:r.TW,short_video:r.IS,live:c.fD,live_run_out:e=>({id:e.id,type:s.qG.LIVE_RUN_OUT}),hint_eula:e=>({id:e.id,type:s.qG.HINT_EULA,link:e.link,linkText:e.link_text,additionalLink:e.additional_link,additionalLinkText:e.additional_link_text,html:e.html,text:e.text,bulkParams:e.bulk_params}),gallery:e=>({type:Boolean(e.is_interlaced)?s.qG.GALLERY_INTERLACED:s.qG.GALLERY,id:e.id,rawItem:e,ad:(0,o.C)(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,receiveTime:Date.now(),commentsDocumentId:e.comments_document_id,shareLink:e.share_link,isPinned:e.is_pinned}),brief:m,promo_login:e=>({id:e.id,type:s.qG.PROMO_LOGIN,rawItem:e,receiveTime:Date.now()}),news:e=>({type:s.qG.NEWS,id:e.id||(0,v.H)(s.qG.NEWS),rawItem:e,receiveTime:Date.now()}),short_video_carousel:e=>({id:e.id,menu:e.menu,type:s.qG.SHORT_VIDEO_CAROUSEL,rawItem:e}),onboarding_interest_list:e=>({id:e.id,type:s.qG.ONBOARDING_INTEREST_LIST,rawItem:Object.assign({},e,{items:e.items.map(p)})}),interview:e=>{const t=(0,h.Qc)(b.S,e);return Object.assign({},t,{id:"",currentScreenId:t.initialScreenId})},plain_card:e=>{try{switch(e.item_type){case _.j.BANNER:return Object.assign({},(e=>({id:e.id,type:s.qG.SHOWCASE_CARD,item_type:"banner_list",bulk_params:e.bulk_params,items:e.items.map(f)}))(e),{rawItem:e});case _.j.PUBLISHERS:return Object.assign({},(e=>({id:e.id,type:s.qG.SHOWCASE_CARD,title:e.title,description:e.description,source:e.source,image:e.image,bulk_params:e.bulk_params,is_last_block:e.is_last_block,item_type:e.item_type,items:e.items.map(y)}))(e),{rawItem:e});case _.j.PUBLICATIONS:return Object.assign({},(e=>({id:e.id,type:s.qG.SHOWCASE_CARD,item_type:_.j.PUBLICATIONS,title:e.title,description:e.description,source:e.source,items:e.items.map(k),bulk_params:e.bulk_params,image:e.image,is_last_block:e.is_last_block}))(e),{rawItem:e});case _.j.PROMO_PUBLICATIONS_CAROUSEL:return Object.assign({},(e=>Object.assign({type:s.qG.SHOWCASE_CARD,item_type:_.j.PROMO_PUBLICATIONS_CAROUSEL,id:e.id||(0,v.H)(_.j.PROMO_PUBLICATIONS_CAROUSEL)},e))(e),{rawItem:e});case _.j.REPOST:return Object.assign({},(e=>({id:e.id,type:s.qG.SHOWCASE_CARD,item_type:_.j.REPOST,title:e.title,description:e.description,source:e.source,repost:e.repost,items:[],bulk_params:e.bulk_params,image:e.image,is_last_block:e.is_last_block}))(e),{rawItem:e});case _.j.SHOWCASE_SEARCH_RECENTS_HEADER:return Object.assign({},(e=>({id:e.id,type:s.qG.SHOWCASE_CARD,item_type:_.j.SHOWCASE_SEARCH_RECENTS_HEADER,bulk_params:e.bulk_params,items:[]}))(e),{rawItem:e});case _.j.SHOWCASE_SEARCH_RECENT:return Object.assign({},(e=>({id:e.id,type:s.qG.SHOWCASE_CARD,item_type:_.j.SHOWCASE_SEARCH_RECENT,bulk_params:e.bulk_params,item_id:e.item_id,content_type:e.content_type,link:e.link,source:e.source,items:[]}))(e),{rawItem:e})}}catch(e){throw new Error(`Showcase parse data mismatch: ${e}`)}},subscriptions_more:e=>({type:s.qG.SUBSCRIPTIONS_MORE,id:e.id||(0,v.H)(s.qG.SUBSCRIPTIONS_MORE),rawItem:e,receiveTime:Date.now()}),subscriptions_heads:e=>({type:s.qG.SUBSCRIPTIONS_HEADS,id:e.id||(0,v.H)(s.qG.SUBSCRIPTIONS_HEADS),rawItem:e,receiveTime:Date.now()}),recommendations_channels:S.O,promo_publishers_carousel:e=>{const t=e.id||(0,v.H)(s.qG.PROMO_PUBLISHERS_CAROUSEL);return{type:s.qG.PROMO_PUBLISHERS_CAROUSEL,packId:t,id:t,rawItem:e,receiveTime:Date.now()}},promo_publications_list:e=>({type:s.qG.PROMO_PUBLICATIONS_LIST,id:e.id,rawItem:e,receiveTime:Date.now()}),promo_publications_carousel:e=>{const t=e.id||(0,v.H)(s.qG.PROMO_PUBLICATIONS_CAROUSEL);return{type:s.qG.PROMO_PUBLICATIONS_CAROUSEL,packId:t,id:t,rawItem:e,receiveTime:Date.now()}},live_carousel:e=>{const t=e.id||(0,v.H)(s.qG.LIVE_CAROUSEL);return{type:s.qG.LIVE_CAROUSEL,packId:t,id:t,rawItem:e,receiveTime:Date.now()}},search_publishers:e=>{const t=(0,v.H)(s.qG.SEARCH_PUBLISHERS);return{type:s.qG.SEARCH_PUBLISHERS,packId:t,id:t,rawItem:e,receiveTime:Date.now()}},publishers_content_carousel:e=>{const t=e.id||(0,v.H)(s.qG.PUBLISHERS_CONTENT_CAROUSEL);return{type:s.qG.PUBLISHERS_CONTENT_CAROUSEL,packId:t,id:t,rawItem:e,receiveTime:Date.now()}},ad_campaign_card:e=>({type:s.qG.AD_CAMPAIGN_CARD,id:e.id,rawItem:e}),ad_campaign_banner:e=>({type:s.qG.AD_CAMPAIGN_BANNER,id:e.id,rawItem:e})},C=e=>{const t=(0,l.Rj)(E,e.type);return t?t(e):(console.warn(`Unsupported doc type: ${e.type}`),null)}},28338:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>o,MU:()=>l,dE:()=>c});var s=n(87187),i=n(46591),a=n(32481),r=n(76480);const o=({items:e=[]})=>e.reduce(((e,t)=>{if("recommendations_channels"===t.type){const n=(0,a.Hj)(r.X,t,"Карусель голов в видео рахсопе");e.push(n)}if(t.type===i.qG.GIF||t.type===i.qG.SHORT_VIDEO){const n=(0,s.TW)(t);n&&e.push(n)}return e}),[]),l=({more:e})=>e&&e.link,c=({ad_pixels_data:e,ad_pixels_link:t})=>({adPixelData:e,adPixelsLink:t})},50297:(e,t,n)=>{"use strict";n.d(t,{fD:()=>i,VT:()=>a});var s=n(46591);const i=e=>e.is_interlaced?r(e):a(e),a=e=>{var t,n;return{type:s.qG.LIVE,id:e.id,rawItem:e,bidFloor:e.bid_floor?Number(e.bid_floor):void 0,receiveTime:Date.now(),bulkParams:e.bulk_params,link:e.link,shareLink:e.share_link,pos:e.pos,commentsDocumentId:e.comments_document_id,scheduledTimeInfo:{scheduledTime:null==e||null==(t=e.scheduled_time_info)?void 0:t.scheduled_time,serverTime:null==e||null==(n=e.scheduled_time_info)?void 0:n.server_time},videoInfo:{videoContentId:e.video_info.video_content_id}}},r=e=>Object.assign({},a(e),{type:s.qG.LIVE_INTERLACED})},7061:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var s=n(46591),i=n(86758);const a=e=>{const t=(0,i.H)(s.qG.RECOMMENDATIONS_CHANNELS);return{type:s.qG.RECOMMENDATIONS_CHANNELS,packId:t,id:t,rawItem:e,receiveTime:Date.now()}}},87187:(e,t,n)=>{"use strict";n.d(t,{zc:()=>h,xL:()=>k,TW:()=>E,IS:()=>C,Wt:()=>T,pP:()=>A});var s=n(32481),i=n(46591),a=n(43119),r=n(1276),o=n(7582),l=n(2007),c=n(49082);let d;!function(e){e[e.YOUTUBE=1]="YOUTUBE",e[e.TELEGRAM=2]="TELEGRAM",e[e.TIKTOK=3]="TIKTOK",e[e.INSTAGRAM=4]="INSTAGRAM"}(d||(d={}));const u=({page_id:e,category_id:t})=>({partnerId:e?parseInt(e,10):void 0,category:void 0!==t?t:1016,hasPreroll:!1}),m=({pixels_data:e})=>{if(e)return{sessionId:null==e?void 0:e.session_id,dspId:null==e?void 0:e.dspId}},p=({has_sound:e,heartbeat_pos:t,first_frames:n,id:i,streams:a,loop:r,player:o,provider:c,userAgent:d,video_info:p,additional_params:h,replay_count:b=2,autoplay:g,width:v,isShortVideo:_,height:f,duration:y,ad:w,views:k,views_formatted:S,viewed_time:E,video_feed_url:C,previews:I,long_previews:P})=>({hasSound:e,streams:a,heartbeatTimes:t,id:i,loop:r,player:o,isShortVideo:_,provider:c,userAgent:d,videoInfo:p?R(p):{},additionalParams:(0,s.Hj)(l.$3,h,"parseVideo"),autoplay:g,firstFrames:n,replayCount:b,width:v,height:f,duration:y,adConfig:w&&u(w),views:k,viewsFormatted:S,viewedTime:E,videoFeedUrl:C,previews:I,longPreviews:P,adPixelData:w&&m(w)});let h;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(h||(h={}));const b=e=>{if(e)return{link:e.link,videoFullView:e.video_full_view,videoExpand:e.video_expand,show:e.show}},g=e=>{if(!e)return;const{button_name:t,description:n,logo:s,title:i,url:a,url_type:r,type:o,price_url:l,link_info_url:c,market_model_id:d,video_call_to_action_timestamp:u,link_id:m}=e;return{buttonName:t,description:n,logo:s?{logoUrl:s.url,mainColor:s.main_color}:void 0,title:i,url:a,urlType:r,type:o,priceUrl:l,appearanceTime:u,linkInfoUrl:c,marketModelId:d,linkId:m}},v=e=>{const t={from_block:e.fromBlock,video_content_id:e.videoContentId,strongest_id:e.strongestId,item_id:e.itemId,stream_block:e.streamBlock,from:e.from,ppi:e.ppi,rid:e.rid};return e.duration&&(t.duration=e.duration),e.partnerStatId&&(t.partner_stat_id=e.partnerStatId),(0,s.Hj)(l.$3,t,"parseVideo")},_=e=>{const t={page_id:e.pageId,category_id:e.categoryId};return u(t)},f=e=>{var t;return null==(t=e.SingleStream[0])?void 0:t.PreviewTargetWidthToUrl},y=e=>{if(e.SingleStream[0]&&e.SingleStream[0].FirstFrameUrlPrefix){const t=e.SingleStream[0].FirstFrameUrlPrefix,n=[1920];return[1080].map(((e,s)=>{const i=n[s];return{bitrate:0,height:i,width:e,url:`${t}/${e}x${i}`}}))}return[]},w=e=>{const t=(e=>{var t;return((null==(t=e.SingleStream[0])?void 0:t.StreamInfo)||[]).map((e=>e.OutputStream))})(e.rawStreams);0===t.length&&console.error("Empty playlist streams");const n=t.length?t:e.video.id?[e.video.id]:[];return Object.assign({},e.video,{streams:n,previews:f(e.rawStreams),firstFrames:y(e.rawStreams),heartbeatTimes:e.video.heartbeatPos,additionalParams:v(e.video.additionalParams),adConfig:e.video.ad&&_(e.video.ad),adPixelData:e.video.ad&&e.video.ad.pixelsData})},k=e=>"live"===e.itemType?Object.assign({},e,w(e),{video:void 0,text:e.description,channelOwnerUid:parseInt(e.channelOwnerUid,10),type:i.qG.LIVE,feedback:(0,c.M)(e.feedbackInfo),isLiveFinished:e.isLiveFinished,receiveTime:Date.now()}):Object.assign({},e,{channelOwnerUid:parseInt(e.channelOwnerUid,10),type:i.qG.GIF,video:w(e),feedback:(0,c.M)(e.feedbackInfo),covid19:e.covid_19,receiveTime:Date.now()}),S=e=>{e.image&&!e.big_card_image&&console.warn("no big_card_image",e);const t=(0,a.t)(e.stat_params),n=Array.isArray(e.mentions)?e.mentions.map((e=>(0,s.Qc)(l.o0,e,"parseBaseVideo"))):void 0;return Object.assign({video:p(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),publisherId:e.publisher_id,publicationId:e.publication_id,videoPixels:b(e.video_pixels),hasDescription:void 0===e.has_description||e.has_description,description:e.description,hasTags:void 0===e.has_tags||e.has_tags,callToAction:g(e.call_to_action),statParams:t,subscribeTriggerEvent:e.subscribeTriggerEvent||"click",expandDelaySec:void 0===e.expand_delay?5:parseInt(e.expand_delay,10),expandType:e.expand_type||o.Gz.None,stopAndGoExternalUrl:e.stop_and_go_external_url,flightId:e.flight_id},(0,r.$t)(e),{rawItem:e,hasCallToAction:Boolean(e.call_to_action),creationTime:e.creation_time,metricaId:e.metrica_id,covid19:e.covid_19,socialInfo:P(e.socialInfo),isPinned:e.is_pinned,mentions:n,adDisable:e.ad_disable,menu:e.menu,isSavedToBookmarks:e.is_saved_to_bookmarks})},E=e=>Object.assign({type:i.qG.GIF},S(e)),C=e=>Object.assign({type:i.qG.SHORT_VIDEO},S(e)),I=e=>({popupJumpsAfterSecs:e.popup_jumps_after_secs,popupOpeningPercentageForLinkOpen:e.popup_opening_percentage_for_link_open,linkToOpen:e.link_to_open,linkToShow:e.link_to_show,background:e.background?{srcX1:e.background.src_x1,srcX2:e.background.src_x2}:void 0,faviconLink:e.favicon_link}),P=e=>e?{commentCount:e.commentCount,commentsEnabled:e.commentsEnabled,likeCount:e.likesCount,commentatorAvatars:e.avatarUrls}:void 0,T=({video_popup_data:e,sharing:t})=>({publicationId:e.publication_id,snippet:e.snippet,tags:e.tags,publicationSubscriptions:e.publication_subscriptions,publicationComments:e.publication_comments,publisherSubscriptions:e.publisher_subscriptions,swipeToSite:e.swipe_to_site?I(e.swipe_to_site):void 0,commentsVisibility:e.comments_visibility,sharingLink:null==t?void 0:t.link,episodes:e.episodes,episodeLinkFormatted:e.episode_link_formatted}),R=e=>{const{video_content_id:t}=e;return{videoContentId:t}},A=e=>(0,s.Hj)(l.j3,e,"Поллинг ручки отложенного лайва")},29435:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var s=n(38905),i=n(94823);const a=(e,t=0)=>{if((0,s.tP)(e))return e;let n="",r=null,o=null,l=null,c=null;if((0,i.HH)(e))n=e;else if((0,s.VZ)(e)){if(l=e,(0,s.tP)(l._zenLoggerEventInfo))return l._zenLoggerEventInfo;n=l.message}else if((0,i.Kn)(e)){const t=e;n=t.message,r=t.details||null,o=t.context||null,c=t.cause||null}return(0,i.HH)(n)||(n="Unnamed event"),(0,s.x1)(r)||(r=null),(0,i.Kn)(o)||(0,i.mf)(o)||(o=null),(0,s.VZ)(l)||(l=null),c?(c=t<10?a(c,t+1):null,c&&(n=`${n}: ${c.message}`)):c=null,{message:n,details:r,context:o,error:l,cause:c,_isZenLoggerEventInfo:!0}};class r extends Error{constructor(e){const t=a(e);super(t.message),(0,i.HH)(this.stack)||(Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack),this.name=r.name,this.message=t.message,this._zenLoggerEventInfo=t,t.error=this}static extendError(e,t){const n=a(Object.assign({},t,{message:e.message}));e.message=n.message,e._zenLoggerEventInfo=n,n.error=e}}var o=n(63843);const l=e=>({sessionId:e.session_id,dspId:e.dspId}),c=e=>(e.bulk_params||console.error(new r({message:"Expect bulkParams in AdCard",details:{blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big}})),{domElemId:e.dom_elem_id,partnerStatId:e.partner_stat_id,isBig:e.is_big,bulkParams:e.bulk_params,pixelsData:e.pixels_data?l(e.pixels_data):void 0}),d=e=>{if(e)return e.type===o.AdPlatform.direct?(e=>Object.assign({type:o.AdPlatform.direct,blockId:e.block_id,data:e.data,skipToken:e.skip_token,format:e.format},c(e)))(e):e.type===o.AdPlatform.myTarget?(e=>Object.assign({type:o.AdPlatform.myTarget,slotId:e.slot_id},c(e)))(e):void 0}},1276:(e,t,n)=>{"use strict";n.d(t,{Nr:()=>b,$t:()=>h});var s=n(1603),i=n(29435),a=n(25723),r=n(85340);const o=e=>e.map((e=>(e.type,Object.assign({},e,{answers:e.answers.map((e=>Object.assign({},e,{isChecked:!1})))})))),l=e=>{const t=(0,r.Hj)((0,r.wY)(a.Gw),e);return null!=t&&t.questions?{questions:o(t.questions)}:void 0},c=({feedback_info:e})=>e?e.is_liked?"liked":e.is_disliked?"disliked":null:null,d=(0,r.Lb)({title:r.Z_}),u=(0,r.Lb)({like:(0,r.wY)(d),dislike:(0,r.wY)(d),click:(0,r.wY)(d)}),m=e=>(0,r.Hj)(u,e),p=e=>{var t;return Object.assign({ad:(0,i.C)(e.ad),topAd:(0,i.C)(e.top_ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,domainTitle:e.domain_title,link:e.link,shareLink:e.share_link,urlHash:e.url_hash,logo:e.logo,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},reactions:e.reactions?m(e.reactions):void 0,mainColor:e.main_color,read:e.read,feedback:c(e),feedLink:null==(t=e.source)?void 0:t.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},(e=>({id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,source:(0,s.P7)(e.source),creationTime:e.creation_time,publicationDate:e.publication_date,views:e.views,actionTime:e.action_time,requireUserData:e.require_user_data,pos:e.pos,receiveTime:Date.now(),rtbLabel:e.rtb_label||e.recommend_label,richRecommendLabel:e.rich_recommend_label,recommendReason:e.recommend_reason,labelText:e.promo_label&&{channelInfoSubscribed:e.promo_label.channel_info_subscribed,channelInfoUnsubscribed:e.promo_label.channel_info_unsubscribed}}))(e))},h=e=>{var t;return e.image&&e.big_card_image,Object.assign({image:e.image,bigImage:e.big_card_image||e.image,width:e.width,height:e.height,smallImage_16x9:(null==(t=e.redesign_images)?void 0:t.ratio_16x9)||e.image},p(e))},b=e=>Object.assign({isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:l(e.custom_user_feedback_data),rocket:Boolean(e.zen_logo),pixels:e.pixels},e.image?h(e):p(e))},1603:(e,t,n)=>{"use strict";n.d(t,{P7:()=>d,yV:()=>u,fH:()=>p,St:()=>m});var s=n(45304);var i=n(43119),a=n(32481),r=n(71966);const o=e=>{const t=(0,a.Hj)(r.My,e,"image-v3");return t.link?t:void 0};var l=n(2007),c=n(94823);const d=({strongest_id:e,public_id:t,type:n,status:s,social_profile_status:i,name:a,title:r,logo:d,logo_sizes:u,framed_logo:m,header_background_image:p,header_background_video:b,logo_background_color:g,redesign_logos:v,title_background_color:_,title_color:f,feed_link:y,feed_share_link:w,feed_api_link:k,subtitle:S,description:E,subscribers:C,subscriptions:I,social_links:P,main_external_link:T,is_verified:R,is_nirvana:A,link:x,has_new_publications:O,subscription_forbidden:N,user_comments_count:M,authors_likes_count:L,subscribers_avatars:D,id_color:B,is_agree_to_share_data:F,terms_of_use:Z,third_party_can_use:V,new_agreement:U,is_my_channel:j,is_empty_channel:z,is_business_channel:H,business_phone:q,publisher_id:$,vacuum_counter_id:G,metrica_id:W,recommendations_channels_link:Y,owner_subscriptions:K,owner_uid:X,has_live:J,viewer_image:Q})=>{return{id:String(e),publicId:t,type:n,status:s,socialProfileStatus:i,name:a,title:r,headerBackgroundImage:p?o(p):void 0,headerBackgroundVideo:b?(0,l.TW)(b):void 0,logo:d,subtitle:S,description:E,subscribers:C,subscriptions:I,isVerified:R,isNirvana:A,framedLogo:m,logoSizes:(ee=u,ee?{framed_100x128_1x:ee.framed_100x128_1x,framed_132x176_1x:ee.framed_132x176_1x,framed_202x260_1x:ee.framed_202x260_1x,framed_212x280_1x:ee.framed_212x280_1x}:{}),logoBackgroundColor:g,redesignLogos:v,titleBackgroundColor:_,titleColor:f,feedLink:y,feedShareLink:w,feedApiLink:k,socialLinks:h(P),mainExternalLink:T,link:x,hasNewPublications:O,subscriptionForbidden:N,userCommentsCount:M,authorsLikesCount:L,subscribersAvatars:D,idColor:B,isAgreeToShareData:(0,c.o8)(F)||F,termsOfUse:Z,thirdPartyCanUse:V,newAgreement:U,isMyChannel:j,isEmptyChannel:z,isBusinessChannel:H,businessPhone:q,publisherId:$,vacuumCounterId:G,metricaId:W,recommendationsChannelsLink:Y,ownerSubscriptions:K,ownerUid:X,hasLive:J,viewerImage:Q};var ee},u=e=>{if(e.stat_params){var t;const n=null!=(t=(0,i.t)(e.stat_params))?t:{};return Object.assign({},d(e.source),n.placeholder)}return Object.assign({},d(e.source),(e=>{try{(0,s.Nl)(e);const{bulk_params:t}=e;return(0,s.pX)(t),{bulkParams:t}}catch(e){return console.error(e),{bulkParams:""}}})(e))},m=e=>e.items.map(u),p=({source:e,bulk_params:t})=>Object.assign({},d(e),{bulkParams:e.bulk_params||t}),h=e=>Array.isArray(e)?e.map((({link:e,name:t,image:n,social_network:s})=>({link:e,name:t,image:n,network:s}))):[]},43119:(e,t,n)=>{"use strict";function s(e){if(!e)return;return Object.keys(e).reduce(((t,n)=>{const{bulk_params:s,links:i}=e[n];return Object.assign({},t,{[n]:{bulkParams:s,links:i}})}),{})}n.d(t,{t:()=>s})},2007:(e,t,n)=>{"use strict";n.d(t,{o0:()=>y,Q8:()=>f,$3:()=>g,j3:()=>S,TW:()=>b});var s=n(46997),i=n(32481);var a=n(62993),r=n(86826),o=n(77735),l=n(78147),c=n(30373),d=n(51780),u=n(29332),m=n(249);const p=["video_content_id","partner_stat_id"],h=(0,a.R)({vcid:r.Z_,stream:r.Z_,width:r.Rx,height:r.Rx}),b=e=>(0,i.Hj)(h,e,"video.tsx"),g=(0,o.n)((0,a.R)({duration:(0,l.w)(r.Rx),from:r.Z_,partner_stat_id:(0,l.w)(r.Z_),puid:(0,l.w)(r.Z_),video_content_id:(0,l.w)(r.Z_),from_block:(0,l.w)(r.Z_),strongest_id:(0,l.w)(r.Z_),item_id:(0,l.w)(r.Z_),stream_block:(0,l.w)(r.Z_),rid:(0,l.w)(r.Z_),ppi:(0,l.w)(r.Z_)}),(e=>{let{video_content_id:t,partner_stat_id:n}=e,i=(0,s.Z)(e,p);return Object.assign({"video-content-id":t,"partner-stat-id":n},i)})),v=(0,a.R)({js:(0,a.R)({load:(0,c.I)(r.Z_),preload:(0,c.I)(r.Z_)}),css:(0,a.R)({load:(0,c.I)(r.Z_),preload:(0,c.I)(r.Z_)})}),_=((0,a.R)({version:r.Z_,player:v,playerAbd:v,playerSkin:v,vhPlayer:v,vhPlayerJs:v,flags:(0,l.w)(r.Z_),slots:(0,l.w)(r.Z_)}),(0,a.R)({bitrate:r.Rx,height:r.Rx,width:r.Rx,url:r.Z_})),f=(0,c.I)(_),y=(0,d.v)({text:r.Z_,mongoId:r.Z_,channelApiUrl:r.Z_,feedLink:(0,l.w)(r.Z_),source:(w=m.Hw,(0,i.Mv)(((e,t)=>(0,i.kB)(w)(e,(0,i.zL)(t)))))});var w;const k=(0,d.v)({scheduledTimeInfo:(0,l.w)((0,d.v)({scheduledTime:(0,l.w)(r.Z_),serverTime:(0,l.w)(r.Z_)}))}),S=(0,u.j)(k,(0,d.v)({video:(0,d.v)({videoInfo:(0,d.v)({videoContentId:r.Z_}),id:(0,l.w)(r.Z_)})}))},39283:(e,t,n)=>{"use strict";n.d(t,{io:()=>G,NT:()=>z});var s=n(16347),i=n(38266),a=n(18290),r=n(86758);const o={subscriptions_heads:e=>({type:a.q.SUBSCRIPTIONS_HEADS,id:e.id||(0,r.H)(a.q.SUBSCRIPTIONS_HEADS),rawItem:e,receiveTime:Date.now()}),subscriptions_heads_placeholder:()=>({type:a.q.SUBSCRIPTIONS_HEADS_PLACEHOLDER,id:(0,r.H)(a.q.SUBSCRIPTIONS_HEADS_PLACEHOLDER),receiveTime:Date.now()})};var l=n(87187);function c(e){const t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time||null),t}function d(e){const t={subscriptionsCount:null};return e&&e.subscriptionsCount&&(t.subscriptionsCount=e.subscriptionsCount),t}var u=n(81235),m=n(1603);const p=e=>e.map((e=>Object.assign({},(0,m.fH)({source:e}),{isFromServer:!0}))),h=e=>{if(!e)return{status:"complete",result:[]};switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:p(t)}}case"error":return e;default:return{status:"error"}}},b=e=>{if(!e)return{status:"complete",result:[]};switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:p(t).filter((e=>"domain"===e.type||"publisher"===e.type))}}case"error":return e;default:return{status:"error"}}};var g=n(67991),v=n(85340);const _=(0,v.Ry)({id:v.Z_,title:v.Z_,text:v.Z_,buttonText:v.Z_,alternativeButtonText:v.Z_,gifSource:v.Z_});var f=n(37991);const y=(0,v.Ry)({reasons:(0,v.IX)((0,v.Ry)({id:v.Z_,text:v.Z_})),link:(0,v.wY)(v.Z_)}),w=e=>{if(e)return(0,v.Qc)(y,e),Object.assign({},e,{link:e.link||f.w})};var k=n(50297),S=n(3779),E=n(51780),C=n(86826),I=n(78147);const P=(0,E.v)({iconCode:C.Z_,iconalt:(0,I.w)(C.Z_),t1:C.Rx,t2:C.Rx,t2name:C.Z_,t3:C.Rx,t3name:C.Z_,url:C.Z_,bulkParams:C.Z_}),T=(0,E.v)({regionTitle:(0,I.w)(C.Z_),geoid:(0,I.w)(C.Rx),isGeoSetByUser:(0,I.w)(C.O7)});var R=n(32481);var A=n(30373),x=n(62993),O=n(77735);const N=(0,A.I)((0,x.R)({common:(0,x.R)({ssr:(0,x.R)({html:(0,I.w)(C.Z_)})})})),M=(0,x.R)({teaser:(0,I.w)(N),fullscreen:(0,I.w)(N),systembanner:(0,I.w)(N),stripe:(0,I.w)(N),splashscreen:(0,I.w)(N),popup:(0,I.w)(N),link_bro:(0,I.w)(N)}),L=(0,E.v)({data:(0,x.R)({banners:M,context_script:(0,I.w)(C.Z_)})}),D=e=>{if(e)return(0,R.Qc)(B,e,"Данные из ssr_banner")},B=(0,O.n)(L,(e=>{var t,n;const s=null==e||null==(t=e.data)?void 0:t.banners,i=null==e||null==(n=e.data)?void 0:n.context_script;if(!s)return;const a=Object.keys(s).filter((e=>"main"!==e&&"linkhead"!==e));if(!a.length)return;const r={};return a.forEach((e=>{var t,n,i;const a=s[e],o=null==a||null==(t=a[0])||null==(n=t.common)||null==(i=n.ssr)?void 0:i.html;o&&(r[e]=o)})),Object.keys(r).length?Object.assign({},r,i?{contextScript:i}:{}):void 0})),F=(0,E.v)({data:(0,x.R)({banners:(0,x.R)({main:(0,I.w)((0,x.R)({common:(0,I.w)((0,x.R)({ssr:(0,I.w)((0,x.R)({html:C.Z_}))})),settings:(0,I.w)((0,x.R)({1:(0,I.w)((0,x.R)({ssr:(0,I.w)((0,x.R)({html:C.Z_}))}))})),rtb:(0,I.w)((0,x.R)({ssr:(0,I.w)((0,x.R)({html:C.Z_}))}))}))})})}),Z=e=>{if(e)return(0,R.Qc)(V,e,"Данные из ssr_banner")},V=(0,O.n)(F,(e=>{var t,n,s,i,a,r,o,l,c;const d=null==e||null==(t=e.data)||null==(n=t.banners)?void 0:n.main,u=null==d||null==(s=d.common)||null==(i=s.ssr)?void 0:i.html,m=null==d||null==(a=d.settings)||null==(r=a[1])||null==(o=r.ssr)?void 0:o.html,p=null==d||null==(l=d.rtb)||null==(c=l.ssr)?void 0:c.html;if(d)return m||p||u}));var U=n(78047),j=n(28338);const z=(e,t,n)=>{if(!e)return null;const i=e.reduce(((e,i)=>{if(i)try{const a=(0,s.J)(i);a&&e.push(Object.assign({},a,{packId:t,cacheId:n,id:q({id:a.id,type:a.type})}))}catch(e){console.error((0,S.X)(e).message,`rid: ${t}, itemId: ${i.id}, itemType: ${null==i?void 0:i.type}, itemCardType: ${i.card_type}`)}return e}),[]);return i.length>0?i:null},H=(e,t,n)=>{if(!e)return null;const s=e.reduce(((e,s)=>{if(s)try{const a=(e=>{const t=(0,i.Rj)(o,e.type);return t?t(e):(console.warn(`Unsupported doc type: ${e.type}`),null)})(s);a&&e.push(Object.assign({},a,{packId:t,cacheId:n,id:q({id:a.id,type:a.type})}))}catch(e){console.error((0,S.X)(e).message,`rid: ${t}, itemId: ${s.id}, itemType: ${null==s?void 0:s.type}, itemCardType: ${s.card_type}`)}return e}),[]);return s.length>0?s:null},q=({id:e,type:t})=>e||(0,r.H)(t),$=(e,t)=>{var n,s,i,a;const r=z(e.items||[],e.rid,t),o=z(e.sidebar_items||[],e.rid,t),p=H(e.left_sidebar_items||[],e.rid,t),v=(e=>{if(!e)return{status:u.UW.Feed};switch(e.status){case u.UW.Banned:case u.UW.NotFound:return{status:e.status};case u.UW.Ok:{const{social_profile_status:t,social_csrf_token:n}=e;return{status:u.UW.Ok,socialProfileStatus:t,socialCsrfToken:n,source:(0,m.fH)(e)}}default:return console.error("Broken channel from backend"),{status:u.UW.Feed}}})(e.channel),f=(e=>e?(0,l.xL)(e):null)(e.video),y=(0,j.Z3)({items:e.video_shorts||[]}),S=(E=e.weather,C=e.geo_info,E?Object.assign({},(0,R.Hj)(P,E,"Геоблок: погода"),(0,R.Hj)(T,C||{},"Геоблок: город")):null);var E,C,I;return{rid:e.rid,cacheId:t,receivedAt:e.received_at||0,ttl:1e3*(e.ttl||0),storeTtl:1e3*(e.store_ttl||0),source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,adSecdata:e.ad_secdata,channel:v,suites:e.suites?(0,R.Qc)(U.ap,e.suites,"suites"):void 0,suite:e.suite?(0,R.Qc)(U.i0,e.suite,"suite"):void 0,channelPixels:e.channel_pixels,items:r,sidebarItems:o,leftSidebarItems:p,video:f,videoShorts:y,isIceStart:e.ice_start,feedbackCacheClean:Boolean(e.feedback_cache_clean),experimentsData:e.experiments_data||null,feedFeatureConfig:e.feed_feature_config||null,groupIds:e.group_ids||"",buckets:e.buckets||{},clientDefinition:e.client_definition||null,user:Object.assign({},c(e.user),d(e.user_additional_info),{avatar:e.user_avatar}),currentUserRecommendations:h(e.current_user_recommendations),currentUserSubscriptions:b(e.current_user_subscriptions),currentUserSourceInfo:(I=e.current_user_source_info,I?(0,m.P7)(Object.assign({subtitle:""},I)):null),screens:e.screens,bannerMain:Z(e.ssr_banner),distribution:D(e.ssr_banner),complaints:w(e.complaints),bulk:e.bulk,more:{link:null==(n=e.more)?void 0:n.link},gridType:{name:null==(s=e.grid_type)?void 0:s.name},interview:e.interview?(0,R.Qc)(g.B,e.interview,"interview"):void 0,newSearchPopup:e.new_search_popup?(0,R.Qc)(_,e.new_search_popup,"newSearchPopup"):void 0,liveData:e.live_data?(0,k.VT)(e.live_data):void 0,clicksCount:e.clicks_count,pinnedPublicationIds:e.pinned_publication_ids,orderedIds:e.ordered_ids,maxPinnedItems:e.max_pinned_items,geoblock:S,loginLink:null==(i=e.links)?void 0:i.login,tabs:e.tabs,adPixelsLink:e.ad_pixels_link,adPixelsData:e.ad_pixels_data,auth:{isAuthorized:Boolean(null==(a=e.auth)?void 0:a.is_authorized)}}},G=(e,t="")=>$(e,t)},77110:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});const s=e=>e&&"object"==typeof e&&"captcha"in e},3774:(e,t,n)=>{"use strict";n.d(t,{uW:()=>a});var s=n(85340),i=n(72034);(0,i.d)("publisher","domain"),(0,i.d)("subscribed","not_subscribed","blocked"),(0,i.d)("active","sleeping","deleted","not_exist");const a=(0,s.Ry)({bulkParams:s.Z_,id:s.Z_,pos:s.Rx,type:s.Z_})},81341:(e,t,n)=>{"use strict";n.d(t,{nT:()=>H});var s=n(46997),i=n(43623),a=n(85340),r=n(87187),o=n(2007),l=n(48627),c=n(53104),d=n(91642),u=n(7582),m=n(3774),p=n(78047),h=n(32121),b=n(12165);const g=["ad","isShortVideo"],v=["bigCardImage","blurredPreview","callToAction","customUserFeedbackData","expandDelay","expandType","feedbackInfo","image","promoLabel","rtbLabel","recommendLabel","text","title","video","zenLogo","source","covid_19","isPromoPublication"],_=(0,a.d_)("subscribed","not_subscribed","blocked"),f=(0,a.d_)("publisher","domain"),y=(0,a.Ry)({ratio_1x1:(0,a.wY)(a.Z_)}),w=(0,a.Ry)({feedApiLink:(0,a.wY)(a.Z_),feedLink:a.Z_,logo:a.Z_,logoBackgroundColor:a.Z_,status:_,id:a.Z_,strongestId:a.Z_,subscriptionForbidden:(0,a.wY)(a.O7),title:a.Z_,description:(0,a.wY)(a.Z_),isVerified:a.O7,type:f,redesignLogos:(0,a.wY)(y),vacuumCounterId:(0,a.wY)(a.Rx),metricaId:(0,a.wY)(a.Rx),subscribers:(0,a.wY)(a.Rx)}),k=(0,a.d_)("promo","special"),S=(0,a.Ry)({type:k,text:a.Z_}),E=(0,a.Ry)({source:w,text:(0,a.wY)(a.Z_),title:(0,a.wY)(a.Z_),creationTime:(0,a.wY)(a.Z_),publicationDate:(0,a.wY)(a.Z_),recommendReason:(0,a.wY)(a.Z_),more:(0,a.wY)(d.T)}),C=(0,a.Ry)({isLiked:a.O7,isDisliked:a.O7}),I=(0,a.Ry)({link:a.Z_,shareLink:(0,a.wY)(a.Z_),read:a.O7,feedbackInfo:(0,a.wY)(C),badges:(0,a.wY)((0,a.IX)(S)),commentsDocumentId:(0,a.wY)(a.Z_),allCommentsLink:(0,a.wY)(a.Z_),oneCommentLink:(0,a.wY)(a.Z_),covid_19:(0,a.wY)(a.O7)}),P=(0,a.Ry)({id:a.Z_,type:a.Z_,text:a.Z_,stats:(0,a.Ry)({bulkParams:a.Z_})}),T=(0,a.Ry)({type:(0,a.i0)("extended_dislike_feedback"),displayType:(0,a.i0)("ask_on_dislike"),id:a.Z_,text:a.Z_,answers:(0,a.IX)(P)}),R=(0,a.kS)("type",{extended_dislike_feedback:T}),A=(0,a.Ry)({questions:(0,a.IX)(R)}),x=((0,a.d_)("turbo","subscribed","new_subscription","interest"),(0,a.Ry)({customUserFeedbackData:(0,a.wY)(A),promoLabel:(0,a.wY)(l.rF),rtbLabel:(0,a.wY)(l.Jv),recommendLabel:(0,a.wY)(l.Jv),richRecommendLabel:(0,a.wY)(l.jU),zenLogo:(0,a.wY)(l.jw),isPromoPublication:(0,a.wY)(a.O7),menu:(0,a.wY)((0,a.IX)(h.sN)),isSavedToBookmarks:(0,a.wY)(a.O7)})),O=(0,a.Ry)({pageId:(0,a.wY)(a.Z_),categoryId:(0,a.wY)(a.Rx),impId:(0,a.wY)(a.Rx)}),N=(0,a.Ry)({dspId:a.Rx,sessionId:a.Z_}),M=(0,a.Ry)({videoContentId:(0,a.wY)(a.Z_)}),L=(0,a.Ry)({ad:(0,a.wY)(O),additionalParams:o.$3,autoplay:a.O7,isShortVideo:(0,a.wY)(a.O7),duration:(0,a.wY)(a.Rx),hasSound:a.O7,heartbeatPos:(0,a.IX)(a.Rx),height:(0,a.wY)(a.Rx),id:a.Z_,streams:(0,a.wY)((0,a.IX)(a.Z_)),videoInfo:M,views:(0,a.wY)(a.Rx),viewsFormatted:(0,a.wY)(a.Z_),width:(0,a.wY)(a.Rx),videoFeedUrl:a.Z_,viewedTime:(0,a.wY)(a.Rx),firstFrames:(0,a.wY)(o.Q8),previews:(0,a.wY)((0,a.IM)(a.Z_)),longPreviews:(0,a.wY)((0,a.IM)(a.Z_)),adPixelData:(0,a.wY)(N)}),D=(0,i.G)(r.zc),B=(0,a.Ry)({buttonName:a.Z_,description:(0,a.wY)(a.Z_),linkId:(0,a.wY)(a.Z_),linkInfoUrl:(0,a.wY)(a.Z_),logo:(0,a.wY)((0,a.Ry)({url:(0,a.wY)(a.Z_),mainColor:a.Z_})),priceUrl:(0,a.wY)(a.Z_),title:a.Z_,type:(0,a.wY)(D),urlType:(0,a.wY)(a.Z_),url:a.Z_,videoCallToActionTimestamp:(0,a.wY)(a.Rx)}),F=(0,i.G)(u.Gz),Z=(0,a.Ry)({link:(0,a.wY)((0,a.IX)(a.Z_)),videoFullView:(0,a.wY)((0,a.IX)(a.Z_)),videoExpand:(0,a.wY)((0,a.IX)(a.Z_)),show:(0,a.wY)((0,a.IX)(a.Z_))}),V=(0,a.Ry)({design:(0,a.wY)(a.Z_),imageLink:(0,a.wY)(a.Z_),faviconLink:(0,a.wY)(a.Z_),linkToOpen:a.Z_,linkToShow:a.Z_,title:(0,a.wY)(a.Z_)}),U=(0,a.Ry)({callToAction:(0,a.wY)(B),expandDelay:(0,a.wY)(a.Rx),expandType:(0,a.wY)(F),stopAndGoExternalUrl:(0,a.wY)(a.Z_),videoPixels:(0,a.wY)(Z),video:L,channelOwnerUid:a.Rx,publisherId:a.Z_,publicationObjectId:(0,a.wY)(a.Z_),flightId:(0,a.wY)(a.Z_),swipeToSite:(0,a.wY)(V),adDisable:(0,a.wY)(a.O7)}),j=e=>{if(e)return Object.assign({},e,{logo:e.logo&&e.logo.url?{logoUrl:e.logo.url,mainColor:e.logo.mainColor}:void 0})},z=e=>{if(e)return{category:void 0!==e.categoryId?e.categoryId:1016,hasPreroll:!1,partnerId:e.pageId?parseInt(e.pageId,10):void 0}},H=(0,a.nn)((0,a.jV)(m.uW,E,I,x,U,c.L,p.XJ,(0,a.Ry)({image:a.Z_,bigCardImage:(0,a.wY)(a.Z_),blurredPreview:(0,a.wY)(a.Z_),sharingMenu:b.y8})),(e=>{let{bigCardImage:t,blurredPreview:n="",callToAction:i,customUserFeedbackData:a,expandDelay:r,expandType:o,feedbackInfo:l,image:c,promoLabel:d,rtbLabel:u,recommendLabel:m,text:p="",title:h="",video:{ad:b,isShortVideo:_},zenLogo:f,source:y,covid_19:w,isPromoPublication:k}=e,S=(0,s.Z)(e.video,g),E=(0,s.Z)(e,v);const C=c?{hasImage:!0,image:c,bigImage:t||c,blurredPreview:n}:{hasImage:!1},I=(e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null)(l),P=((null==a?void 0:a.questions)||[]).filter((e=>"ask_on_dislike"===e.displayType)),T=P.length>0?P[0]:void 0;return Object.assign({callToAction:j(i),dislikeQuestion:T,expandDelaySec:r||5,expandType:o||"none",feedback:I,labelIcon:f,labelText:d,rtbLabel:u||m,isPromoPublication:k,text:p,title:h,video:Object.assign({ad:b,adConfig:z(b),isShortVideo:null!=_&&_},S),source:Object.assign({},y,{bulkParams:E.bulkParams}),covid19:w},C,E)}))},70624:(e,t,n)=>{"use strict";let s,i,a,r;n.d(t,{zW:()=>s,Jl:()=>i,Ys:()=>a,Fb:()=>r,i4:()=>o,bG:()=>l}),function(e){e.PackShown="packShown",e.BulkEventLogged="bulkEventLogger",e.ApiResponseTtlExpired="apiResponseTtlExpired",e.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",e.NotShownPackUpdated="notShownPackUpdated",e.LastShownPackUpdated="lastShownPackUpdated",e.UpdatePreload="updatePreload"}(s||(s={})),function(e){e.Export="export",e.Layout="layout",e.More="more",e.Bulk="bulk",e.Subs="subs",e.Profile="profile",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Subscribers="subscribers",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.Multisearch="multisearch",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.VideoRelated="video_related",e.VideoFeed="video_more",e.GetVideoViewerData="get_video_popup_data",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SendNativeComplainStats="send_native_complain_stats",e.SocialProfileEdit="social_profile_edit",e.ProfileCompleteOnboarding="profile_complete_onboarding",e.ProfileDeactivate="profile_deactivate",e.ProfileCancelDeactivate="profile_cancel_deactivate",e.AllChannelsLink="all_channels_link",e.CurrentUserInterests="current-user-interests",e.CurrentUserSubscriptions="current-user-subscriptions",e.Teasers="teasers",e.SupportLink="support_link",e.ArticleRelated="article-related",e.ZenSearch="zen-search",e.Videos="videos",e.GetFeedPublications="get-feed-publications"}(i||(i={})),function(e){e.SessionCache="cacheStorage",e.MultiSessionCache="multiCacheStorage"}(a||(a={})),function(e){e.Network="network",e.CacheBeforeNetwork="cache-before-network",e.CacheAfterNetwork="cache-after-network"}(r||(r={}));const o=5e3,l={zenFeatures:{},clientExperiments:null,apiResponseValidator:()=>null,links:Object.keys(i).reduce(((e,t)=>(e[t]=null,e)),{}),userInfo:{},cache:{type:a.SessionCache,namespace:"common",isPrefetchEnabled:!0},feedFilter:void 0}},53932:(e,t,n)=>{"use strict";let s;n.d(t,{q:()=>s}),function(e){e.Default="default",e.Reload="reload",e.NoCache="no-cache",e.NoStore="no-store"}(s||(s={}))},40453:(e,t,n)=>{"use strict";n.d(t,{r:()=>g});var s=n(87363),i=n.n(s),a=n(13974),r=n(56862),o=n(23242),l=n.n(o),c=n(62508),d=n.n(c),u=n(68129);let m=new(l())({id:"icon-arrow-xs_59b1--inline",use:"icon-arrow-xs_59b1--inline-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="icon-arrow-xs_59b1--inline">\n<path d="M3.5 7L8 10.5L12.5 7" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />\n</symbol>'});const p=(0,u.Z)(d(),m),h=(0,a.N)("button-unfold"),b={s:r.Z,xs:p},g=({foldedText:e,unfoldedText:t,className:n,iconClassName:s,isUnfolded:o,isHoverAnimationEnabled:l=!0,onClick:c,withIcon:d=!0,isReversed:u=!1,theme:m="default",size:p="m",iconArrowSize:g="s"})=>i().createElement("button",{className:(0,a.C)(h({unfolded:o,isHoverAnimationEnabled:l,withIcon:d,isReversed:u,theme:m,size:p}),n),onClick:c},d&&i().createElement("svg",{className:(0,a.C)(h("icon"),s),viewBox:r.Z.viewBox},i().createElement("use",{xlinkHref:`#${b[g].id}`})),o?t:"",o?"":e)},28679:(e,t,n)=>{"use strict";n.d(t,{x:()=>L});var s=n(77735),i=n(49082),a=n(49390),r=n(92106),o=n(51780),l=n(86826),c=n(78147),d=n(30373),u=n(29332),m=n(88392),p=n(12165),h=n(86651),b=n(32342),g=n(53104),v=n(2213),_=n(55742),f=n(32121),y=n(83279),w=n(78047),k=n(40770),S=n(26347),E=n(24212),C=n(50589);const I=(0,S.kS)("type",{image:E.hM,video:C._});var P=n(32145);const T=(0,o.v)({link:l.Z_,title:l.Z_}),R=(0,o.v)({items:(0,c.w)((0,d.I)(I)),richText:(0,c.w)(m.x),embed:(0,c.w)(P.I3),repost:(0,c.w)(v.MV),mentions:(0,c.w)((0,d.I)(_.p)),poll:(0,c.w)(k.n_),promoCallToAction:(0,c.w)(T),publicationObjectId:(0,c.w)(l.Z_),itemType:l.Z_,type:l.Z_}),A=(0,o.v)({promoGallery:(0,c.w)(h.xb)}),x=(0,o.v)({title:(0,c.w)(l.Z_),linkToOpen:l.Z_,linkToShow:l.Z_,faviconLink:l.Z_,imageLink:l.Z_,buttonText:(0,c.w)(l.Z_),design:l.Z_}),O=(0,o.v)({swipeToSite:(0,c.w)(x)}),N=(0,u.j)(p.PM,b.x,R,g.L,(0,o.v)({heartbeatPos:(0,d.I)(l.Rx),bulkParamsForSnippet:l.Z_,menu:(0,d.I)(f.sN),gridMobile:(0,c.w)(y.U),recDebugParams:(0,c.w)(l.Z_)}),A,O,w.XJ),M=(e,t)=>Object.assign({},t,{items:t.items.map((e=>Object.assign({},e,{image:e.image})))}),L=(0,s.n)(N,(e=>{const{id:t,items:n,richText:s,promoLabel:o,rtbLabel:l,recommendLabel:c,zenLogo:d,heartbeatPos:u,feedbackInfo:m,mentions:p,promoGallery:h}=e;return Object.assign({},e,{mentions:p,items:(0,r.pJ)(n),text:s&&(0,a.a)({json:s.json,mentions:p}),labelText:o,labelIcon:d,rtbLabel:l||c,heartbeatPos:u||[],source:Object.assign({},e.source,{bulkParams:e.bulkParams}),feedback:(0,i.M)(m),promoGallery:h&&M(0,h)})}))},7752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Et});n(14072),n(53208);var s=n(87363),i=n.n(s),a=n(37471),r=n(32034),o=n(17306),l=n(46591),c=n(23268),d=n(22796),u=n(254),m=n(56720),p=n(26717),h=n(37828),b=n(45304),g=n(10253),v=n(48422);const _=(0,g.j6)({shouldSendShort:(0,g.Xg)(!1),briefS2sViewerDelay:(0,v.Rx)(2)});var f,y=n(19670),w=n(88211),k=n(95737),S=n(32481),E=n(95875),C=n(76765),I=n(68407),P=n(51749);!function(e){e.videoPos="_video_pos_",e.link="__link__",e.hpos="__hpos__",e.actionType="__action_type__",e.childId="__child_id__",e.childType="__child_type__"}(f||(f={}));const T="feed",R=({log:e,item:t})=>{const{repost:n,bulkParams:i,bulkParamsForSnippet:a}=t,r=(0,s.useRef)(0),o=(0,s.useCallback)((e=>{r.current=e}),[r]),l=(0,s.useCallback)(((t,n={})=>e(t,Object.assign({},n,{bulkParams:i,bulkReplaceMap:Object.assign({},n.bulkReplaceMap,{__place_param__:T})}))),[i,e]),c=(0,s.useCallback)(((t,n={})=>a&&e(t,Object.assign({},n,{bulkParams:a,bulkReplaceMap:Object.assign({},n.bulkReplaceMap,{__place_param__:T})}))),[a,e]),d=(0,s.useCallback)(((t,s={})=>{if(!n)return;const{stats:{bulkParams:i}}=n;e(t,Object.assign({},s,{bulkParams:i,bulkReplaceMap:Object.assign({},s.bulkReplaceMap,{__place_param__:T})}))}),[n,e]),[u]=(0,s.useState)((()=>Object.assign({},(0,E.cq)(l,t.link),(0,E.Jx)(l),(0,E.xT)(l),(0,E.H9)(l),(0,E.S4)(l),(0,E.Hz)(l),(0,E.KG)(l,e,void 0),(0,E.ZR)(l),((e,t)=>({heartbeat:n=>(t(n),e((0,P.q)("heartbeat"),{bulkReplaceMap:{[f.videoPos]:`${n}`}}))}))(l,o),((e,t)=>({expandText:()=>e((0,P.q)("expand_text"),{bulkReplaceMap:{[f.videoPos]:(0,I.M)(String(t.current),f.videoPos)}}),clickSnippetLink:t=>e((0,P.q)("action"),{bulkReplaceMap:{[f.link]:encodeURIComponent(t)}})}))(l,r),((e,t)=>({contentItemSwipe:([t,n])=>{const s=t<n?"next":"back";e((0,P.q)("content_item:swipe"),{bulkReplaceMap:{[f.hpos]:String(t),[f.actionType]:s}})},contentItemClick:({link:n,childId:s,childType:i}={})=>e((0,P.q)("content_item:click"),{bulkReplaceMap:Object.assign({[f.videoPos]:(0,I.M)(String(t.current),f.videoPos)},s?{[f.childId]:encodeURIComponent(s)}:{},i?{[f.childType]:encodeURIComponent(i)}:{},n?{[f.link]:encodeURIComponent(n)}:{})})}))(l,r),((e,t)=>({promoAction:()=>e((0,P.q)("action"),{bulkReplaceMap:{[f.videoPos]:(0,I.M)(String(t.current),f.videoPos)}})}))(l,r),(0,C.X)(c),(e=>({repostClick:()=>e((0,P.q)("content_item:click")),repostShow:()=>e((0,P.q)("content_item:show"))}))(d),((e,t)=>({briefSwipeToSite:()=>e((0,P.q)("swipe_to_site"),{bulkReplaceMap:{[f.videoPos]:(0,I.M)(String(t.current),f.videoPos)}}),clickSnippetLinkWithPromo:n=>e((0,P.q)("action"),{bulkReplaceMap:{[f.link]:encodeURIComponent(n),[f.videoPos]:(0,I.M)(String(t.current),f.videoPos)}})}))(l,r))));return u};var A=n(75227),x=n(12190),O=n(59306),N=n(67579),M=n(21770),L=n(69003),D=n(6060),B=n(97078),F=n(42292),Z=n(68629),V=n(43958),U=n(66622),j=n(25013),z=n(18718),H=n(13974),q=n(86154),$=n(22772),G=n(6449),W=n(63179);var Y=n(77945),K=n(46112),X=n(89295),J=n(9372),Q=n(21205),ee=n(43738),te=n(67726),ne=n(95957),se=n(92697),ie=n(99478);var ae=n(28679),re=n(28949),oe=n(10703),le=n(36231),ce=n(45517),de=n(3114),ue=n(8277),me=n(65757),pe=n(5954),he=n(74251),be=n(19313),ge=n(88644),ve=n(40789),_e=n(57440),fe=n(76271),ye=n(49868),we=n(96497),ke=n(10925),Se=n(88144);const Ee="feed-drawer-comments__drawerComments-3C",Ce=({isOpen:e,onClose:t,socialMeta:n,item:s,source:r,theme:o,commentsDocumentId:l})=>{const{bulkParams:c,publisherId:d,allCommentsLink:u=""}=s,m="channelOwnerUid"in s?s.channelOwnerUid:void 0,p=!(null!=n&&n.commentsEnabled&&u&&l),{experimentsString:h,commentsApiUrlTmpl:b,passportHost:g,bulkLink:v}=(0,a.v9)((e=>{const{params:{experimentsData:t},links:n}=e,s=n&&n.login_tmpl&&(0,we.en)(n.login_tmpl),i=s?`${s.protocol}//${s.host}`:void 0,a=Object.keys(t).join(","),{videoModalCommentsApiUrlTmpl:r}=(0,Se.a)(e);return{bulkLink:(null==n?void 0:n.bulk)||void 0,experimentsString:a,passportHost:i,commentsApiUrlTmpl:r}}),a.wU),_=o===ve.D.black||(null==(f=document.getElementsByTagName("html")[0])?void 0:f.classList.contains(fe.ri))||!1;var f;const y=_?ye.U.DARK_DRAWER:ye.U.DRAWER;return i().createElement(_e.d,{theme:_?ve.D.black:void 0,isVisible:e,isVerticalScreen:!0,viewType:"modest",onClose:t,isBodyScrollEnabled:!0},i().createElement(ke.$,{commentsApiUrlTmpl:b,className:Ee,channelName:(null==r?void 0:r.title)||"",documentLink:u,skin:y,documentId:l,bulkLink:v,bulkParams:c,commentsEnabled:!p,publisherId:d,ownerUid:m,passportHost:g,experiments:h,isSubscribedToChannel:Boolean("subscribed"===r.status||r.isSubscribedInCurrentSession),place:ge.EQ.Feed,commentCount:3,isLiveStream:!1,shouldRemovePaddings:!0,showLoader:!0}))};var Ie=n(89294),Pe=n(66244),Te=n(627),Re=n(66715),Ae=n(76853),xe=n(57428),Oe=n(56547),Ne=n(60534),Me=n(13189);var Le=n(42478);const De=({imageRef:e,data:t,l10n:n,isMobile:a,isVisible:r,zoomRef:o,log:l,videoPlayersManager:c,videoPlayerSettings:d})=>{const{shareLink:u,bulkParams:m=""}=t,p=(({log:e,bulkParams:t,parentStat:n,getVideoCurrentTime:i,startCurrentTime:a,sendMediascopePixel:r})=>{const o=(0,Ne.B)({log:e,bulkParams:t,parentStat:n,getVideoCurrentTime:i,startCurrentTime:a}),[l]=(0,s.useState)((()=>(0,Oe.U)(o,r||Me.c)));return l})({log:l,bulkParams:m,getVideoCurrentTime:()=>c.getCommonVideoPlayer().getCurrentTime(),sendMediascopePixel:(0,Le.e)(u)});return i().createElement(xe.m,{zoomRef:o,imageRef:e,data:t,l10n:n,isMobile:a,isVisible:r,stats:p,videoPlayerSettings:d})};var Be=n(34019),Fe=n(83889),Ze=n(66942),Ve=n(5774),Ue=n(52727);const je=["https://mc.yandex.ru/pixel/","https://mc.yandex.ru/watch/","https://www.tns-counter.ru/","https://tns-counter.ru/","https://ads.adfox.ru/","https://bs.serving-sys.com/serving/","https://ad.doubleclick.net/ddm/trackimp/","https://awaps.yandex.ru/","https://serving-sys.com/","https://ar.tns-counter.ru/","https://www.ar.tns-counter.ru/","https://ad.adriver.ru/cgi-bin/rle.cgi","https://ad.adriver.ru/cgi-bin/click.cgi","https://amc.yandex.ru/","https://mc.admetrica.ru/","https://counter.yadro.ru/hit","https://ad.doubleclick.net/ddm/trackclk/"];function ze({pixels:e,slideNumber:t,pixelsWhiteList:n,replaceParams:s}){const i=e.reduce(((e,i)=>{if(function(e,t){const n=e.trim();return(t&&t.length?t:je).some((e=>0===n.toLowerCase().indexOf(e)))}(i,n)){let n=i;n=s?(0,Ue.pc)(n,s):function(e,{rand:t,slideNumber:n}){let s=e;s="number"==typeof n?qe(s,"{SCREEN_NO}",String(n)):He(s,"{SCREEN_NO}");return s=qe(s,"{RAND}",String(t)),s=He(s,"{IDFA}"),s=He(s,"{GAID}"),s}(i,{rand:(0,Ze.S9)(),slideNumber:t}),e.push(function(e){const t=1;let n=0;const s=()=>(0,Ve.P)(encodeURI(e)).catch((i=>++n<t?(console.warn(`Error while sending pixel ${e}. Attempts: ${n} of ${t}, Try again.`),console.warn(i.stack||i),s()):(console.warn({message:"Error while sending pixel",additional:{pixelUrl:e}},i),Promise.resolve())));return s()}(n))}else console.warn(`Attempt to send incorrect pixel ${i}`);return e}),[]);return Promise.all(i)}function He(e,t){const n=t.replace("{","\\{").replace("}","\\}"),s=RegExp(`&?\\b[a-zA-Z-_.]+=${n}`);return e.replace(s,"").replace(t,"")}function qe(e,t,n){return e.replace(t,n)}var $e=n(78960),Ge=n(14914),We=n(27002),Ye=n(15663),Ke=n(85170),Xe=n(4093),Je=n(51556),Qe=n(7760),et=n(81235);const tt=(0,H.N)("card-brief"),nt=(0,s.memo)((({isMobile:e,isRobot:t,isInInitialChunk:n,isAuthorized:r,rowIndex:o,host:l,sandboxApiVersion:d,item:u,rawItem:m,theme:p,suiteId:h,cardHandlers:{onConnectSource:b,onInvalidateCache:g,onFeedback:v,onOpenSourceLink:_,onClick:f,onShow:E,onLike:C,onSetLike:I,onCancelLike:T,onFullShow:H,onSubscribe:ge,onLinkClick:ve,onCreateSuiteSuccess:_e,onAddToSuiteSuccess:fe,onRemoveFromSuiteSuccess:ye,onToggleSavedPublication:we},onDeleteSuccess:ke,log:Se,scrollTo:Ee,shouldHideHeaderSubscribeButton:xe,isSubscribeButtonAllowed:Oe,shouldSendShort:Ne,shouldDeferEvents$:Me,isFeedbackEnabled:Le,complaints:Ze,shouldHideShareAndSubscribe:Ve,clid:Ue,partnerId:je,requestRecommendationsChannels:He,userAvatar:qe,shouldHideMetaInHeader:nt,pinProps:st,videoPlayerSettings:it,isPlayerPreloadingQueueEnabled:at,itemOrder:rt,isAvailableToAddToSuite:ot,isSavedFeed:lt})=>{var ct,dt,ut;const{l10n:mt,lang:pt}=(0,w.$)(),{useSmartPopupDirection:ht}=(0,Ge.j)(),{zenApi:bt,zenLogger:gt,videoPlayersManager:vt,videoPlayersPool:_t}=(0,c.vv)(),{onMouseEnter:ft,onMouseLeave:yt}=(0,j.C)(),[wt]=(0,s.useState)((()=>u||(0,S.Hj)(ae.x,m,"data в карточке поста"))),{id:kt,publisherId:St,publicationObjectId:Et}=wt,Ct=(0,s.useCallback)(((e,t)=>{gt.error({message:e,details:Object.assign({id:kt,publisherId:St,publicationObjectId:Et},t)})}),[kt,Et,St,gt]),{setSubscribeTriggerEvent:It,subscribeTriggerEvent:Pt}=(0,O.k)(),Tt=(0,me.n)({item:wt,requestRecommendationsChannels:He,onSubscribe:ge,onCancelLike:T,onLike:C,onSetLike:I,setSubscribeTriggerEvent:It,scrollTo:Ee,isMobile:e}),Rt=R({log:Se,item:wt}),At=(0,s.useCallback)((async()=>{Rt.briefSwipeToSite(),await bt.forceSendBulkEvents()}),[Rt,bt]),{setSourceBlocked:xt,source:Ot,toggleSubscribe:Nt}=(0,A.L)({initialSource:wt.source,stats:Rt,onFeedback:v,onConnectSource:b,onSubscribe:Tt.onSubscribe}),Mt=(0,s.useCallback)((()=>(f(),_(Ot.strongestId))),[f,_,Ot.strongestId]),Lt=(0,s.useMemo)((()=>Object.assign({},wt.socialInfo,{userAvatar:qe})),[wt.socialInfo,qe]),{drawerComments:Dt,handleCommentsClick:Bt,withoutCommentsLink:Ft}=(({stats:e,isMobile:t,item:n,theme:a,source:r,socialMeta:o})=>{const{zenLogger:l}=(0,c.vv)(),[d,u,m]=(0,be.zj)(!1),p=(0,s.useCallback)((()=>{e.clickCommentCounter(),t&&u()}),[u,e,t]);return{drawerComments:(0,s.useMemo)((()=>{const{commentsDocumentId:e}=n;if(!e){const t=`No commentsDocumentId in useFeedDrawerComments: ${e}, type: ${n.type}`;l?l.error({message:t}):console.error(t)}return d&&t&&e?i().createElement(Ce,{item:n,commentsDocumentId:e,theme:a,source:r,isOpen:d,onClose:m,socialMeta:o}):null}),[m,t,d,n,o,r,a,l]),withoutCommentsLink:t,handleCommentsClick:p}})({stats:Rt,isMobile:e,item:wt,theme:p,source:Ot,socialMeta:Lt}),{getHeight:Zt,containerRef:Vt}=(0,D.E)(),{read:Ut,handleAuxClick:jt,handleClick:zt}=(0,F.E)({containerRef:Vt,initialRead:!1,stats:Rt,onClick(){It((0,P.q)("click")),f()}}),{handleAuxClick:Ht,handleClick:qt}=(0,Z.k)({stats:Rt}),{feedback:$t,handleToggleFeedback:Gt,setFeedback:Wt}=(0,x.w)({initialFeedback:wt.feedback,stats:Rt,onFeedback:v,onCancelLike:Tt.onCancelLike,onLike:Tt.onLike,onSetLike:Tt.onSetLike,onSetDislike:Tt.onSetDislike}),Yt=Le&&"disliked"===$t,{addToSuiteFlow:Kt,onAddToSuite:Xt,removeFromSuiteFlow:Jt,onRemoveFromSuite:Qt,deletePublicationFlow:en,onDelete:tn}=(0,Ye.l)({publicationId:wt.publicationObjectId,publicationType:$e.wj.brief,publisherId:wt.publisherId,suiteId:h,recommendLabelType:null==(ct=wt.recommendLabel)?void 0:ct.type,isAvailableToAddToSuite:ot,clid:Ue,onCreateSuiteSuccess:_e,onAddToSuiteSuccess:fe,onRemoveFromSuiteSuccess:ye,onDeleteSuccess:ke}),{savedStatus:nn,onToggleSaved:sn}=(0,Be.e)({onToggleSavedPublication:we,isSavedFeed:lt,publisherId:wt.publisherId,publicationId:wt.publicationObjectId,itemId:wt.id,isSavedItem:wt.isSavedToBookmarks,menu:wt.menu}),an=(0,s.useCallback)((()=>{Tt.sendVacuumSite(),Rt.promoAction()}),[Tt,Rt]),[rn,on]=(0,s.useState)(!1),ln=(0,s.useCallback)((()=>{if(Tt.sendVacuumShow(),E(),wt.promoCallToAction||wt.swipeToSite){const e=Math.max(0,Pe.vY-ne.B);(0,Ie.D)(e).then((()=>on(!0)))}}),[Tt,E,wt.promoCallToAction,wt.swipeToSite]),cn=(0,s.useCallback)((()=>{(0,Fe.j1)({counterId:wt.source.metricaId,url:wt.link})}),[wt.link,wt.source.metricaId]),dn=(0,s.useCallback)((()=>{var e;const t=null==(e=wt.publicationPixels)?void 0:e.briefExpand;t&&t.length>0&&ze({pixels:t})}),[null==(dt=wt.publicationPixels)?void 0:dt.briefExpand]),un=(0,s.useMemo)((()=>[cn,dn]),[cn,dn]),mn=(0,z.q)(Rt.expandText,un),pn=(0,z.q)(Rt.contentItemClick,un),hn=(0,z.q)(an,un),bn=(0,z.q)(Rt.clickSnippetLink,un),gn=(0,z.q)(Rt.clickSnippetLinkWithPromo,un),{visibilityCardRef:vn}=(({shouldDeferEvents$:e,shouldSendShort:t,stats:n,onShow:i,getHeight:a,onFullShow:r,heartbeatTime:o,isFeedbackCard:l})=>{const c=(0,ie.b)(l);(0,ee.Z)((()=>c.next(l)),[l]);const{isFlexVisible$:d,threshold:u,mapEntries:m}=(0,se.a)(),[p,h,,b,g]=(0,Y.c)(u.default,u.tooth,m);(0,te.D)({timeout:ne.B,isVisible$:g,onShow(){r()}});const[v]=(0,s.useState)((()=>(0,X.aj)([c,d]).pipe((0,Q.w)((([e,t])=>(0,J.of)(!e&&t))))));return(0,K.E)({isToothVisible$:h,isVisible$:v,isIntersecting$:b,shouldDeferEvents$:e,onShort(){t&&n.short()},onShow(){n.show(a()),i()},onHeartbeat:n.heartbeat,heartbeatTime:o}),{visibilityCardRef:p,isFullyVisible$:g}})({stats:Rt,shouldDeferEvents$:Me,shouldSendShort:Ne,onShow:ln,onFullShow:H,getHeight:Zt,heartbeatTime:wt.heartbeatPos,isFeedbackCard:Yt}),_n=(0,M.e)(vn,Vt),{clickSubscribeButton:fn,subscribeActionButton:yn}=(0,N.V)({feedback:$t,isSubscribeButtonAllowed:Oe,read:Ut,source:Ot,stats:Rt,toggleSubscribe:Nt,subscribeTriggerEvent:Pt,l10n:mt}),wn=(0,B.Z)({dislikeQuestion:void 0,onFeedback:v,onInvalidateCache:g,setSourceBlocked:xt,stats:Rt,toggleFeedback:Gt}),kn=(({l10n:e,theme:t,stats:n,feedbackProps:a,setFeedback:r,setSubscribeTriggerEvent:o,onContextMenuToggle:l,clickSubscribeButton:c,onAddToSuite:d,onRemoveFromSuite:u,onDelete:m,isBodyScrollEnabled:p=!0,item:h,source:b,clid:g,shouldDegradateSubscriptions:v,ignoreDefaultMenuItems:_,pinProps:f,onToggleSaved:y,savedStatus:w})=>{const{handleBlock:k,handleComplain:S,handleContextMenuShow:E,handleEdit:C,handleTogglePinning:I,handleDelete:P,handleMovePinUp:T,handleMovePinDown:R,handleAddToSuite:A,handleRemoveFromSuite:x,handleToggleSaved:O}=(0,G.T)({stats:n,setSubscribeTriggerEvent:o,setFeedback:r,feedbackProps:a,item:h,isMobile:!0,onDelete:m,pinProps:f,onAddToSuite:d,onRemoveFromSuite:u,onToggleSaved:y});return(0,s.useCallback)((n=>i().createElement(W.k,{renderTrigger:n,l10n:e,status:b.status,theme:t,onBlock:k,onComplain:S,onShow:E,onSubscribe:v?void 0:c,onUnsubscribe:v?void 0:c,onEdit:C,onTogglePinning:I,onMovePinUp:T,onMovePinDown:R,onAddToSuite:A,onRemoveFromSuite:x,onDelete:P,sourceTitle:h.source.title,isBodyScrollEnabled:p,clid:g,onContextMenuToggle:l,ignoreDefaultMenuItems:_,isPinned:null==f?void 0:f.isPinned,onToggleSaved:O,savedStatus:w})),[e,b.status,h.source.title,t,k,S,E,v,c,C,I,T,R,A,x,P,p,g,l,_,null==f?void 0:f.isPinned,O,w])})({l10n:mt,theme:p,stats:Rt,setSubscribeTriggerEvent:It,setFeedback:Wt,feedbackProps:wn,clickSubscribeButton:fn,source:Ot,item:wt,clid:Ue,onDelete:tn,pinProps:st,onAddToSuite:Xt,onRemoveFromSuite:Qt,onToggleSaved:sn,savedStatus:nn}),Sn=(0,$.x)({l10n:mt,theme:p,stats:Rt,setSubscribeTriggerEvent:It,setFeedback:Wt,feedbackProps:wn,clickSubscribeButton:fn,source:Ot,item:wt,onDelete:tn,pinProps:st,onAddToSuite:Xt,onRemoveFromSuite:Qt,savedStatus:nn,onToggleSaved:sn}),En=(0,V.J)({l10n:mt,host:l,clid:Ue,theme:p,shouldHideShareAndSubscribe:Ve,item:wt,stats:Rt,isSmartPosition:ht}),Cn=(0,q.x)({host:l,l10n:mt,theme:p,item:wt,clid:Ue,stats:Rt}),In=(0,s.useMemo)((()=>wt.text?(0,de.Mt)(wt.text):""),[wt.text]),Pn=(0,s.useMemo)((()=>{var e,t;const n=null==(e=wt.items)||null==(t=e[0])?void 0:t.image;return Object.assign({},wt,{text:In,image:n&&(0,We.o4)(n,n.sizeName,void 0,Ct)})}),[In,wt,Ct]),{topSubscribeButton:Tn,bottomSubscribeButton:Rn,footer:An,header:xn,feedbackCard:On,meta:Nn}=(0,re.J)({feedbackCardClassName:tt("feedback-card"),bottomSubscribeButtonClassName:tt("bottom-subscribe"),isCompact:!e,isMobile:e,withoutCommentsLink:Ft,onCommentsClick:Bt,shouldHideShareAndSubscribe:Ve,shouldHideHeaderSubscribeButton:xe,isCardChannelLinkDisabled:!1,host:l,theme:p,rtbLabel:wt.rtbLabel,richRecommendLabel:wt.richRecommendLabel,l10n:mt,isFeedbackCard:Yt,dislikeQuestion:void 0,item:Pn,feedbackProps:wn,complaints:Ze,stats:Rt,source:Ot,clickSubscribeButton:fn,read:Ut,subscribeActionButton:yn,feedback:$t,onOpenSourceLink:Mt,onClick:zt,onAuxClick:jt,lang:pt,socialMeta:Lt,onToggleFeedback:Gt,renderContextMenu:e?kn:Sn,renderSharePopup:e?Cn:En,isPinned:st.isPinned,shouldHideMetaInHeader:!e&&nt,onRtbLinkClick:ve}),Mn=e?oe.t.mobile:oe.t.desktop,Ln=(0,ue.B)(wt.source.type,wt.link,je),Dn=(0,ce.f)({itemTitle:In,href:Ln,host:l,onAuxClick:jt,onClick:zt}),Bn=(0,ue.B)(wt.source.type,(null==(ut=wt.repost)?void 0:ut.link)||"",je),Fn=(0,ce.f)({itemTitle:In,href:Bn,host:l,onAuxClick:Ht,onClick:qt}),{progressiveHydration:Zn}=(0,he.od)(),[Vn]=(0,s.useState)((()=>(0,Te.s)({videoPlayersManagerInitial:vt,videoPlayersPoolInitial:new Re.F,sandboxVersion:d}))),Un=(0,s.useCallback)((e=>{const{mediaData:t,imageRef:n,isMobile:s,isVisible:a,zoomRef:r}=e;if(t.type===Ae.D.VIDEO)return i().createElement(De,{imageRef:n,data:t.data,l10n:mt,isMobile:s,isVisible:a,zoomRef:r,videoPlayersManager:vt,log:Se,videoPlayerSettings:it})}),[mt,vt,Se,it]),{poll:jn,onSendPollVote:zn}=((e,t)=>{const[n,i]=(0,s.useState)(t),r=(0,Ke.JC)(Xe.s),o=(0,a.I0)(),l=(0,s.useCallback)((async(t,s)=>{if(e){if(n)try{const e=await r({pollId:t,values:s});i(Object.assign({},n,{result:e}))}catch(e){throw new Error}}else o((0,Je.dY)({triggerAction:Qe.D.Poll,itemIdForStats:et.MA.SourceLikeFromFeed}))}),[r,n,e,o]);return{poll:n,onSendPollVote:l}})(r,wt.poll);let Hn;return Hn=wt.promoGallery?i().createElement(L.O,{className:tt("content"),isMobile:e,l10n:mt,onContentItemSwipe:Rt.contentItemSwipe,onSwipeToSiteClickOut:At,promoGallery:wt.promoGallery,swipeToSite:wt.swipeToSite,videoPlayersManager:vt,videoPlayersPool:_t,videoPlayerSettings:it,isPlayerPreloadingQueueEnabled:at,itemOrder:rt}):i().createElement(Te.l.Provider,{value:Vn},i().createElement(U.d,{className:tt("content"),items:wt.items,logger:Ct,l10n:mt,theme:p,text:wt.text,swipeToSite:wt.swipeToSite,embed:wt.embed,mentions:wt.mentions,repost:wt.repost,promoCallToAction:wt.promoCallToAction,promoButtonAccented:rn,onClickTag:Rt.snippetTagClick,onContentItemSwipe:Rt.contentItemSwipe,onShowTag:Rt.snippetTagShow,onRepostShow:Rt.repostShow,onSwipeToSite:At,meta:Nn,isRobot:t,isPromoPublication:wt.isPromoPublication,renderClickable:Dn,renderRepostClickable:Fn,platform:Mn,ImageViewer:le.O,renderSlideAddon:Un,onPromoClick:hn,onContentItemClick:pn,onEmbedClick:pn,onClickClampedText:mn,onClickSnippetLink:bn,onClickSnippetLinkWithPromo:gn,poll:jn,onSendPollVote:zn})),i().createElement(k.U,{theme:p,ref:_n,withOverflowHidden:e},i().createElement(pe.z,{config:Zn,isInInitialChunk:n,rowIndex:o,shouldDeferEvents$:Me},i().createElement("div",(0,y.Z)({className:tt({platform:Mn})},!e&&{onMouseEnter:ft,onMouseLeave:yt}),On||i().createElement(i().Fragment,null,i().createElement("div",{className:tt("header")},xn),Tn,On,Hn,Rn,i().createElement("div",{className:tt("footer")},An)))),Dt,Kt,Jt,en)}));var st=n(21937),it=n(47171),at=n(59357),rt=n(24344),ot=n(44781),lt=n(7688),ct=n(22694),dt=n(53775),ut=n(53923),mt=n(1654),pt=n(92316),ht=n(37490),bt=n(32192),gt=n(74688),vt=n(8383),_t=n(94722);var ft=n(14812),yt=n(63138),wt=n(20773),kt=n(78785);const St=(0,r.P1)((({params:e})=>e.clientDefinition),_),Et=(0,s.memo)((({id:e,rowIndex:t,scrollTo:n})=>{const{zenApi:r,shouldDeferEvents$:g}=(0,c.vv)(),v=(0,a.I0)();(0,b.cW)(g);const{item:_,log:f,cardHandlers:y,requestRecommendationsChannels:w,isSavedFeed:k}=(({id:e,types:t,scrollTo:n})=>{const{zenApi:i,globalBus:r}=(0,c.vv)(),o=(0,s.useCallback)((n=>({isChannelPage:(0,m.GP)(n),item:(0,at.Gu)(n,e,t),isSpaApp:n.params.isSpaApp,isSavedFeed:(0,m.fH)(n)})),[t,e]),{item:l,isSpaApp:d,isChannelPage:u,isSavedFeed:p}=(0,bt.T)(o,{skip:["sources","displayedRowsNumber"],resultEqualityCheck:h.v}),b=(0,Le.u)(null==l?void 0:l.shareLink),g=(0,mt.j)(pt.F),{log:v,clientLog:_}=(0,ct.B)(),f=(0,rt.a)({id:e,scrollTo:n}),y=(0,it.D)(),w=(0,ot.W)(),k=(0,lt.t)(),S=(0,dt.J)(d),E=(0,gt.M)(d),C=(0,a.I0)(),I=(0,s.useCallback)((()=>{i.packShown(l.packId,l.cacheId),r.emit("zenCardShow",l.type)}),[i,r,l.packId,l.cacheId,l.type]),P=(0,ne.$)(l.packId,l.cacheId,b),{onCreateSuiteSuccess:T,onAddToSuiteSuccess:R,onRemoveFromSuiteSuccess:A}=(0,vt.c)(l.id),{requestRecommendationsChannels:x}=(0,ht._)(),{onToggleSavedPublication:O}=(0,_t.h)(),N=(0,s.useMemo)((()=>({onSubscribe:()=>{b(),u&&g()},onClick:f,onConnectSource:y,onFeedback:w,onInvalidateCache:k,onOpenSourceLink:S,onSetLike:e=>{C((0,ut.ZI)(e))},onCancelLike:e=>{C((0,ut.$m)(e))},onShow:I,onFullShow:P,onLike:b,onDislike:b,onUnsubscribe:b,onLinkClick:E,onCreateSuiteSuccess:T,onAddToSuiteSuccess:R,onRemoveFromSuiteSuccess:A,onToggleSavedPublication:O})),[f,y,w,I,P,k,S,g,b,u,E,C,T,R,A,O]);return{item:l,log:v,clientLog:_,requestRecommendationsChannels:x,cardHandlers:N,isChannelPage:u,isSavedFeed:p}})({id:e,scrollTo:n,types:[l.qG.BRIEF]}),{complaints:E,host:C,clid:I,partnerId:P,isFeedbackEnabled:T,isSubscribeButtonAllowed:R,theme:A,shouldSendShort:x,isRobot:O,userAvatar:N,shouldHideHeaderSubscribeButton:M,isInInitialChunk:L,maxPinnedItemsReached:D,availableMoveItemOptions:B,shouldHideMetaInHeader:F,sandboxApiVersion:Z,videoPlayerSettings:V,isPlayerPreloadingQueueEnabled:U,itemOrder:j,isAvailableToAddToSuite:z,suiteId:H}=(0,a.v9)((n=>{var s,i,a,r;const{shouldSendShort:o}=St(n),l=(0,d.oY)(n,e),{shouldHideMetaInHeader:c,sandboxApiVersion:h,videoPlayerSettings:b,isPlayerPreloadingQueueEnabled:g}=(0,Se.a)(n);return{complaints:n.params.complaints,host:n.params.host||"",clid:n.params.clid||"",partnerId:n.user.partnerId,isFeedbackEnabled:(0,u.y)(n),isSubscribeButtonAllowed:(0,p.zH)(n),shouldHideHeaderSubscribeButton:(0,p.I2)(n),isInInitialChunk:(0,d.VJ)(n,t),theme:(0,m.FS)(n),isSpaApp:n.params.isSpaApp,maxPinnedItemsReached:(0,d.rr)(n),availableMoveItemOptions:(0,at.fm)(n,e),shouldSendShort:o,isRobot:Boolean(null==(s=n.context)||null==(i=s.uatraits)?void 0:i.isRobot),userAvatar:n.user.avatar,suiteId:null!=(a=null==(r=n.suite)?void 0:r.id)?a:"",shouldHideMetaInHeader:c,videoPlayerSettings:b,sandboxApiVersion:h,isPlayerPreloadingQueueEnabled:g,itemOrder:l,isAvailableToAddToSuite:(0,yt.n)(n)}}),h.v),q=(0,a.v9)(m.Ip),[$]=(0,s.useState)((()=>(0,S.Hj)(ae.x,_.rawItem,"data в карточке поста"))),G=(0,ft.$)({id:e,isPinned:Boolean(_.isPinned),availableMoveItemOptions:B,maxPinnedItemsReached:D}),W=(0,s.useCallback)((()=>{const{suites:t}=$;t&&t.forEach((e=>v((0,kt.O)(e.suiteId)))),v((0,wt.cl)(e))}),[v,e,$]);return i().createElement(st.g,{item:_,log:f,forceSendBulkEvents:r.forceSendBulkEvents},i().createElement(nt,{complaints:E,host:C,clid:I,partnerId:P,isMobile:(0,o.dD)(),isRobot:O,isFeedbackEnabled:T,isAuthorized:q,shouldHideHeaderSubscribeButton:M,isSubscribeButtonAllowed:R,isInInitialChunk:L,rowIndex:t,item:$,rawItem:_.rawItem,log:f,scrollTo:n,theme:A,cardHandlers:y,shouldDeferEvents$:g,shouldSendShort:x,userAvatar:N,shouldHideMetaInHeader:F,requestRecommendationsChannels:w,pinProps:G,videoPlayerSettings:V,isPlayerPreloadingQueueEnabled:U,itemOrder:j,sandboxApiVersion:Z,isAvailableToAddToSuite:z,suiteId:H,onDeleteSuccess:W,isSavedFeed:k}))}))},31632:(e,t,n)=>{"use strict";n.d(t,{Bg:()=>s,Jv:()=>i,Us:()=>a});const s={x:"right",y:"bottom",shouldOverlap:{x:!0,y:!1},shifts:{top:20,right:-8}},i={x:"right",y:"bottom",shouldOverlap:{x:!0,y:!1},shifts:{top:8}},a={x:"center",y:"bottom",shouldOverlap:{x:!0,y:!1},shifts:{top:16}}},88001:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var s=n(87363);const i=(0,s.memo)((()=>null))},6001:(e,t,n)=>{"use strict";n.d(t,{O:()=>I});var s=n(19670),i=n(87363),a=n.n(i),r=n(10703),o=n(37471),l=n(20971),c=n(84091),d=n(71037),u=n(59357),m=n(46591),p=n(13974),h=n(45347),b=n(95737),g=n(88211),v=n(56720),_=n(80575),f=n(88144),y=n(69534);const w=(0,d.Z)(c.W),k=(0,p.N)("card-interview"),S=()=>150,E=(e,t)=>Math.max(Math.min(Math.abs(t),100),200),C=(0,i.memo)((({id:e,containerRef:t,platform:n})=>{const s=(0,l.oR)(),{l10n:r}=(0,g.$)(),c=(0,i.useMemo)((()=>({id:y.A,type:"message",title:r("interview.final_title_web"),subtitle:"",bulkParams:""})),[r]),{currentScreen:d,theme:p,isRandomDefaultAnswer:C,interviewRandomValue:I}=(0,o.v9)((t=>{const{currentScreenId:n,screens:s}=(0,u.Gu)(t,e,[m.qG.INTERVIEW]),{isRandomDefaultAnswer:i}=(0,f.a)(t);return{currentScreen:n&&s[n]||c,theme:(0,v.FS)(t),isRandomDefaultAnswer:i,interviewRandomValue:t.params.interviewRandomValue}})),P=d.type,T=(0,i.useCallback)((t=>{(0,o.dC)((()=>{s.dispatch((0,h.$s)({id:e,screenId:t}))}))}),[s,e]),R=(0,i.useCallback)((()=>{"message"!==P&&(0,o.dC)((()=>{s.dispatch((0,h.$s)({id:e,screenId:null}))}))}),[s,e,P]),A=({ref:e})=>a().createElement("div",{className:k({platform:n}),ref:e},a().createElement(w,{screen:d,onSetScreen:T,onClose:R,viewType:n,theme:p,isRandomDefaultAnswer:C,interviewRandomValue:I}));return a().createElement(b.U,{theme:p,ref:t,withOverflowHidden:!1},a().createElement(_.F,{triggerKey:d.id,isDisabled:!1,getResizeDuration:E,getFadeDuration:S,fadeTimingFunction:"ease-in-out",resizeTimingFunction:"ease-in-out"},A))})),I=(0,i.memo)((e=>a().createElement(C,(0,s.Z)({},e,{platform:r.t.desktop}))))},69534:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const s="EMPTY_SCREEN_ID"},72331:(e,t,n)=>{"use strict";n.d(t,{o:()=>i,i:()=>a});var s=n(87363);const i=(0,s.createContext)(void 0),a=()=>(0,s.useContext)(i)},99426:(e,t,n)=>{"use strict";n.d(t,{l:()=>vt});n(14072),n(53208);var s=n(87363),i=n.n(s),a=n(37471),r=n(32481),o=n(51780),l=n(86826),c=n(2464),d=n(77735),u=n(62993),m=n(78147),p=n(29332),h=n(30373);const b=(0,o.v)({url:l.Z_,title:l.Z_,log:c.A,agency:(0,d.n)((0,u.R)({name:l.Z_,logo:(0,m.w)(l.Z_),id:l.Rx}),(e=>Object.assign({},e,{logo:e.logo?`${e.logo}/logo-square`:""}))),isHot:(0,m.w)(l.O7),isFavorite:(0,m.w)(l.O7)}),g=(0,p.j)(b,(0,o.v)({extraStories:(0,m.w)((0,h.I)(b))})),v=(0,u.R)({name:l.Z_,url:l.Z_,stories:(0,h.I)(g),alias:l.Z_}),_=(0,o.v)({id:l.Z_,bulkParams:l.Z_,payload:(0,o.v)({expanded:l.O7,data:(0,h.I)(v),favoriteRubric:(0,m.w)(l.Rx),formKey:(0,m.w)(l.Z_)}),itemType:l.Z_});var f=n(22796),y=n(46591),w=n(19670),k=n(71102),S=n.n(k);const E="card-news__header-uD",C="card-news__bigPaddings-Dk",I="card-news__mobile-1N",P="card-news__tabs-ls",T="card-news__menu-32",R="card-news__tab-3z",A="card-news__active-2u",x="card-news__tabPane-3_",O="card-news__menuItem-2j",N="card-news__stories-Bu",M="card-news__link-3u",L="card-news__icon-1f",D="card-news__rotated-1z",B="card-news__moreButton-o6",F="card-news__moreButtonText-2W",Z="card-news__title-2w",V="card-news__headerMobile-20",U="card-news__tabsMenuList-3i";var j=n(95737),z=n(17306),H=n(83137),q=n(44094),$=n(56991),G=n(79195),W=n(1202),Y=n(46112),K=n(77945),X=n(49147),J=n(47580),Q=n(31632),ee=n(28899),te=n(58963),ne=n(74251),se=n(32976),ie=n(95875),ae=n(92556);const re={moreByTheme:{ru:"Ещё по теме",_context:""},newsItem:{ru:"Новость",_context:""}},oe=(0,se.Wh)(re),le=(0,se.bN)(re),ce="news-story__story-2M",de="news-story__withExpandedExtra-21",ue="news-story__mobile-1F",me="news-story__textContainer-Do",pe="news-story__agencyLogo-iH",he="news-story__fav-2B",be="news-story__darkTheme-DF",ge="news-story__link-14",ve="news-story__lightningIcon-na",_e="news-story__text-2H",fe="news-story__hideSeparator-2i",ye="news-story__icon-2u",we="news-story__rotated-1K",ke="news-story__extraButton-wJ",Se="news-story__extraContainer-1F",Ee="news-story__extraText-Ys";var Ce=n(40789);const Ie=(0,s.memo)((({story:e,shouldDeferEvents$:t,logCard:n,parentType:a,shouldHideSeparator:r,onExpand:o,logStoryClick:l})=>{const{url:c,log:d,extraStories:u}=e,m=(0,z.dD)(),p=(0,se.bU)(),h=(0,ee.Fg)(),[b]=(0,s.useState)((()=>(0,ie.qR)({logCard:n,jsonData:d,link:c,parentType:a}))),[g,v,_,f]=(0,K.c)();(0,Y.E)({isToothVisible$:v,isVisible$:_,isIntersecting$:f,shouldDeferEvents$:t,onShort(){},onShow(){b.show()}});const[y,w]=(0,s.useState)(!1),k=(0,s.useCallback)((e=>{e.preventDefault(),w(!y),null==o||o(!y)}),[y,o]),E=m?ue:"",C=i().createElement(H.P,{symbol:ae.Z,className:S()(ve,E),width:16,height:16}),I=()=>{b.click(),l()},P=({url:e,agency:t,title:n,isHot:s,isFavorite:a},o)=>i().createElement(X.P,{className:ge,href:e,onClick:I},i().createElement("div",{className:S()(pe,E,a&&he,h===Ce.Y.dark&&be),style:{backgroundImage:`url(${t.logo})`},title:t.name},s&&!m&&C),i().createElement("div",{className:S()(me,E,r&&fe)},i().createElement("span",{className:S()(_e,E)},n,(s||!m)&&i().createElement(i().Fragment,null,"    "),!m&&i().createElement(i().Fragment,null,"   "),m&&s&&C),o)),T=Boolean(null==u?void 0:u.length),R=(0,s.useMemo)((()=>T?i().createElement("button",{className:S()(ke,E),onClick:k,"aria-label":le.moreByTheme(p)},i().createElement(H.P,{symbol:G.Z,className:S()(ye,y&&we),width:20,height:20})):void 0),[T,y,p,E,k]);return i().createElement("li",{className:S()(ce,y&&de,E),ref:g,"aria-label":le.newsItem(p)},P(e,R),y&&i().createElement(i().Fragment,null,i().createElement("div",{className:Ee},i().createElement(oe.moreByTheme,null)),i().createElement("ul",{className:S()(Se,E)},null==u?void 0:u.map((e=>i().createElement("li",{key:c,className:ce,ref:g},P(e)))))))}));var Pe=n(23268),Te=n(45304),Re=n(88211);const Ae={setUpSources:{ru:"Настроить источники",_context:""},setUpRubric:{ru:"Настроить",_context:""},news:{ru:"Новости",_context:""},newsTopic:{ru:"Новости на тему",_context:""},chooseRubric:{ru:"Выбрать рубрику",_context:""},readNews:{ru:"Читайте новости любимой рубрики в отдельной вкладке",_context:""},cancel:{ru:"Сбросить настройки",_context:""},cancelMobile:{ru:"Сбросить",_context:""},save:{ru:"Сохранить",_context:""},more:{ru:"Показать ещё",_context:""},rollUp:{ru:"Свернуть",_context:""},mainTab:{ru:"Главное",_context:""},cantLoadRubricList:{ru:"Не удалось загрузить список рубрик",_context:""},cantSaveRubric:{ru:"Не удалось сохранить любимую рубрику. Попробуйте ещё раз",_context:""},refresh:{ru:"Попробовать ещё раз",_context:""}},xe=(0,se.Wh)(Ae),Oe=(0,se.bN)(Ae);var Ne=n(97125),Me=n(88014),Le=n(85170),De=n(14052),Be=n(35029),Fe=n(19456),Ze=n(49130),Ve=n(62552),Ue=n(7689),je=n(43070);const ze=Ue.Ry({title:Ue.Z_(),alias:Ue.Z_(),id:Ue.Rx()}),He=Ue.Ry({rubrics:Ue.IX(ze)}),qe=(0,je.P)({params:Ue.Ry({regionId:Ue.Rx()}),req:async({regionId:e})=>(await fetch(`/news/api/v2/rubric_list?user_region=${e}`)).json(),res:He}),$e=(0,je.P)({params:Ue.Ry({set_favorite_rubric:Ue.Z_(),form_key:Ue.Z_()}),req:async({set_favorite_rubric:e,form_key:t})=>(await fetch("/news/api/v2/favorites",{body:JSON.stringify({set_favorite_rubric:e,form_key:t}),method:"POST"})).status,res:Ue.Rx()}),Ge="card-news-modal__modal-CM",We="card-news-modal__mobile-Uk",Ye="card-news-modal__subtitle-1e",Ke="card-news-modal__buttonContainer-2G",Xe="card-news-modal__select-19",Je="card-news-modal__hasError-22",Qe="card-news-modal__contextMenu-1z",et="card-news-modal__error-hX",tt="card-news-modal__errorButton-3I",nt="card-news-modal__errorButtonContainer-Um",st="card-news-modal__refreshIcon-37",it="card-news-modal__refreshButton-3o",at=(0,s.memo)((({closeModal:e,regionId:t,favoriteRubricId:n,formKey:a})=>{const r=(0,z.dD)(),o=(0,ee.tD)(),l=(0,se.bU)(),[c,{error:d,refetch:u}]=(0,Le.aM)(qe,{regionId:t||0},{manualLoadingHandling:!0,manualErrorHandling:!0}),m=(0,Le.JC)($e),[p,h]=(0,s.useState)(!1),[b,g]=(0,s.useState)((null==n?void 0:n.toString())||""),v=(0,s.useCallback)((async()=>{200===await m({form_key:a,set_favorite_rubric:b})?window.location.reload():h(!0)}),[a,b,m]),_=(0,s.useCallback)((()=>{g("0"),h(!1)}),[]),f=r?We:"",y=Boolean(d),w=y||p?Je:"";return i().createElement(Ne.u,{className:S()(Ge,f),theme:o,isOpen:!0,close:e,withFixedHeight:!0,viewType:r?"mobile-fullscreen-small-arrow":"inner-close-s-rounded",contentAriaLabel:Oe.setUpRubric(l),withVerticalAlign:!0},i().createElement(Ve.x,{title:i().createElement(xe.news,null)}),i().createElement("div",{className:S()(Ye,f)},i().createElement(xe.readNews,null)),i().createElement(Me.P,{onChange:e=>g(e),contextMenuTheme:o,contextMenuViewType:"rounded-3",placeholder:Oe.chooseRubric(l),className:S()(Xe,f,w),type:"arrow",size:"xl",position:Q.Us,contextMenuClassName:S()(Qe,f,w),hasScrollableList:!0,theme:o,shouldForceOpen:y},y&&i().createElement("div",{className:et},i().createElement(xe.cantLoadRubricList,null),i().createElement(De.Su,{size:Be.u.m,viewType:Fe.c.fill6,theme:o,isMobile:!1,"aria-label":Oe.refresh(l),className:tt,onClick:u},i().createElement("div",{className:nt},i().createElement(H.P,{symbol:Ze.Z,width:24,height:24,className:st}),i().createElement(xe.refresh,null)))),!y&&(null==c?void 0:c.rubrics.map((({alias:e,title:t,id:n})=>i().createElement(Me.W,{withoutBullet:!0,key:e,value:n.toString(),selected:n.toString()===b},t))))),p&&i().createElement("button",{className:S()(it,f),onClick:v},i().createElement(xe.cantSaveRubric,null)),i().createElement("div",{className:S()(Ke,f)},i().createElement(De.Su,{size:Be.u.xxl,isMobile:!1,viewType:Fe.c.fill6,onClick:_,"aria-label":Oe.cancel(l),theme:o},r?i().createElement(xe.cancelMobile,null):i().createElement(xe.cancel,null)),i().createElement(De.Su,{size:Be.u.xxl,isMobile:!1,"aria-label":Oe.save(l),viewType:Fe.c.carrot,onClick:v,disabled:!b},i().createElement(xe.save,null))))}));var rt=n(77354),ot=n(2604),lt=n(43738);var ct=n(51749),dt=n(84113),ut=n(20971);const mt={leftOffset:0,rightOffset:0,gap:0,itemWidth:{px:0,percent:100}},pt=(0,s.memo)((({item:e,log:t,shouldSendShort:n,regionId:a,isAuthorized:r})=>{const{l10n:o}=(0,Re.$)(),l=(0,se.bU)(),c=(0,z.dD)(),d=(0,ee.tD)(),{shouldDeferEvents$:u}=(0,Pe.vv)();(0,Te.cW)(u);const{threeDotsRedesignFeed:m,hasThreeDotsInNewsCard:p}=(0,ne.od)(),{payload:{data:h,formKey:b,favoriteRubric:g},bulkParams:v}=e,{logStoryShow:_,logStoryClick:f}=(()=>{const e=(0,dt.Z)(),t=(0,ut.oR)(),[n]=(0,s.useState)((()=>{const e=t.getState();if(e.params&&e.params.bulk){const{bulk_params:t}=e.params.bulk;return{bulkParams:t,bulkReplaceMap:{__item_id__:"0",__item_type__:"zen_topnews_vertical"},payload:{isNewsEvent:!0}}}}));return{logStoryShow:(0,s.useCallback)((()=>{n&&e((0,ct.q)("show"),n)}),[e,n]),logStoryClick:(0,s.useCallback)((()=>{n&&e((0,ct.q)("click"),n)}),[e,n])}})(),y=(0,s.useCallback)(((e,n)=>t(e,Object.assign({},n,{bulkParams:v}))),[v,t]),[k]=(0,s.useState)((()=>(0,ie.rF)(y))),[ae,re,oe,le]=(0,K.c)();(0,Y.E)({isToothVisible$:re,isVisible$:oe,isIntersecting$:le,shouldDeferEvents$:u,onShow(){_()},onShort(){n&&k.short()}});const ce=c?I:"",[de,ue]=(0,s.useState)(0),{tabsMenuRefs:me,tabsMenuScrollRef:pe}=(({data:e,currentIndex:t})=>{const n=(0,z.dD)(),i=(0,s.useRef)(null),a=(0,s.useRef)([]),r=(0,s.useRef)(e.map((()=>(0,s.createRef)())));return(0,ot.n)((()=>{n&&r.current.forEach(((e,t)=>{e.current&&(a.current[t]=e.current.getBoundingClientRect().x)}))})),(0,lt.Z)((()=>{if(!n)return;const e=r.current[t].current,s=i.current;if(!s||!e)return;const o=a.current[t]+e.offsetWidth/2;s.scrollTo({left:o-window.innerWidth/2,behavior:"smooth"})}),[n,t]),{tabsMenuScrollRef:i,tabsMenuRefs:r}})({data:h,currentIndex:de}),he=h.map(((e,t)=>{const n=t===de,s={className:S()(R,ce,n&&A),key:e.alias,onClick:e=>{n||e.preventDefault(),ue(t)}},a=Oe.newsTopic(l);return r=i().createElement(X.P,{className:M,href:e.url},i().createElement("div",{"aria-label":a,"aria-details":`${a}: ${e.name}`,className:S()(Z,ce)},c&&0===t?i().createElement(xe.mainTab,null):e.name)),c?i().createElement("div",(0,w.Z)({},s,{ref:me.current[t]}),r):i().createElement("li",s,r);var r})),[be,ge]=(0,s.useState)(5),ve=e=>()=>{ge((t=>t<e?t+5:5))},[_e,fe]=(0,s.useState)((()=>c?h.map((e=>e.stories.reduce(((e,t,n)=>{var s;return null!=(s=t.extraStories)&&s.length?Object.assign({},e,{[n]:!1}):e}),{}))):[])),ye=(0,s.useCallback)(((e,t)=>n=>{fe((s=>{const i=[...s];return i[e]=Object.assign({},i[e],{[t]:n}),i}))}),[]),we=(0,s.useCallback)(((t,n)=>{const s=t.stories.length,a=s>be,r=5===t.stories.length;return i().createElement("div",{className:S()(x,de===n&&A,ce),key:t.alias},i().createElement("ul",{className:N},t.stories.map(((t,s)=>{if(s>be-1)return null;const a=!!c&&(_e[n][s+1]&&!_e[n][s]||r&&5===s+1);return i().createElement(Ie,{story:t,shouldDeferEvents$:u,logCard:y,logStoryClick:f,key:s,parentType:e.itemType,shouldHideSeparator:a,onExpand:c?ye(n,s):void 0})}))),5!==s&&i().createElement("button",{className:S()(B,ce),onClick:ve(s),"aria-label":a?Oe.more(l):Oe.rollUp(l)},i().createElement("div",{className:F},a?i().createElement(xe.more,null):i().createElement(xe.rollUp,null)),!c&&i().createElement(H.P,{symbol:G.Z,className:S()(L,!a&&D),width:20,height:20})))}),[de,be,_e,l,c,e.itemType,y,f,ye,ce,u]),ke=!c&&!m,Se=(0,s.useCallback)((({toggle:e,containerRef:t})=>i().createElement(J._,{theme:d,onClick:e,isMobile:c,l10n:o,containerRef:t,viewType:ke?"default":"gray",withBgHover:ke,isVertical:ke})),[ke,c,o,d]),[Ee,Ce]=(0,s.useState)(!1),Ae=(0,s.useCallback)((e=>()=>Ce(e)),[]),Ne=(0,s.useCallback)((()=>i().createElement(i().Fragment,null,i().createElement(q.Je,{className:O,href:`${h[0].url}#settings`},i().createElement(q.RQ,null,i().createElement(te.y,{name:"starM"})),i().createElement(q.XU,{text:i().createElement(xe.setUpSources,null)})),r&&i().createElement(q.Zo,{className:O,onClick:Ae(!0)},i().createElement(q.RQ,null,i().createElement(te.y,{name:"gearM"})),i().createElement(q.XU,{text:i().createElement(xe.setUpRubric,null)})))),[h,r,Ae]);return i().createElement(i().Fragment,null,i().createElement(j.U,{theme:d,ref:ae,ariaLabel:Oe.news(l)},i().createElement("div",{className:S()(E,!p&&C,ce)},i().createElement(H.P,{symbol:W.Z,width:24,height:24}),c?i().createElement("div",{className:V},i().createElement(X.P,{className:M,href:h[0].url},h[0].name)):i().createElement("ul",{className:P},he),i().createElement("div",{className:T},p&&(c?i().createElement($.T,{renderParentMenu:Ne,theme:d,l10n:o,renderTrigger:Se,isBodyScrollEnabled:!1}):i().createElement(q.np,{position:Q.Jv,shouldCloseOnOuterClick:!0,renderTrigger:Se,shouldDocumentCloseOnScroll:!0},i().createElement(q.xV,{theme:d,viewType:"rounded-3"},Ne()))))),c?i().createElement(i().Fragment,null,i().createElement("div",{className:U,ref:pe},he),i().createElement(rt.x,{data:h,renderItem:we,layoutParams:mt,overScanCount:1,currentIndex:de,setIndex:ue,shouldDisableCarouselDrag:!1})):h.map(we)),p&&Ee&&b&&r&&i().createElement(at,{closeModal:Ae(!1),regionId:a,favoriteRubricId:g,formKey:b}))}));var ht=n(22694),bt=n(14914),gt=n(56720);const vt=(0,s.memo)((({id:e})=>{const{log:t}=(0,ht.B)(),{shouldSendShort:n}=(0,bt.j)(),{item:o,regionId:l,isAuthorized:c}=(0,a.v9)((t=>{var n;return{item:(0,f.Vw)(t,e,y.qG.NEWS),regionId:null==(n=t.geoblock)?void 0:n.geoid,isAuthorized:(0,gt.Ip)(t)}}),a.wU),[d]=(0,s.useState)((()=>(0,r.Hj)(_,o.rawItem,"data в карточке новостей")));return i().createElement(pt,{regionId:l,item:d,log:t,shouldSendShort:n,isAuthorized:c})}))},39676:(e,t,n)=>{"use strict";n.d(t,{xE:()=>i,FE:()=>a});var s=n(87363);const i=(0,s.createContext)(void 0),a=()=>{const e=(0,s.useContext)(i);return(0,s.useMemo)((()=>null==e?{}:{__feed_item_pos__:String(e)}),[e])}},92928:(e,t,n)=>{"use strict";n.d(t,{m:()=>J});var s=n(87363),i=n.n(s),a=n(37471),r=n(17306),o=(n(14072),n(53208),n(79538)),l=n(2604);const c=(e,t,n=!1)=>{if(e.length<3||n&&t()>.7)return[e];const s=t()*(e.length-2)+1;return[...c(e.substr(0,s),t,!0),...c(e.substr(s),t,!0)]},d=({text:e})=>{const[t,n]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const t=c(e,(()=>Math.random())).reverse().map(((e,t)=>i().createElement("div",{key:t},e)));n(t)}),[e]),i().createElement("div",{className:"zenad-cutify-text-view"},t)};var u=n(10308),m=n(40789);var p=n(6060),h=n(21770),b=n(63843),g=n(13974),v=n(88211),_=n(20),f=n(45234),y=n(4766),w=n(82712);const k=(0,g.N)("card-rtb-one-column-stub"),S=(0,s.memo)((({isMobile:e,theme:t})=>{const{l10n:n}=(0,v.$)();return i().createElement("div",{className:k({theme:t})},i().createElement("div",{className:k("header")},i().createElement("div",{className:k("header-left")},i().createElement("div",{className:k("header-logo",{theme:t})}),i().createElement("div",{className:k("header-title-group")},i().createElement("div",{className:k("header-title",{theme:t})}),i().createElement("div",{className:k("header-subtitle")},n("desktop.ad_box").toLocaleLowerCase()))),i().createElement("div",{className:k("header-menu")},i().createElement(_.u,{isMobile:e}))),i().createElement("div",{className:k("content")},i().createElement("div",{className:k("content-left-bar")},i().createElement("div",{className:k("image")},i().createElement("div",{className:k("image-inner",{theme:t})}))),i().createElement("div",{className:k("content-right-bar")},i().createElement("div",{className:k("text-line",{theme:t})}),i().createElement("div",{className:k("text-line",{theme:t})}),i().createElement("div",{className:k("text-line",{theme:t})}),i().createElement("div",{className:k("text-line",{theme:t,isLast:!0})}))),i().createElement("div",{className:k("footer")},i().createElement("div",{className:k("footer-share")},i().createElement(f.D,{isMobile:e}),i().createElement("span",{className:k("footer-share-title")},n("common.share"))),i().createElement("div",{className:k("footer-feedback")},i().createElement(y.U,{isMobile:e}),i().createElement("div",{className:k("footer-feedback-dislike")},i().createElement(w.j,{isMobile:e})))))}));var E=n(62781),C=n(51749);const I=e=>({show:(t,n,s)=>e((0,C.q)("ad_feed:show"),{bulkReplaceMap:Object.assign({},t,{__item_height__:n?String(n):"__item_height__"}),payload:s?{json_data:s}:void 0}),click:(t,n,s)=>e((0,C.q)("ad_feed:click"),{bulkReplaceMap:Object.assign({},t,{__item_height__:n?String(n):"__item_height__"}),payload:s?{json_data:s}:void 0}),previewShow:(t,n)=>e((0,C.q)("ad_feed:preview_show"),{bulkReplaceMap:t,payload:n?{json_data:n}:void 0}),load:(t,n,s,i)=>e((0,C.q)("ad_feed:load"),{bulkReplaceMap:Object.assign({},t,{__preview_time__:n?"0":String(s)}),payload:i?{json_data:i}:void 0}),fail:(t,n,s)=>e((0,C.q)("ad_feed:fail"),{bulkReplaceMap:Object.assign({},t,{__preview_time__:String(n)}),payload:s?{json_data:s}:void 0})}),P=e=>({show:(t,n,s)=>e((0,C.q)("rtb_inserts:show"),{bulkReplaceMap:Object.assign({},t,{__item_height__:n?String(n):"__item_height__"}),payload:s?{json_data:s}:void 0}),click:(t,n,s)=>e((0,C.q)("rtb_inserts:click"),{bulkReplaceMap:Object.assign({},t,{__item_height__:n?String(n):"__item_height__"}),payload:s?{json_data:s}:void 0}),previewShow:(t,n)=>e((0,C.q)("rtb_inserts:preview_show"),{bulkReplaceMap:t,payload:n?{json_data:n}:void 0}),load:(t,n,s,i)=>e((0,C.q)("rtb_inserts:load"),{bulkReplaceMap:Object.assign({},t,{__preview_time__:n?"0":String(s)}),payload:i?{json_data:i}:void 0}),fail:(t,n,s)=>e((0,C.q)("rtb_inserts:fail"),{bulkReplaceMap:Object.assign({},t,{__preview_time__:String(n)}),payload:s?{json_data:s}:void 0})}),T=(e,t)=>{const n="carousel"===t?P:I,[i]=(0,s.useState)((()=>Object.assign({},n(e),(e=>({s2s:()=>e((0,C.q)("ad_feed:s2s_received"))}))(e),(e=>({autoplay:(t,n)=>e((0,C.q)("autoplay"),{bulkReplaceMap:t,payload:n?{json_data:n}:void 0}),end:(t,n)=>e((0,C.q)("end"),{bulkReplaceMap:t,payload:n?{json_data:n}:void 0})}))(e))));return{stats:i}};var R=n(95737),A=n(7027),x=n(82061);let O=0;const N=(0,s.memo)((({payload:e,log:t,bidFloor:n,onRender:a,onClick:r,onError:c,validateError:g,l10n:v,cspNonce:_,adId:f,shouldBlackout:y,theme:w,pCodeLoaderBundleUrl:k,isCustomMediaAdRounding:C,loadJs:I,adErrorFilterRatio:P,isFeedHidden:N=!1,siteTheme:M,isRedesign:L,redesignBigCardImageRatio:D,videoPlayersPool:B,videoPlayerSettings:F,isPlayerPreloadingQueueEnabled:Z,itemOrder:V,isOpenedModal:U,isMobile:j,dzenExpIds:z,adPreloadParams:H,adType:q,adPixelData:$,yandexuid:G})=>{const W=e,Y=w===m.D.black,K=W.type===b.AdPlatform.direct?W.data:void 0,X=W.type===b.AdPlatform.direct?W.skipToken:void 0,J=W.type===b.AdPlatform.direct?W.blockId:void 0,Q=W.type===b.AdPlatform.myTarget?W.slotId:void 0,ee=W.type===b.AdPlatform.direct?W.format:void 0,te=q===b.AdPlatform.myTarget?b.AdPlatform.myTarget:b.AdPlatform.direct,ne=(0,s.useRef)(null),[se,ie]=(0,s.useState)(!1),[ae,re]=(0,s.useState)(Y),oe=(0,s.useRef)({}),le=(0,s.useRef)({}),ce=(0,s.useCallback)(((e,n)=>t(e,Object.assign({},n,{bulkParams:W.bulkParams}))),[W.bulkParams,t]),{stats:de}=T(ce,ee),ue=(0,s.useRef)(!1),{containerRef:me,getHeight:pe}=(0,p.E)(),he=(0,s.useRef)(!1),be=(0,s.useRef)(!1),{isPreviewShowLoggedRef:ge,previewVisibleTimeRef:ve,onPreviewVisibilityChanged:_e}=(()=>{const e=(0,s.useRef)(!1),t=(0,s.useRef)(0),n=(0,s.useRef)(0),i=(0,s.useCallback)((s=>{s&&(t.current=Date.now()),!s&&e.current&&(n.current+=Date.now()-t.current,t.current=0)}),[]);return{isPreviewShowLoggedRef:e,previewVisibleTimeRef:n,onPreviewVisibilityChanged:i}})(),fe=(0,s.useCallback)((()=>{if(ue.current&&!he.current&&be.current){he.current=!0;const e=pe();de.show(oe.current,e,le.current)}}),[pe,de]),ye=(0,s.useCallback)((e=>{e&&Y!==ae&&re(Y)}),[Y,ae]),[we,ke]=(0,u.O)();(0,o.m)((()=>ke),(e=>{ue.current===Boolean(e)||se||_e(Boolean(e)),!e||ge.current||se||(ge.current=!0,de.previewShow(oe.current,le.current)),ue.current=Boolean(e),se&&fe(),ye(Boolean(e))})),(0,s.useEffect)((()=>{ye(ue.current)}),[ye]);const Se=(0,s.useCallback)((()=>{ne.current=(0,x.z)("155")}),[]),Ee=(0,s.useCallback)((()=>{ne.current&&(ne.current.onLoadStart(),ne.current.sendTTI())}),[]),Ce=(0,s.useCallback)((()=>{_e(!1),de.load(oe.current,be.current,ve.current,le.current),be.current=!0,he.current=!1,ie(!0),fe()}),[_e,fe,ve,de]),Ie=(0,s.useCallback)((({product:e,advData:t})=>{ne.current&&ne.current.onRenderEnd(["direct"===e?"155":"3431"]);const{pageId:n,impId:s}=(0,b.parseBlockId)(J);let i=[];null!=t&&t.length&&(oe.current=(({adId:e,ctr:t,hitLogId:n})=>({__hit_log_id__:n||"__hit_log_id__",__banner_id__:e||"__banner_id__",__ad_ctr__:String(t)||"__ad_ctr__"}))(t[0]),le.current={ad_dsp_id:b.AdDspId.Direct,ad_imp_id:s,ad_inventory:b.AdInventory.banner,ad_page_id:n,ad_product_type:e,ad_count:t.length},i=t.map((({adId:e})=>e))),Ce(),a(i)}),[a,J,Ce]),Pe=(0,s.useCallback)((e=>{le.current={ad_dsp_id:b.AdDspId.MyTarget,ad_inventory:b.AdInventory.banner,ad_slot_id:e.data.slot,ad_banner_id:e.data.banner},Ce()}),[Ce]),Te=(0,s.useCallback)((()=>{_e(!1),de.fail(oe.current,ve.current,le.current),c()}),[_e,de,ve,c]),Re=(0,s.useCallback)((()=>{if(r(),se){const e=pe();de.click(oe.current,e,le.current)}}),[r,se,pe,de]),Ae=(0,E.m)((()=>{de.autoplay(oe.current,le.current)})),xe=(0,E.m)((()=>{de.end(oe.current,le.current)})),{adData:Oe,playerVisibilityRef:Ne,preloadVisibilityRef:Me,onBeforeLoad:Le,onPrepareLoad:De,logger:Be,canLoad:Fe}=(0,A.h)({isFeedHidden:N,blockId:J,slotId:Q,data:K,skipToken:X,statId:W.partnerStatId,domElementId:W.domElemId,bidFloor:n,adId:f,pCodeLoaderBundleUrl:k,cspNonce:_,loadJs:I,adErrorFilterRatio:P,siteTheme:M,onClick:Re,onError:Te,onAltCallback:Te,validateError:g,onAdStart:Ae,darkTheme:ae,dzenExpIds:z,isOpenedModal:U,pageNumber:O++,isPlayerPreloadingQueueEnabled:Z,itemOrder:V,onShow:fe,videoPlayerSettings:F,videoPlayersPool:B,onPrepareLoad:Se,onBeforeLoad:Ee,onDirectRender:Ie,onMyTargetRender:Pe,onAdVideoEnd:xe,adPreloadParams:H,yandexuid:G}),Ze=(0,h.e)(me,we,Ne,Me);(0,l.n)((()=>{K&&X&&(K.rtb||K.direct)&&de.s2s()}));const Ve=`\n        zenad-card-rtb\n        ${C?"_zenad-is-rtb-fitted":""}\n        ${"carousel"===ee?"_zenad-is-carousel":""}\n        ${L||se?"":"_zenad-need-stub"}\n        ${L&&!se?"_zenad-is-fixed-height":""}\n        ${L&&se?"_zenad-should-limit-min-height":""}\n        _theme_${w}\n    `;return i().createElement(R.U,{theme:w,className:Ve,withOverflowHidden:!1,ref:Ze},i().createElement("div",{className:"zenad-card-rtb__ad-box"},i().createElement(d,{text:v("desktop.ad_box")})),i().createElement("div",{className:"zenad-card-rtb__ad"},i().createElement(b.AdFacade,{type:te,pixelData:$,adData:Oe,isWaiting:!Fe||N,onPrepareLoading:De,onStartLoading:Le,logger:Be})),se&&y||L?null:i().createElement("div",{className:"zenad-card-rtb__blackout"}),!se&&L&&i().createElement(S,{theme:w,isMobile:!1,imageStubRatio:j?5/4:D}))}));var M=n(20773),L=n(46591),D=n(88144),B=n(22796),F=n(56720),Z=n(55763);const V=(0,n(32034).P1)(D.a,(({advertPreloadDelay:e,advertPreloadOffset:t,advertPreloadEnabled:n})=>({advertPreloadEnabled:n,advertPreloadDelay:e,advertPreloadOffset:t})));var U=n(32358),j=n(42478),z=n(45506),H=n(23268),q=n(54701),$=n(5553),G=n(48236),W=n(64637),Y=n(22694),K=n(73424),X=n(86942);const J=(0,s.memo)((({id:e,isFeedHidden:t,rowIndex:n,onRender:o,onError:l})=>{const{adErrorFilterRatio:c,adId:d,bidFloor:u,cspNonce:m,isAdblock:p,payload:h,pCodeLoaderBundleUrl:b,theme:g,redesignBigCardImageRatio:_,itemOrder:f,videoPlayerSettings:y,isPlayerPreloadingQueueEnabled:w,isOpenedModal:k,dzenExpIds:S,adPreloadParams:E,adPixelData:C,adType:I,yandexuid:P}=(0,a.v9)((t=>{const n=(0,F.IG)(t),s=(0,B.Vw)(t,e,L.qG.RTB),i=(0,B.oY)(t,e),{adErrorFilterRatio:a,rezenFeedRedesignBigCardImageRatio:r,videoPlayerSettings:o,isPlayerPreloadingQueueEnabled:l}=(0,D.a)(t),{openedItemId:c}=t.videoViewer,d=Boolean(c),u=(0,B._Q)(t),m=s.topAd&&t.feed.topPackId===s.packId?s.topAd:s.ad,p=(0,X.W)(m.pixelsData,u);return{adErrorFilterRatio:a,adId:t.params.adId,bidFloor:s.bidFloor,cspNonce:t.params.cspNonce,isAdblock:t.params.isAdblock,packId:s.packId,payload:m,pCodeLoaderBundleUrl:(0,Z.F)(t),theme:(0,F.FS)(t),redesignBigCardImageRatio:r,itemOrder:i,videoPlayerSettings:o,isPlayerPreloadingQueueEnabled:l,isOpenedModal:d,dzenExpIds:(0,K.Q)(t.params.groupIds.split(","),t.params.buckets),adPreloadParams:V(t),adPixelData:p,adType:m.type,yandexuid:null==n?void 0:n.yandexuid}}),a.wU),{outputBus:T,videoPlayersPool:R}=(0,H.vv)(),{l10n:A}=(0,v.$)(),{log:x}=(0,Y.B)(),O=(0,j.u)(void 0),J=(0,z.m)((()=>(l&&l(),(0,M.xB)(e)))),Q=(0,z.m)((()=>(o&&o(),T.emit("rowsHeightsChanged",{rows:[n]}),(0,M.Ij)(e)))),ee=(0,z.m)((e=>(0,W.FL)(e))),te=(0,s.useCallback)((e=>{ee(e),Q()}),[Q,ee]),ne=(0,r.dD)(),se=ne?`feed_${g}_touch_vertical`:`feed_${g}_desktop_horizontal`,ie=(0,q.Y)(),ae=(0,$.Y)(p)?(0,G.K)(m):U.V;return i().createElement(N,{adErrorFilterRatio:c,adId:d,bidFloor:u,cspNonce:m,isCustomMediaAdRounding:!1,isFeedHidden:t,isSharpCorners:!0,l10n:A,loadJs:ae,log:x,payload:h,pCodeLoaderBundleUrl:b,shouldBlackout:!0,siteTheme:se,withShadows:!1,onClick:O,onError:J,validateError:ie,onRender:te,isRedesign:!0,redesignBigCardImageRatio:_,theme:g,videoPlayersPool:R,videoPlayerSettings:y,itemOrder:f,isPlayerPreloadingQueueEnabled:w,isOpenedModal:k,isMobile:ne,dzenExpIds:S,adPreloadParams:E,adPixelData:C,adType:I,yandexuid:P})}))},41143:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var s=n(87363),i=n.n(s);const a=(0,n(13974).N)("card-stub-view"),r=({theme:e})=>i().createElement("div",{className:a({theme:e})})},31851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ln});var s=n(87363),i=n.n(s),a=n(37471),r=n(22796),o=n(88144);var l=n(46591),c=(n(14072),n(53208),n(32481)),d=n(77945),u=n(46112),m=n(17306),p=n(21770),h=n(86297),b=n(13974),g=n(83137),v=n(95737),_=n(90925),f=n(49524),y=n(98014),w=n(43278),k=n(31665),S=n(28349),E=n(87038),C=n(67726),I=n(33924);const P=(0,b.N)("card-subscriptions-heads-item"),T=(0,s.memo)((({theme:e,unreadPostsCount:t,source:n,host:a,onClick:r,rootRef:o,isVisible$:l,onShow:c,isMobile:d,avatar:u,hasLive:m})=>{const[p,h]=(0,s.useState)(!1),{logo:b,title:g,feedLink:v,logoBackgroundColor:_}=n;(0,C.D)({isVisible$:l,onShow:c});const T=(0,s.useCallback)((()=>{r(),p||(0,E.O)().then((()=>h(!0)))}),[p,r]),R=(0,s.useMemo)((()=>{if(!n)return;const{strongestId:e,feedLink:t,logo:s,logoBackgroundColor:i,type:a,status:r,title:o}=n;return{id:e,feedLink:t,logo:s,title:o,logoBackgroundColor:i,type:a,status:r}}),[n]),A=g.split(" "),x=`${(0,S.YG)(A[0])} ${A.slice(1,A.length).join(" ")}`,O=(0,k.v)(R,T);return i().createElement("div",{className:P(),ref:o},i().createElement("div",{className:P("avatar")},m||!t||p?null:i().createElement("span",{className:P("counter",{theme:e,isMobile:d})},t>=100?"99+":t),m?i().createElement(w.i,{containerClassName:P("live")}):null,i().createElement("span",{className:P("avatar-wrapper",{theme:e,isMobile:d})},u?i().createElement("span",{className:P("avatar-circle"),style:{backgroundColor:_,width:64,height:64}},u):i().createElement("span",{className:P("avatar-circle"),style:{width:64,height:64}},i().createElement(I.Y,{src:b,mainColor:_})))),i().createElement(f.n,{className:P("title"),lines:2,lineHeight:18},x),i().createElement(y._5,{onClick:O,target:"_blank",href:v,host:a,className:P("clickable")}))}));var R=n(99498);const A=(0,b.N)("card-subscriptions-heads-sidebar-item"),x=(0,s.memo)((({theme:e,unreadPostsCount:t,source:n,host:a,onClick:r,rootRef:o,isVisible$:l,onShow:c})=>{const[d,u]=(0,s.useState)(!1),{logo:m,title:p,feedLink:h}=n;(0,C.D)({isVisible$:l,onShow:c});const b=(0,s.useCallback)((()=>{r(),d||(0,E.O)().then((()=>u(!0)))}),[d,r]),g=(0,s.useMemo)((()=>{if(!n)return;const{strongestId:e,feedLink:t,logo:s,logoBackgroundColor:i,type:a,status:r,title:o}=n;return{id:e,feedLink:t,logo:s,title:o,logoBackgroundColor:i,type:a,status:r}}),[n]),v=(0,k.v)(g,b);return i().createElement("div",{className:A(),ref:o},i().createElement("div",{className:A("avatar")},i().createElement(R.qE,{iconSize:32,src:m})),i().createElement("div",{className:A("content")},i().createElement("div",{className:A("title")},p),t&&!d?i().createElement("div",{className:A("counter",{theme:e})},t>=100?"99+":t):null),i().createElement(y._5,{onClick:v,target:"_blank",href:h,host:a,className:A("clickable")}))}));var O=n(95875),N=n(6060),M=n(10308);const L=(0,s.memo)((({item:e,isMobile:t,theme:n,log:a,host:r,cardType:o,inSidebar:l,avatar:c,onClick:d,disableSourceLogs:u})=>{const{getHeight:m,containerRef:h}=(0,N.E)(),[b,g]=(0,M.O)(),v=(0,p.e)(b,h),_=(0,s.useCallback)(((t,n)=>{if(!u)return a(t,Object.assign({},n,{bulkParams:e.source.bulkParams?e.source.bulkParams:""}))}),[u,e.source.bulkParams,a]),[f]=(0,s.useState)(u?void 0:()=>Object.assign({},(0,O.Hz)(_,e.source.feedLink),(0,O.Mx)(_))),y=(0,s.useCallback)((()=>{null==d||d(),null==f||f.sourceClick({parentId:o}),e.hasLive&&(null==f||f.clickHeadWithLive())}),[d,f,o,e.hasLive]),w=(0,s.useCallback)((()=>{null==f||f.sourceShow({height:m(),parentId:o}),e.hasLive&&(null==f||f.showHeadWithLive())}),[f,m,o,e.hasLive]),k=l?x:T;return i().createElement(k,{rootRef:v,isMobile:t,theme:n,host:r,source:e.source,unreadPostsCount:e.unreadPostsCount,onClick:y,onShow:w,isVisible$:g,avatar:c,hasLive:e.hasLive})}));var D=n(88211),B=n(8052);const F=(0,b.N)("card-subscriptions-heads"),Z=(0,s.memo)((({theme:e,isMobile:t,rootRef:n,items:a,headsWithWrapper:r,isFreshFromSubscriptionsExists:o,host:l,log:c,cardType:d,title:u,isDzenRedesign:m,onTitleClick:p})=>{const{l10n:h}=(0,D.$)(),b=t?2:5,f=(0,s.useMemo)((()=>a.map(((n,s)=>i().createElement("div",{className:F("item",{isMobile:t}),key:s},i().createElement(L,{item:n,host:l,theme:e,isMobile:t,log:c,cardType:d}))))),[a,l,e,t,c,d]),y=(0,s.useMemo)((()=>i().createElement("div",{className:F("item",{isMobile:t})},i().createElement("span",{className:F("stub",{theme:e})}))),[t,e]),w=(0,s.useMemo)((()=>0===a.length?null:a.length>b?i().createElement("div",{className:F("heads-carousel",{theme:e,isMobile:t})},i().createElement(_.v,{listClassName:F("heads-carousel-container",{isMobile:t}),scrollerClassName:F("heads-carousel-scroller",{isMobile:t}),itemMargin:t?0:8,shouldShowArrows:!t,arrowView:"tick",arrowVerticalAlign:"heads",forceNullScrollWidth:!0,theme:e},f)):i().createElement("div",{className:F("heads-container",{isMobile:t})},t?f:[...f,...Array(6).fill(y)])),[a.length,b,t,e,f,y]),k=(0,s.useMemo)((()=>m?h("zen_subscriptions.content_personal_carousel.with_button.title"):u||h(o?"zen_subscriptions.subscriptions_heads.title_v3":"zen_subscriptions.subscriptions_heads.title")),[o,h,u,m]),S=(0,s.useMemo)((()=>i().createElement("div",{className:F({isMobile:t,theme:e})},i().createElement("div",{className:F("header",{isMobile:t})},i().createElement("div",{className:F("header-text")},i().createElement("h2",{className:F("title",{isMobile:t,clickable:Boolean(p)}),onClick:p},k,Boolean(p)&&i().createElement(g.P,{symbol:B.Z,width:16,height:16,theme:e,className:F("arrow-right")})))),w)),[p,t,e,k,w]);return r?i().createElement(v.U,{theme:e,withOverflowHidden:!1,ref:n},S):S}));var V=n(71102),U=n.n(V),j=n(20761),z=n(86299),H=n(40453);const q="sidebar-section-list-view__sidebarSectionList-MN",$="sidebar-section-list-view__isSticky-1d",G="sidebar-section-list-view__header-3Y",W="sidebar-section-list-view__description-33",Y="sidebar-section-list-view__collapseButton-Z9",K="sidebar-section-list-view__icon-1z",X=({className:e,items:t,rootRef:n,renderSectionItem:a,title:r,subtitle:o,isSticky:l,visibleItemsLimit:c,maxItemsLimit:d})=>{const[u,m]=(0,s.useState)(!1),{l10n:p}=(0,D.$)(),{onMoreClick:h,onLessClick:b}=(0,j.kP)(),g=(0,s.useMemo)((()=>({status:"complete",result:t.slice(0,d).map((e=>Object.assign({},e,{id:e.source.strongestId})))})),[t,d]),v=r?i().createElement("div",{className:G},r):void 0,_=o?i().createElement("div",{className:W},o):void 0,f=(0,s.useCallback)((()=>{u?b():h(),m((e=>!e))}),[u,b,h]),y=i().createElement(H.r,{className:Y,iconClassName:K,isUnfolded:u,onClick:f,foldedText:p("zen_subscriptions.subscriptions_heads.more"),unfoldedText:p("zen_subscriptions.subscriptions_heads.minimize"),isReversed:!0,iconArrowSize:"xs"});return i().createElement("div",{className:U()(q,e,{[$]:l}),ref:n},i().createElement(z.O,{header:v,description:_,data:g,isCollapsed:u,renderSectionItem:a,visibleItemsLimit:c,delay:0,collapseButton:y}))},J=(0,s.memo)((({theme:e,isMobile:t,items:n,host:a,log:r,cardType:o,isSticky:l,rootRef:c})=>{const{l10n:d}=(0,D.$)(),u=(0,s.useCallback)((n=>i().createElement(L,{item:n,host:a,theme:e,isMobile:t,log:r,inSidebar:!0,cardType:o})),[a,t,r,e,o]);return i().createElement(X,{title:d("zen_subscriptions.subscriptions_heads.title_short"),renderSectionItem:u,rootRef:c,isSticky:l,items:n,visibleItemsLimit:10})}));var Q=n(95957),ee=n(20773),te=n(23268),ne=n(28899),se=n(19313),ie=n(92391),ae=n(97125);const re="subs-and-subscrbs-popup__content-32",oe="subs-and-subscrbs-popup__platformDesktop-2S",le="subs-and-subscrbs-popup__platformMobile-pm",ce="subs-and-subscrbs-popup__tabs-12",de="subs-and-subscrbs-popup__tab-HX",ue="subs-and-subscrbs-popup__active-3c";let me;!function(e){e.subscriptions="subscriptions",e.subscribers="subscribers"}(me||(me={}));const pe=({tabs:e,activeTab:t,setActiveTab:n,visible:s,onClose:a})=>{var r;const o=(0,m.dD)(),l=o?le:oe,c=i().createElement("div",{className:U()(ce,l)},Array.from(e).map((([e,s])=>i().createElement("div",{key:e,className:U()(de,l,t===e&&ue),onClick:()=>n(e)},s.title)))),d=i().createElement("div",{className:U()(re,l)},null==(r=e.get(t))?void 0:r.content);return o?i().createElement(ae.u,{close:a,isOpen:s,viewType:"mobile-fullscreen-small-arrow",withFixedCloseButton:!0},c,d):i().createElement(ie.u,{visible:s,onClose:a,hasCloseButton:!0,overflowHidden:!0,keepMounted:!1},c,d)};var he=n(32976);const be={subscriptions:{ru:"Подписки",_context:"Название таба подписок в попапе подписок и подписчиков"},subscribers:{ru:"Подписчики",_context:"Название таба подписчиков в попапе подписок и подписчиков"}},ge=((0,he.Wh)(be),(0,he.bN)(be));var ve=n(28539),_e=n(51749),fe=n(87168),ye=n(13189),we=n(75227),ke=n(47171),Se=n(72361),Ee=n(73950),Ce=n(49147),Ie=n(9842),Pe=n(46764);const Te="unread-posts-mark__counter-uA",Re=({count:e})=>i().createElement("div",{className:Te},e>99?"99+":e),Ae="subs-and-subscrbs-source__source-3T",xe="subs-and-subscrbs-source__avatar-27",Oe="subs-and-subscrbs-source__textContainer-3M",Ne="subs-and-subscrbs-source__platformMobile-29",Me="subs-and-subscrbs-source__info-2s",Le="subs-and-subscrbs-source__platformDesktop-OI",De="subs-and-subscrbs-source__header-1j",Be="subs-and-subscrbs-source__title-25",Fe="subs-and-subscrbs-source__verified-31",Ze="subs-and-subscrbs-source__description-di",Ve="subs-and-subscrbs-source__subscribe-B-",Ue="subs-and-subscrbs-source__link-gs";var je=n(62041),ze=n(76271),He=n(64999);const qe=e=>({zero:e("profile.followers-zero"),one:e("profile.followers-one"),two:e("profile.followers-two"),five:e("profile.followers-zero")}),$e=e=>({zero:e("profile.subscriptions-zero"),one:e("profile.subscriptions-one"),two:e("profile.subscriptions-two"),five:e("profile.subscriptions-five")}),Ge=({title:e,feedLink:t,logoSrc:n,subscribed:s,isVerified:a,onToggleSubscribe:r,subscribers:o,unreadPostsCount:l,description:c})=>{const d=(0,m.dD)(),u=d?Ne:Le,{l10n:p,lang:h}=(0,D.$)(),b=(0,ne.tD)(),g=({node:e,className:n})=>t?i().createElement(Ce.P,{href:t,className:U()(Ue,n)},e):i().createElement("div",{className:n},e),v=g({node:i().createElement(R.qE,{src:n,iconSize:56,className:xe})}),_=d||"number"!=typeof o?void 0:`${0!==o?(0,je.BX)(o):"0"} ${(({count:e=0,counterName:t,l10n:n,lang:s})=>{if(e>ze.sP)return"subscribers"===t?qe(n).five:$e(n).five;const i="subscribers"===t?qe:$e;return(0,He.j)(i(n),s,e,(()=>""))})({count:o,counterName:"subscribers",l10n:p,lang:h})}`,f=_&&c?" · ":"",y=i().createElement("div",{className:U()(Me,u)},i().createElement("div",{className:De},g({node:e,className:Be}),a&&i().createElement(Pe.$,{size:12,className:Fe}),l&&l>0?i().createElement(Re,{count:l}):null),c||_?g({node:`${null!=_?_:""}${f}${null!=c?c:""}`,className:Ze}):null),w=r&&i().createElement("div",{className:U()(Ve,u)},i().createElement(Ie.l,{isSubscribed:s,l10n:p,onToggleSubscribe:r,theme:b,textButtonSize:Ie.q.m,isStandalone:!0}));return i().createElement("div",{className:Ae},v,i().createElement("div",{className:U()(Oe,u)},y,w))},We=({source:e,unreadPostsCount:t,bulkParams:n})=>{const a=(0,ke.D)(),r=n||"",o=(0,Ee.I)({bulkParams:r}),l=(0,Se.F)({bulkParams:r}),{source:c,toggleSubscribe:d}=(0,we.L)({initialSource:Object.assign({},e,{bulkParams:r}),stats:{subscribe:e=>l({triggerEvent:e}),unsubscribe:e=>o({triggerEvent:e}),block:ye.c,cancelBlock:ye.c},onConnectSource:a}),u=(0,s.useCallback)((()=>{d((0,_e.q)("click"))}),[d]),{feedLink:m,title:p,logo:h,isVerified:b,subscribers:g,description:v}=e,{status:_}=c;return i().createElement(Ge,{title:p,feedLink:m,logoSrc:h,subscribed:_===fe.a.SUBSCRIBED,isVerified:b,onToggleSubscribe:u,subscribers:g,unreadPostsCount:t,description:v})};var Ye=n(15254);const Ke="publisher-list-skeleton__container-34",Xe="publisher-list-skeleton__platformDesktop-2J",Je="publisher-list-skeleton__platformMobile-1O",Qe="publisher-skeleton__container-2m",et="publisher-skeleton__line-33",tt="publisher-skeleton__avatar-3m",nt="publisher-skeleton__info-3H",st=()=>{const e=({width:e,marginTop:t})=>i().createElement("div",{className:et,style:{width:e,marginTop:t}});return(0,m.dD)()?i().createElement("div",{className:Qe},i().createElement("div",{className:tt}),i().createElement("div",{className:nt},i().createElement(e,{width:"35%"}),i().createElement(e,{width:"100%",marginTop:"16px"}),i().createElement(e,{width:"45%",marginTop:"8px"}))):i().createElement(i().Fragment,null,i().createElement(e,{width:"70%"}),i().createElement(e,{width:"35%",marginTop:"12px"}))};var it=n(2604);const at=({rowsNumber:e,isAnimated:t=!0,animationDelay:n=200})=>{const a=(0,m.dD)(),[r,o]=(0,s.useState)(!1);return(0,it.n)((()=>{if(t){const e=setTimeout((()=>o(!0)),n);return()=>clearTimeout(e)}})),i().createElement(Ye.kK,{isAnimated:r},Array(e).fill(null).map(((e,t)=>i().createElement(Ye.E4,{key:t,className:U()(Ke,a?Je:Xe)},i().createElement(st,null)))))},rt={somethingWentWrong:{ru:"Что-то пошло не так",_context:""},failedToLoadData:{ru:"Данные не загрузились",_context:""},retry:{ru:"Попробовать ещё раз",_content:""},accessDeniedImageAlt:{ru:"Иллюстрация ограничения доступа",_context:""}},ot=(0,he.Wh)(rt),lt=(0,he.bN)(rt),ct="source-list__list-It",dt="source-list__platformDesktop-1J",ut="source-list__platformMobile-_P",mt="source-list__item-2I",pt="source-list__errorText-_t",ht="source-list__box-2H",bt="source-list__stubText-1F",gt="source-list__spinner-2S";var vt=n(47592);const _t=({sources:e,loading:t,error:n,refetch:s,emptyListText:a,accessDeniedText:r,accessDenied:o=!1,setScrollableElement:l,canFetchMore:c=!1})=>{const d=(0,m.dD)()?ut:dt,{lang:u}=(0,D.$)(),p=(0,ne.Fg)();return i().createElement("div",{className:U()(ct,d),ref:l},t?i().createElement(at,{rowsNumber:3,animationDelay:300}):n?i().createElement("div",{className:ht},i().createElement("span",{className:pt},i().createElement(ot.somethingWentWrong,null)),i().createElement(ve.RS,{isRetrying:!1,retry:s,text:lt.failedToLoadData(u),retryText:lt.retry(u),buttonView:"default"})):o?i().createElement("div",{className:ht},i().createElement("img",{src:`https://s3.dzeninfra.ru/zen-misc/subscriptions_and_subscribers/access_denied_${p}.png`,height:192,alt:lt.accessDeniedImageAlt(u)}),i().createElement("span",{className:bt},r)):0===e.length?i().createElement("div",{className:ht},a):i().createElement(i().Fragment,null,e.map((e=>{const{source:t}=e;return i().createElement("div",{className:U()(mt,d),key:t.id},"publisher"===e.type?i().createElement(We,{source:t,bulkParams:e.bulkParams,unreadPostsCount:e.unreadPostsCount}):i().createElement(Ge,{title:t.title,logoSrc:t.logo,feedLink:t.feedLink,isVerified:!1,subscribed:!1}))})),c&&i().createElement("div",{className:gt},i().createElement(vt.y,{progress:c,size:"s"}))))};var ft=n(85170),yt=n(249),wt=n(7689),kt=n(75971);wt.v0({bulkParams:wt.Z_(),statEvents:kt.E0,hasLive:wt.wY(wt.O7()),isMoreModal:wt.wY(wt.O7()),type:wt.i0("publisher"),source:yt.mC,unreadPostsCount:wt.wY(wt.Rx())}).parser;const St=wt.v0({type:wt.i0("publisher"),unreadPostsCount:wt.wY(wt.Rx()),source:yt.mC,statEvents:wt.wY(kt.E0),bulkParams:wt.wY(wt.Z_())}),Et=wt.v0({type:wt.i0("subscriptions_showcase_button")});var Ct=n(43070);const It=wt.kS("type",{publisher:St,subscriptions_showcase_button:Et}),Pt=wt.v0({items:wt.IX(It)}),Tt=(0,Ct.P)({res:Pt,req:async()=>(await fetch("/api/v3/launcher/subscriptions-list")).json(),params:wt.FD()}),Rt=e=>"publisher"===e.type,At={emptyOwnSubscriptionsText:{ru:"Пока у вас нет подписок — как только появятся, будем показывать их здесь",_context:"Таб подписок в попапе подписок/подписчиков в своем канале"}},xt=((0,he.Wh)(At),(0,he.bN)(At)),Ot=()=>{const{subscriptions:e,error:t,refetch:n,loading:s}=(()=>{const e=(0,ft.aM)(Tt,{},{manualLoadingHandling:!0,manualErrorHandling:!0}),[t,{loading:n,refetch:s,error:i}]=e;return{subscriptions:t?t.items.filter(Rt).map((e=>Object.assign({},e,{bulkParams:e.source.bulkParams}))):[],loading:n,error:i,refetch:s}})(),{lang:a}=(0,D.$)();return i().createElement(_t,{sources:e,error:t,loading:s,refetch:n,accessDeniedText:"",emptyListText:xt.emptyOwnSubscriptionsText(a)})};let Nt;!function(e){e.nobody="NOBODY",e.everybody="EVERYBODY",e.subscribers="SUBSCRIBERS"}(Nt||(Nt={}));const Mt=wt.Ry({hideInterests:wt.O7(),hideActivity:wt.O7(),showSubscribersTo:wt.GP(Nt),showSubscriptionsTo:wt.GP(Nt)}),Lt=wt.v0({type:wt.i0("stub_subscriptions_hidden"),id:wt.Z_(),statEvents:kt.E0,bulkParams:kt.KF}),Dt=(Lt.parser,wt.v0({type:wt.i0("stub_subscribers_hidden"),id:wt.Z_(),statEvents:kt.E0,bulkParams:kt.KF})),Bt=(Dt.parser,wt.v0({isSelfRequest:wt.O7(),type:wt.i0("stub_subscriptions_empty"),id:wt.Z_(),statEvents:kt.E0,bulkParams:kt.KF})),Ft=(Bt.parser,wt.v0({isSelfRequest:wt.O7(),type:wt.i0("stub_subscribers_empty"),id:wt.Z_(),statEvents:kt.E0,bulkParams:kt.KF}));Ft.parser;var Zt=n(99013);const Vt=wt.kS("type",{publisher:St,stub_subscriptions_hidden:Lt,stub_subscriptions_empty:Bt}),Ut=wt.v0({items:wt.IX(Vt),userPrivacySettings:Mt}),jt=(0,Ct.P)({res:Ut,req:async({ownerUid:e})=>(await fetch((0,Zt.d)("/api/v3/launcher/user-subscriptions",{},{ownerUid:e}))).json(),params:wt.Ry({ownerUid:wt.Rx()})}),zt={emptyChannelSubscriptionsText:{ru:"Пока подписок нет",_context:"таб подписок в попапе подписок/подписчиков"},accessDenied:{ru:"Автор отключил возможность смотреть подписки",_content:"таб подписок в попапе подписок/подписчиков"}},Ht=((0,he.Wh)(zt),(0,he.bN)(zt)),qt=(e,t)=>e===Nt.nobody||e===Nt.subscribers&&!t,$t=({ownerUid:e,isSubscribed:t})=>{const{subscriptions:n,error:s,refetch:a,loading:r,showSubscriptionsTo:o}=(({ownerUid:e})=>{const t=(0,ft.aM)(jt,{ownerUid:e},{manualLoadingHandling:!0,manualErrorHandling:!0}),[n,{loading:s,refetch:i,error:a}]=t;if(!n)return{subscriptions:[],loading:s,error:a,refetch:i,showSubscriptionsTo:Nt.everybody};const r=n.items.filter((e=>"publisher"===e.type)),{userPrivacySettings:{showSubscriptionsTo:o}}=n;return{subscriptions:r,loading:s,error:a,refetch:i,showSubscriptionsTo:o}})({ownerUid:e}),l=qt(o,t),{lang:c}=(0,D.$)();return i().createElement(_t,{sources:n,error:s,loading:r,refetch:a,accessDenied:l,emptyListText:Ht.emptyChannelSubscriptionsText(c),accessDeniedText:Ht.accessDenied(c)})},Gt={emptyOwnSubscribersText:{ru:"Пока подписчиков нет — как только появятся, будем показывать их здесь",_context:"Таб своих подписчиков в попапе подписок/подписчиков"},emptyChannelSubscribersText:{ru:"Пока подписчиков нет",_context:"Таб подписчиков канала в попапе подписок/подписчиков"},accessDenied:{ru:"Автор отключил возможность смотреть подписчиков",_content:"Таб подписчиков канала в попапе подписок/подписчиков"}},Wt=((0,he.Wh)(Gt),(0,he.bN)(Gt)),Yt=wt.v0({bulkParams:wt.Z_(),statEvents:wt.wY(kt.E0),type:wt.i0("user"),source:yt.mC,id:wt.Z_()}),Kt=(Yt.parser,wt.kS("type",{user:Yt,publisher:St,stub_subscribers_hidden:Dt,stub_subscribers_empty:Ft})),Xt=wt.v0({items:wt.IX(Kt),userPrivacySettings:Mt,lastTs:wt.wY(wt.Rx()),lastUserId:wt.wY(wt.Rx())}),Jt=wt.Ry({publisherId:wt.Z_(),size:wt.wY(wt.Rx()),firstPage:wt.wY(wt.Rx()),lastTs:wt.wY(wt.Rx()),lastUserId:wt.wY(wt.Rx())}),Qt=(0,Ct.P)({res:Xt,req:async e=>(await fetch((0,Zt.d)("/api/v3/launcher/user-subscribers",{},e))).json(),params:Jt});var en=n(64770);const tn=({isOwnList:e,publisherId:t,isSubscribed:n})=>{const{subscribers:a,error:r,refetch:o,loading:l,setScrollableElement:c,canFetchMore:d,showSubscribersTo:u}=(({publisherId:e,size:t=30})=>{const[n,i]=(0,s.useState)(!1),a=(0,ft.aM)(Qt,{publisherId:e,firstPage:1,size:t},{manualLoadingHandling:!0,manualErrorHandling:!0,onFetched:(e,t)=>i(e.items.length===t.size)}),[r,{loading:o,refetch:l,error:c}]=a,[d,{loadingMore:u}]=(0,ft.Wd)(Qt,a,((e,n)=>{i(n.items.length===t),e.items.push(...n.items),e.lastTs=n.lastTs,e.lastUserId=n.lastUserId})),m=(0,s.useMemo)((()=>(null==r?void 0:r.items.filter((e=>"publisher"===e.type||"user"===e.type)))||[]),[null==r?void 0:r.items]),p=(0,en.P)({onScrollToBottom:()=>{if(!r)return;const{lastTs:n,lastUserId:s}=r;d({publisherId:e,size:t,lastTs:n,lastUserId:s})},needHandleScroll:Boolean(m.length&&!u&&n)});return{subscribers:m,loading:o,error:c,refetch:l,showSubscribersTo:(null==r?void 0:r.userPrivacySettings.showSubscribersTo)||Nt.everybody,setScrollableElement:p,canFetchMore:n}})({publisherId:t}),{lang:m}=(0,D.$)(),p=e?Wt.emptyOwnSubscribersText(m):Wt.emptyChannelSubscribersText(m),h=!e&&qt(u,n);return i().createElement(_t,{sources:a,error:r,loading:l,refetch:o,emptyListText:p,accessDeniedText:Wt.accessDenied(m),accessDenied:h,setScrollableElement:c,canFetchMore:d})},nn=(0,s.memo)((({rawItem:e,log:t,onShow:n,onFullShow:r,shouldDeferEvents$:o,headsWithWrapper:l,host:b,inSidebar:g,isSticky:v,isDzenRedesign:_,clientLog:f,currentUserSource:y,scrollTo:w,subsAndSubscrbsEnabledTabs:k})=>{const S=(0,ne.tD)(),E=(0,m.dD)(),I=(0,s.useRef)(!1),P=(0,s.useMemo)((()=>(0,c.Hj)(h.X,e,"data в карточке голов")),[e]),T=(0,a.I0)(),{globalBus:R}=(0,te.vv)(),{getHeight:A,containerRef:x}=(0,N.E)(),M=(0,s.useCallback)(((e,n)=>t(e,Object.assign({},n,{bulkParams:P.bulkParams}))),[P.bulkParams,t]),[L]=(0,s.useState)((()=>Object.assign({},(0,O.cq)(M,void 0),(0,O.uM)(M),(0,O.VX)(f)))),[B,F,V,U,j]=(0,d.c)();(0,C.D)({timeout:Q.B,isVisible$:j,onShow:r}),(0,s.useEffect)((()=>{const e=U.subscribe((e=>{I.current?T((0,ee.Yb)(Boolean(e))):I.current=!0}));return()=>e.unsubscribe()}),[T,U,B]);const z=(0,s.useCallback)((()=>{null==w||w({animate:!0})}),[w]);(0,s.useEffect)((()=>{R.subscribe("scrollToHeads",z)}),[R,z]),(0,u.E)({isToothVisible$:F,isVisible$:V,isIntersecting$:U,shouldDeferEvents$:o,onShow(){L.show(A()),L.showPanel(),n()},onShort(){}});const H=(0,p.e)(B,x),{subsAndSubscrbsPopup:q,openSubscriptionsPopup:$}=(({tabs:e,isOwnList:t,isSubscribed:n=!1,ownerUid:a,publisherId:r})=>{const[o,l,c]=(0,se.zj)(!1),{lang:d}=(0,D.$)(),u=(0,s.useMemo)((()=>({[me.subscriptions]:t?i().createElement(Ot,null):a?i().createElement($t,{ownerUid:a,isSubscribed:n}):null,[me.subscribers]:r?i().createElement(tn,{publisherId:r,isOwnList:t,isSubscribed:n}):null})),[t,a,n,r]),m=(0,s.useMemo)((()=>({[me.subscriptions]:ge.subscriptions(d),[me.subscribers]:ge.subscribers(d)})),[d]),p=(0,s.useMemo)((()=>e.reduce(((e,t)=>{const n=u[t],s=m[t];return n&&e.set(t,{title:s,content:n}),e}),new Map)),[e,u,m]),h=(0,s.useMemo)((()=>Array.from(p.keys())),[p]),[b,g]=(0,s.useState)(h[0]),v=Boolean(h.length),_=v?i().createElement(pe,{activeTab:b,onClose:c,setActiveTab:g,tabs:p,visible:o}):null,f=(0,s.useCallback)((e=>()=>{g(e),l()}),[g,l]),y=(0,s.useCallback)((e=>v&&h.includes(e)),[v,h]);return{subsAndSubscrbsPopup:_,openSubscriptionsPopup:(0,s.useMemo)((()=>y(me.subscriptions)?f(me.subscriptions):void 0),[f,y]),openSubscribersPopup:(0,s.useMemo)((()=>y(me.subscribers)?f(me.subscribers):void 0),[f,y])}})({tabs:k,isOwnList:!0,publisherId:null==y?void 0:y.publisherId});return g?i().createElement(J,{theme:S,isMobile:E,rootRef:H,items:P.items,isFreshFromSubscriptionsExists:Boolean(P.isFreshFromSubscriptionsExists),host:b,log:t,cardType:P.type,isSticky:v}):i().createElement(i().Fragment,null,i().createElement(Z,{theme:S,isMobile:E,rootRef:H,items:P.items,onTitleClick:$,headsWithWrapper:l,isFreshFromSubscriptionsExists:Boolean(P.isFreshFromSubscriptionsExists),host:b,log:t,cardType:P.type,title:P.title,isDzenRedesign:_}),q)}));var sn=n(21937),an=n(22694),rn=n(45304),on=n(42478);const ln=(0,s.memo)((({id:e,scrollTo:t})=>{const{shouldDeferEvents$:n,zenApi:c,globalBus:d}=(0,te.vv)();(0,rn.cW)(n);const{log:u,clientLog:m}=(0,an.B)(),p=(0,on.u)(void 0),{item:h,inSidebar:b,isSticky:g,headsWithWrapper:v,isDzenRedesign:_,currentUserSource:f}=(0,a.v9)((t=>{const n=(0,r.Vw)(t,e,l.qG.SUBSCRIPTIONS_HEADS),s=(e=>{var t;return null==(t=e.currentUserSourceInfo)?void 0:t.source})(t),{subscriptionsHeadsSidebar:i,headsWithWrapper:a,subscriptionsHeadsSidebarSticky:c}=(0,o.a)(t);return{item:n,inSidebar:Boolean(i),isSticky:Boolean(c),headsWithWrapper:a||Boolean(!0),isDzenRedesign:Boolean(!0),currentUserSource:s}}),a.wU),w=(0,Q.$)(h.packId,h.cacheId,p),k=(0,s.useCallback)((()=>{c.packShown(h.packId,h.cacheId),d.emit("zenCardShow",h.type)}),[c,d,h.packId,h.cacheId,h.type]),S=(0,y.su)(),E=function(e){const{headsSubscribersEnabled:t,headsSubscriptionsEnabled:n,notOwnChannelSubscribersEnabled:s,notOwnChannelSubscriptionsEnabled:i,ownChannelSubscribersEnabled:r,ownChannelSubscriptionsEnabled:l}=(0,a.v9)((e=>{const{subsAndSubscrbsPopup:t}=(0,o.a)(e);return t})),{place:c}=e,d=[],u=(e,t)=>{e&&d.push(t)};if("channel"===c){const{isOwnList:t}=e;u(t&&r,me.subscribers),u(t&&l,me.subscriptions),u(!t&&s,me.subscribers),u(!t&&i,me.subscriptions)}return"heads"===c&&(u(t,me.subscribers),u(n,me.subscriptions)),d}({place:"heads"});return i().createElement(sn.g,{item:void 0,log:void 0,forceSendBulkEvents:void 0},i().createElement(nn,{rawItem:h.rawItem,id:e,log:u,onShow:k,onFullShow:w,shouldDeferEvents$:n,headsWithWrapper:v,host:S,inSidebar:b,isSticky:g,isDzenRedesign:_,clientLog:m,currentUserSource:f,scrollTo:t,subsAndSubscrbsEnabledTabs:E}))}))},59866:(e,t,n)=>{"use strict";n.d(t,{S:()=>u});var s=n(87363),i=n.n(s),a=n(96229),r=n(75202),o=n(22502),l=n(44094);const c=(0,l.M0)(r.X),d=(0,l.M0)(o.Sk),u=(0,s.memo)((({l10n:e,sourceStatus:t,isAutoplayEnabled:n,onToggleAutoplay:r,className:o,wrapperClassName:u,renderTrigger:m,onBlock:p,onComplain:h,onSubscribe:b,onUnsubscribe:g,onShow:v,onEdit:_,onTogglePinning:f,onMovePinUp:y,onMovePinDown:w,onAddToSuite:k,onRemoveFromSuite:S,onDelete:E,position:C,theme:I,withAutoplayToggle:P=!0,isPinned:T,savedStatus:R,onToggleSaved:A})=>{const x=(0,s.useMemo)((()=>I?{padding:"12px 16px"}:{padding:"10px 24px 10px 10px"}),[I]),O=(0,s.useCallback)((()=>{const t=e("preferences.autoplay_title");return i().createElement(i().Fragment,null,i().createElement(l.JJ,null),I?i().createElement(d,{autoClose:!1,inPopup:!0,isChecked:n,isMobile:!1,label:t,style:x,theme:I,onChange:r}):i().createElement(c,{autoClose:!1,isChecked:n,label:t,style:x,onChange:r}))}),[r,n,x,e,I]);return i().createElement(a.n,{l10n:e,position:C,sourceStatus:t,renderTrigger:m,onBlock:p,onComplain:h,onSubscribe:b,onUnsubscribe:g,onShow:v,wrapperClassName:u,className:o,renderAdditionalItems:P?O:void 0,onEdit:_,onTogglePinning:f,onMovePinUp:y,onMovePinDown:w,onAddToSuite:k,onRemoveFromSuite:S,onDelete:E,theme:I,isPinned:T,savedStatus:R,onToggleSaved:A})}))},95737:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var s=n(19670),i=n(87363),a=n.n(i),r=n(54137);const o=(0,i.memo)((0,i.forwardRef)(((e,t)=>a().createElement(r.UK,(0,s.Z)({isMobileRedesign:Boolean(!1),isDesktopRedesign:Boolean(!0),ref:t},e)))))},95184:(e,t,n)=>{"use strict";n.d(t,{k:()=>b});n(14072),n(53208);var s=n(21770),i=n(77945),a=n(67726),r=n(87363),o=n(42478),l=n(47171),c=n(95875),d=n(22694),u=n(6060),m=n(75227),p=n(31665),h=n(51749);const b=({bulkParams:e,cardType:t,initialSource:n,shouldLogShowCardSource:b=!0,shouldLogContentEvents:g=!0,handleSubscribe:v,handleUnsubscribe:_,onShow:f,parentId:y})=>{const{containerRef:w,getHeight:k}=(0,u.E)(),[S,E]=(0,i.c)(),C=(0,s.e)(S,w),{log:I}=(0,d.B)(),P=(0,r.useCallback)(((t,n)=>I(t,Object.assign({},n,{bulkParams:e}))),[e,I]),[T]=(0,r.useState)((()=>Object.assign({},(0,c.Hz)(P),(0,c.v1)(P),(0,c.wA)(P)))),R=(0,r.useCallback)((()=>{g&&T.showContentItem(t),b&&T.sourceShow({height:k(),parentId:y,parentType:t}),null==f||f()}),[T,k,t,f,b,g,y]);(0,a.D)({isVisible$:E,onShow:R});const A=(0,o.u)(void 0),x=(0,l.D)(),O=(0,r.useCallback)((()=>{A(),null==v||v()}),[A,v]),N=(0,r.useCallback)((()=>{A(),null==_||_()}),[A,_]),{source:M,toggleSubscribe:L}=(0,m.L)({initialSource:Object.assign({},n,{bulkParams:e}),stats:T,onConnectSource:x,onSubscribe:O,onUnsubscribe:N}),D=(0,r.useCallback)((()=>{L((0,h.q)("click"))}),[L]),B=(0,r.useCallback)((()=>{T.clickContentItem(t)}),[T,t]),F=(0,r.useCallback)((()=>{b&&T.sourceClick({height:k(),parentId:y,parentType:t}),g&&B()}),[b,B,T,k,t,g,y]),Z=(0,p.v)(n,F),V=(0,r.useMemo)((()=>Object.assign({},n,{status:M.status})),[n,M]),U=(0,r.useCallback)((e=>{e?T.mute(t):T.cancelMute(t)}),[t,T]);return{rootRef:C,connectedSource:V,toggleSubscribe:D,handleOpenSourceLink:Z,handleClickContentItem:B,setCarouselItemMuted:U,handleSourceClick:F}}},84091:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var s=n(74382);const i=(0,s.ZP)({chunkName:()=>"interview",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(6445),n.e(4825)]).then(n.bind(n,99132)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 99132}})},43756:(e,t,n)=>{"use strict";n.d(t,{jN:()=>s,JX:()=>i,BC:()=>a,mr:()=>r,PK:()=>o,Tr:()=>l,pj:()=>c,Bh:()=>d,WB:()=>u,kQ:()=>m,hf:()=>p,Yk:()=>h,HB:()=>b,_q:()=>g,kB:()=>v,MX:()=>_,UF:()=>f,JN:()=>y,Yj:()=>w,Wo:()=>k,Cp:()=>S,rI:()=>E,Z:()=>C,a7:()=>I,az:()=>P,$6:()=>T,nF:()=>R,U4:()=>A,IE:()=>x,TP:()=>O,ns:()=>N,Yn:()=>M,XJ:()=>L,JI:()=>D,T4:()=>B,su:()=>F,rL:()=>Z,Vw:()=>V,rw:()=>U,oA:()=>j,TZ:()=>z,kF:()=>H,Rf:()=>q,gc:()=>$,fJ:()=>G,PT:()=>W,eJ:()=>Y,Yf:()=>K,Hr:()=>X,H9:()=>J,XQ:()=>Q,Mb:()=>ee,e:()=>te,_$:()=>ne,or:()=>se,YO:()=>ie,SX:()=>ae,r7:()=>re,nr:()=>oe,D7:()=>le,cT:()=>ce,LU:()=>de,jf:()=>ue,JF:()=>me,eB:()=>pe,xl:()=>he,qC:()=>be,wJ:()=>ge,SG:()=>ve,RA:()=>_e,Ue:()=>fe,pF:()=>ye,JY:()=>we,io:()=>ke,sd:()=>Se,vB:()=>Ee,G4:()=>Ce,Z5:()=>Ie,H1:()=>Pe,GH:()=>Te,RJ:()=>Re,CM:()=>Ae,S5:()=>xe,sJ:()=>Oe,gT:()=>Ne,am:()=>Me,K9:()=>Le,Q1:()=>De,YB:()=>Be,LA:()=>Fe,ex:()=>Ze,gb:()=>Ve,Ns:()=>Ue,Ex:()=>je,Wl:()=>ze,gC:()=>He,WX:()=>qe,kK:()=>$e,et:()=>Ge,Qj:()=>We,$n:()=>Ye,Gp:()=>Ke,mI:()=>Xe,ab:()=>Je,rl:()=>Qe,Ps:()=>et,CV:()=>tt,X3:()=>nt,AJ:()=>st,YY:()=>it,fF:()=>at,_5:()=>rt,Ig:()=>ot,me:()=>lt,YZ:()=>ct,eS:()=>dt,vd:()=>ut,LX:()=>mt,Q3:()=>pt,ym:()=>ht,_W:()=>bt,bj:()=>gt,hb:()=>vt,dI:()=>_t,Ep:()=>ft,T7:()=>yt,Vc:()=>wt,AG:()=>kt,LV:()=>St,bT:()=>Et,KU:()=>Ct,Bk:()=>It,nw:()=>Pt,dK:()=>Tt,o0:()=>Rt,kb:()=>At,Cv:()=>xt,km:()=>Ot,Ds:()=>Nt,TX:()=>Mt,Vk:()=>Lt,pn:()=>Dt,aC:()=>Bt,QC:()=>Ft,CI:()=>Zt});const s="ADD_USER",i="APPLY_EXPORT_DATA",a="SET_IS_LOADING_NEW_PACK_AFTER_ONBOARDING",r="SET_INTERESTS",o="CLEAR_FEED",l="START_QUEUE_LOAD_TASK",c="CLEAR_QUEUE_LOAD_TASK",d="FINISHED_TASK_EPIC",u="TASK_RESOURCE_LOAD_FINISH",m="DOC_CLICK",p="DOC_READ",h="INIT_COMMENTS",b="INIT_FROM_STATE",g="INSERT_ITEM_AFTER_WITH_LINK",v="ITEM_COMPLAINTS_CANCEL",_="ITEM_COMPLAINTS_OPEN",f="ITEM_COMPLAINTS_SEND",y="SET_ALL_ANSWERS_UNCHECKED",w="SET_ANSWER_IS_CHECKED",k="ITEM_FEEDBACK_BLOCK",S="ITEM_FEEDBACK_CANCEL",E="ITEM_FEEDBACK_DISLIKE",C="ITEM_FEEDBACK_CANCEL_BLOCK",I="ITEM_MITTENS_JUMP",P="SET_CHILD_ITEM_ID",T="MERGE_SOURCE",R="MERGE_STATE_BRANCH",A="RECEIVE_ITEMS",x="SET_PIN_DATA",O="SET_IS_PINNED_ITEM",N="REMOVE_ITEM",M="SET_ITEM_ORDER",L="SET_REPLACE_QUEUE",D="SET_APP_BUTTON_TIMEOUT",B="SET_BODY_SCROLL",F="SET_CARD_FEEDBACK",Z="PREVENT_SHOW_FEEDBACK_SUGGEST",V="SET_COMMENTS_DATA",U="SET_SOCIAL_META_DATA",j="APPEND_TO_SOCIAL_META_LIKE_COUNT",z="SET_COUNTRY",H="SET_CURRENT_NOTIFIER",q="SET_INITIAL_DISPLAYED_ROWS_NUMBER",$="SET_DISPLAYED_ROWS_NUMBER",G="SET_FEED_LOADING_PROGRESS_VISIBLE",W="SEARCH_SET_FILTER",Y="SET_GRID_TYPE",K="SET_IS_CHILD_WINDOW",X="SET_NOTIFIERS_ENABLED",J="SET_NOTIFIERS_OFFSET_MODE_TOP",Q="SET_OPEN_CARD_SCROLL",ee="SET_VIDEO_AUTOPLAY",te="SET_VIDEO_MUTE",ne="SET_VIDEO_QUALITY",se="SET_PLAYBACK_RATE",ie="SET_FEED_STUB",ae="SOURCE_BLOCK",re="SOURCE_DISLIKE",oe="MERGE_CHANNEL_SOURCE",le="SOURCE_SUBSCRIBE",ce="SOURCE_UNBLOCK",de="SOURCE_UNSUBSCRIBE",ue="SOURCE_SET_COMPLAINT_REASONS",me="TOGGLE_LANGUAGE",pe="USER_BLOCKED_REQUEST",he="USER_FOLLOWERS_REQUEST",be="USER_PROFILE_ONBOARDING_COMPLETE",ge="USER_PROFILE_REQUEST",ve="USER_PROFILE_RESTORE",_e="USER_SUBSCRIPTIONS_REQUEST",fe="USER_PROFILE_NOTIFICATIONS_CHANGE",ye="VIDEO_VIEWER_SET_SOURCES",we="VIDEO_VIEWER_CHANGE",ke="VIDEO_VIEWER_SYNC_ITEM",Se="VIDEO_VIEWER_TOGGLE_CHAT_COLLAPSE",Ee="VIDEO_VIEWER_TOGGLE_COMMENTS",Ce="VIDEO_VIEWER_TOGGLE_PLAYER",Ie="VIDEO_VIEWER_SET_READY_DOC2DOC",Pe="VIDEO_VIEWER_GET_RECOMMEND",Te="VIDEO_VIEWER_GET_RECOMMEND_ERROR",Re="CLEAR_VIDEO_VIEWER_RECOMMEND_EXCEPT",Ae="VIDEO_VIEWER_SET_DATA",xe="VIDEO_VIEWER_ERROR",Oe="VIDEO_VIEWER_REQUEST",Ne="VIDEO_VIEWER_SET_DISPLAYED_ROWS_NUMBER",Me="VIDEO_VIEWER_START_POSITION",Le="VIDEO_VIEWER_TOGGLE_DRAWER_COMMENTS",De="VIDEO_VIEWER_TOGGLE_DRAWER_DESCRIPTION",Be="VIDEO_VIEWER_DRAW_AD",Fe="VIDEO_VIEWER_SET_AD_BLOCKS",Ze="VIDEO_VIEWER_SET_AD_PIXEL_COMMON_DATA",Ve="UPDATE_DELAYED_LIVE_INFO",Ue="SET_DELAYED_LIVE_IS_CANCELLED",je="UPDATE_DELAYED_LIVE_INFO_FEED",ze="SET_DELAYED_LIVE_IS_CANCELLED_FEED",He="LOAD_AD_FINISHED",qe="SET_CLOSE_MODAL_PATH",$e="FORCE_MODAL_ROUTE",Ge="CLOSE_MODAL",We="ON_MODAL_OPEN",Ye="VIDEO_CALL_TO_ACTION_SHOWN",Ke="VIDEO_CALL_TO_ACTION_WRAPPED",Xe="FORWARD_LOCATION_CHANGE",Je="SET_NATIVE_NAVBAR",Qe="SET_CURRENT_USER_SUBSCRIPTIONS",et="SET_LOGIN_POPUP_DATA",tt="SEARCH_REQUEST",nt="SEARCH_RECEIVE",st="SEARCH_FAIL",it="CLOSE_LOGIN_POPUP",at="INSERT_ITEM_AFTER",rt="UPDATE_FEED_KEY",ot="SET_TOP_PACK_ID",lt="SET_REACTION_SHOWN",ct="FEED_UPDATE",dt="UPDATE_VISIBLE_FEED_ROWS",ut="BUMP_MORE_REQUEST_COUNT",mt="APPEND_RTB_COUNT_LINIK_TO_CACHE",pt="SET_CURRENT_CARD_SCREEN_ID",ht="OPEN_CHANNELS_LIST_MODAl",bt="CLOSE_CHANNELS_LIST_MODAl",gt="ADD_INTERVIEW",vt="SET_CURRENT_INTERVIEW_ID",_t="SET_CURRENT_SCREEN_ID",ft="SET_EULA_SHOWINESS",yt="SET_SUBSCRIPTIONS_HEADS_VISIBLE",wt="ADD_SIDEBAR",kt="ADD_LEFT_SIDEBAR",St="ADD_LEFT_SIDEBAR_SUBSCRIPTIONS",Et="ADD_CURRENT_SESSION_SUBSCRIPTION",Ct="DELETE_CURRENT_SESSION_SUBSCRIPTION",It="CLEAR_CURRENT_SESSION_SUBSCRIPTIONS",Pt="SET_SHOULD_HIDE_REFRESH_SNACKBAR",Tt="MERGE_SUITES",Rt="ADD_SUITE",At="INCREMENT_SUITE_PUBLICATIONS_COUNT",xt="DECREMENT_SUITE_PUBLICATIONS_COUNT",Ot="REORDER_SUITES",Nt="SET_SUITE",Mt="DECREMENT_SUITE_MATERIALS_COUNT",Lt="ADD_SAVED_ITEM",Dt="REMOVE_SAVED_ITEM",Bt="SET_CHANNEL_PIXELS",Ft="MERGE_CHANNEL_TABS",Zt="SET_AD_PIXEL_DATA"},58155:(e,t,n)=>{"use strict";n.d(t,{wt:()=>s,OO:()=>i,sf:()=>a,r6:()=>r});const s=100,i={1:340,2:688,3:958},a="SELF_USER_ID_FALLBACK",r=5},46591:(e,t,n)=>{"use strict";n.d(t,{tQ:()=>s,qG:()=>i,U$:()=>a,Aq:()=>r,Ct:()=>c});n(14072),n(53208);let s,i,a;!function(e){e.ONE_COLUMN="one_column",e.ONE_COLUMN_BIG="one_column_big",e.TWO_COLUMNS="two_column",e.TWO_COLUMNS_BIG="two_column_big",e.THREE_COLUMNS="three_column"}(s||(s={})),function(e){e.TEXT="text_card",e.IMAGE="image_card",e.GIF="gif",e.SHORT_VIDEO="short_video",e.LIVE="live",e.LIVE_INTERLACED="live_interlaced",e.LIVE_RUN_OUT="live_run_out",e.SHORT_VIDEO_CAROUSEL="short_video_carousel",e.HINT_EULA="hint_eula",e.ONBOARDING_INTEREST_LIST="onboarding_interest_list",e.USER_QUESTION="user-feedback-question",e.RTB="rtb_card",e.GALLERY="gallery",e.GALLERY_INTERLACED="gallery_interlaced",e.BRIEF="brief",e.INTERVIEW="interview",e.SHOWCASE_CARD="plain_card",e.SUBSCRIPTIONS_MORE="subscriptions_more",e.SUBSCRIPTIONS_HEADS="subscriptions_heads",e.RECOMMENDATIONS_CHANNELS="recommendations_channels",e.PROMO_PUBLISHERS_CAROUSEL="promo_publishers_carousel",e.PROMO_PUBLICATIONS_LIST="promo_publications_list",e.NEWS="news",e.HIDDEN="hidden",e.PROMO_LOGIN="promo_login",e.SEARCH_PUBLISHERS="search_publishers",e.PUBLISHERS_CONTENT_CAROUSEL="publishers_content_carousel",e.PROMO_PUBLICATIONS_CAROUSEL="promo_publications_carousel",e.LIVE_CAROUSEL="live_carousel",e.AD_CAMPAIGN_CARD="ad_campaign_card",e.AD_CAMPAIGN_BANNER="ad_campaign_banner"}(i||(i={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(a||(a={}));const r=new Set([i.USER_QUESTION]),o={columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8},l={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9},c={[s.ONE_COLUMN]:o,[s.ONE_COLUMN_BIG]:o,[s.TWO_COLUMNS]:l,[s.TWO_COLUMNS_BIG]:l,[s.THREE_COLUMNS]:{columnCount:3,initialDisplayedRowsNumber:6,rowDisplayStep:9}}},18290:(e,t,n)=>{"use strict";let s;n.d(t,{q:()=>s}),function(e){e.SUBSCRIPTIONS_HEADS="subscriptions_heads",e.SUBSCRIPTIONS_HEADS_PLACEHOLDER="subscriptions_heads_placeholder"}(s||(s={}))},92316:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});const s="CHANNEL_SUBSCRIBE_BUTTON_CLICKED"},88207:(e,t,n)=>{"use strict";let s;n.d(t,{q:()=>s}),function(e){e.SUBSCRIPTIONS_HEADS="subscriptions_heads",e.PROMO_PUBLISHERS_CAROUSEL="promo_publishers_carousel"}(s||(s={}))},76117:(e,t,n)=>{"use strict";n.d(t,{Tu:()=>s,tA:()=>i,TR:()=>a,qB:()=>r,_k:()=>o,Yz:()=>l,IX:()=>c,lK:()=>d,EZ:()=>u,In:()=>m,pI:()=>p,$W:()=>h,V:()=>b,sX:()=>g,ij:()=>v,Il:()=>_,k7:()=>f,be:()=>y,tU:()=>w,vM:()=>k,Sq:()=>S,ck:()=>E,cA:()=>C,HV:()=>I,_g:()=>P,Wj:()=>T,g6:()=>R,Yk:()=>A,vv:()=>x,w$:()=>O});const s="/",i="/subscriptions",a="/profile",r="/profile/blocked",o="/profile/blocked#subs",l="/profile/feedback",c="/search",d="/discover",u="/discover?searchfocus=1",m="/saved",p="#video",h="/suite/:suiteId",b="backToChannel",g="briefEditorPublicationId",v="videoEditorPublicationId",_="/profile/editor/id",f="/media/zen/new",y="/media/zen/new#video-editor",w="/profile/editor/new",k="/media/:channelName/:articleId",S="/media/id/:channelId/:articleId",E="/t/:interestName",C="/channel/:channelName",I="/channel/id/:channelId",P="/:channelName",T="/id/:channelId",R="/user/:socialProfileId",A="/user/:socialProfileId/subscriptions",x="/user/edit",O="/user/deactivate"},28494:(e,t,n)=>{"use strict";n.d(t,{qx:()=>s,UK:()=>i,CG:()=>a,b8:()=>r,ur:()=>o});const s="/video/watch/:videoId",i="/video/watch",a="/video",r="/shorts",o="/lives"},96553:(e,t,n)=>{"use strict";n.d(t,{j:()=>r,h:()=>o});var s=n(46997),i=n(52727);const a=["publicationCount","onCreateSuiteSuccess"],r=({suiteId:e,name:t,description:n,imageDto:s},a)=>{var r;const o=(0,i.eE)(null==s?void 0:s.urlTemplate,"xxh");return{id:e,name:t,type:"suite",description:n,image:s&&o?{logo:o,logoSizes:{"":""},logoBackgroundColor:(null==(r=s.meta)?void 0:r.mainColor)||""}:void 0,publicationsCount:a,feedLink:(0,i.fL)(e)}},o=e=>{let{publicationCount:t,onCreateSuiteSuccess:n}=e,i=(0,s.Z)(e,a);return n(r(i,t))}},89239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>je});var s=n(87363),i=n.n(s),a=n(37471),r=n(53923),o=(n(14072),n(53208),n(13974)),l=n(46997),c=n(77735),d=n(25723),u=n(49082),m=n(72034),p=n(51780),h=n(86826),b=n(78147),g=n(62993),v=n(30373),_=n(29332),f=n(53104),y=n(12165),w=n(91642),k=n(71966),S=n(32121),E=n(78047);(0,m.d)("active","sleeping","deleted","not_exist");const C=(0,p.v)({card:h.Z_,text:h.Z_}),I=(0,p.v)({title:(0,b.w)(h.Z_),text:(0,b.w)(h.Z_),type:h.Z_,publisherId:h.Z_,publicationObjectId:(0,b.w)(h.Z_),actionTime:(0,b.w)(h.Z_),recommendReason:(0,b.w)(h.Z_)}),P=(0,p.v)({urlHash:(0,b.w)(h.Z_),cardColors:(0,b.w)(C),mainColor:(0,b.w)(h.Z_),read:h.O7,reactions:(0,b.w)((0,g.R)({click:(0,b.w)((0,g.R)({title:h.Z_})),like:(0,b.w)((0,g.R)({title:h.Z_})),dislike:(0,b.w)((0,g.R)({title:h.Z_}))})),more:(0,b.w)(w.T)}),T=(0,p.v)({isPromoted:(0,b.w)(h.O7),isPromoPublication:(0,b.w)(h.O7),cardBackgroundImage:(0,b.w)(h.Z_),cardBackgroundWhiteImage:(0,b.w)(h.Z_),pixels:(0,v.I)(h.Z_),isSavedToBookmarks:(0,b.w)(h.O7),itemType:(0,b.w)(h.Z_)}),R=(0,g.R)({ratio_16x9_big:(0,b.w)(h.Z_),ratio_16x9:(0,b.w)(h.Z_),ratio_4x3:(0,b.w)(h.Z_),ratio_4x5:(0,b.w)(h.Z_),ratio_7x4:(0,b.w)(h.Z_)}),A=(0,_.j)(I,P,T,E.XJ,(0,p.v)({commentsDocumentId:(0,b.w)(h.Z_),allCommentsLink:(0,b.w)(h.Z_),image:(0,b.w)(h.Z_),bigCardImage:(0,b.w)(h.Z_),blurredPreview:(0,b.w)(h.Z_),redesignImages:(0,b.w)(R),imageWidth:(0,b.w)(h.Rx),imageHeight:(0,b.w)(h.Rx)})),x=(0,_.j)(A,y.PM,f.L),O=((0,_.j)(A,y.FU,(0,p.v)({imageDesignV3:(0,b.w)(k.My),menu:(0,b.w)((0,v.I)(S.sN)),recDebugParams:(0,b.w)(h.Z_)}),(0,g.R)({socialInfo:(0,b.w)(f.p)})),["title","text","badges","customUserFeedbackData","feedbackInfo","zenLogo","promoLabel","image","imageWidth","imageHeight","bigCardImage","blurredPreview","redesignImages","source"]),N=(0,c.n)(x,(e=>{let{title:t="",text:n="",badges:s=[],customUserFeedbackData:i,feedbackInfo:a,zenLogo:r,promoLabel:o,image:c,imageWidth:m,imageHeight:p,bigCardImage:h,blurredPreview:b="",redesignImages:g,source:v}=e,_=(0,l.Z)(e,O);const f=c?{hasImage:!0,image:c,bigImage:h||c,blurredPreview:b,redesignImages:g,imageWidth:m,imageHeight:p}:{hasImage:!1},y=Boolean(r)&&!(null!=r&&r.type&&"turbo"!==r.type);r&&y&&(r.type="turbo");const w=(0,u.M)(a),k=(0,d.G8)(i),S=(0,d.he)(i);return Object.assign({title:t,text:n,badges:s,labelIcon:r,labelText:o,feedback:w,dislikeQuestion:k,zolokaQuestion:S,source:Object.assign({},v,{bulkParams:_.bulkParams})},f,_)}));var M=n(5954),L=n(62018),D=n(95875),B=n(42292),F=n(97078),Z=n(12190),V=n(75227),U=n(67579),j=n(95737),z=n(74251),H=n(85340),q=n(6060),$=n(8277),G=n(21727),W=n(46112),Y=n(77945),K=n(21770),X=n(59306),J=n(67726),Q=n(95957),ee=n(25013),te=n(45517),ne=n(70179),se=n(65757),ie=n(34019),ae=n(88211),re=n(78960),oe=n(17510),le=n(15663),ce=n(51749);const de=(0,o.N)("card-image-2"),ue=(0,s.memo)((({bigCardImageRatio:e,clientLog:t,complaints:n,force16x9ImageAspectRatio:a,gridType:r,host:o,clid:l,isFeedbackEnabled:c,isSubscribeButtonAllowed:d,item:{rawItem:u},suiteId:m,itemHasFixedHeight:p,log:h,imageCardSnippetLinesLimit:b,onCancelLike:g,onClick:v,onDeleteSuccess:_,userAvatar:f,onConnectSource:y,onFeedback:w,onInvalidateCache:k,onOpenSourceLink:S,onSetLike:E,onShow:C,onFullShow:I,onLike:P,onDislike:T,onSubscribe:R,onUnsubscribe:A,partnerId:x,shouldDeferEvents$:O,theme:ue,shouldSendShort:me,isCssTransitionImage:pe,shouldHideShareAndSubscribe:he,isCardChannelLinkDisabled:be,shouldFocusOnCardHeader:ge,isInInitialChunk:ve,rowIndex:_e,hasMobileView:fe,imageLayout:ye,requestRecommendationsChannels:we,pinProps:ke,shouldHideMetaInHeader:Se,onRtbLinkClick:Ee,isAvailableToAddToSuite:Ce,onCreateSuiteSuccess:Ie,onAddToSuiteSuccess:Pe,onRemoveFromSuiteSuccess:Te,isSavedFeed:Re,onToggleSavedPublication:Ae})=>{const{l10n:xe,lang:Oe}=(0,ae.$)(),[Ne]=(0,s.useState)((()=>(0,H.Qc)(N,u))),Me=(0,s.useCallback)(((e,t)=>h(e,Object.assign({},t,{bulkParams:Ne.bulkParams}))),[Ne.bulkParams,h]),[Le]=(0,s.useState)((()=>Object.assign({},(0,D.cq)(Me,Ne.link),(0,D.Jx)(Me),(0,D.xT)(Me),(0,D.H9)(Me),(0,D.S4)(Me),(0,D.Hz)(Me,Ne.source.feedLink),(0,D.KG)(Me,h,Ne.dislikeQuestion),(0,D.ZR)(Me),(0,D.CV)(t,Ne.id),Me))),{setSubscribeTriggerEvent:De,subscribeTriggerEvent:Be}=(0,X.k)(),Fe=(0,se.n)({item:Ne,requestRecommendationsChannels:we,onSubscribe:R,onCancelLike:g,onLike:P,onSetLike:E,setSubscribeTriggerEvent:De,isMobile:!1}),{setSourceBlocked:Ze,source:Ve,toggleSubscribe:Ue}=(0,V.L)({initialSource:Ne.source,stats:Le,onFeedback:w,onConnectSource:y,onSubscribe:Fe.onSubscribe,onUnsubscribe:A}),je=(0,s.useCallback)((()=>(v(),Le.clickCardSourceLink(),S(Ve.strongestId))),[v,S,Ve.strongestId,Le]),ze=(0,s.useMemo)((()=>Object.assign({},Ne.socialInfo,{userAvatar:f})),[Ne.socialInfo,f]),{getHeight:He,containerRef:qe}=(0,q.E)(),{read:$e,handleAuxClick:Ge,handleClick:We}=(0,B.E)({containerRef:qe,initialRead:Ne.read,stats:Le,onClick(){De((0,ce.q)("click")),v()}}),Ye=(0,G.m)(Ne.pixels),[Ke,Xe,Je,Qe,et]=(0,Y.c)();(0,W.E)({isToothVisible$:Xe,isVisible$:Je,isIntersecting$:Qe,shouldDeferEvents$:O,onShort(){me&&Le.short()},onShow(){Le.show(He()),Ye(),C(),Fe.sendVacuumShow()}}),(0,J.D)({timeout:Q.B,isVisible$:et,onShow(){I()}});const tt=(0,K.e)(Ke,qe),{feedback:nt,handleToggleFeedback:st,setFeedback:it}=(0,Z.w)({initialFeedback:Ne.feedback,stats:Le,onFeedback:w,onCancelLike:Fe.onCancelLike,onLike:Fe.onLike,onDislike:T,onSetLike:Fe.onSetLike}),at=c&&"disliked"===nt,rt=(0,s.useCallback)((e=>{"disliked"===nt&&st(e)}),[nt,st]),ot=(0,F.Z)({dislikeQuestion:Ne.dislikeQuestion,onFeedback:w,onInvalidateCache:k,setSourceBlocked:Ze,stats:Le,toggleFeedback:rt}),{clickSubscribeButton:lt,subscribeActionButton:ct}=(0,U.V)({feedback:nt,subscribeTriggerEvent:Be,isSubscribeButtonAllowed:d,read:$e,source:Ve,stats:Le,toggleSubscribe:Ue,l10n:xe}),dt=(0,$.B)(Ne.source.type,Ne.link,x),{addToSuiteFlow:ut,onAddToSuite:mt,removeFromSuiteFlow:pt,onRemoveFromSuite:ht,deletePublicationFlow:bt,onDelete:gt}=(0,le.l)({publicationId:Ne.publicationObjectId,publicationType:re.wj.native,publisherId:Ne.publisherId,suiteId:m,isAvailableToAddToSuite:Ce,clid:l,onCreateSuiteSuccess:Ie,onAddToSuiteSuccess:Pe,onRemoveFromSuiteSuccess:Te,onDeleteSuccess:_}),vt=(0,te.f)({itemTitle:Ne.title,host:o,href:dt,onAuxClick:Ge,onClick:We}),{savedStatus:_t,onToggleSaved:ft}=(0,ie.e)({onToggleSavedPublication:Ae,publisherId:Ne.publisherId,publicationId:Ne.publicationObjectId||"",isSavedFeed:Re,itemId:Ne.id,isSavedItem:Ne.isSavedToBookmarks,menu:Ne.menu}),{progressiveHydration:yt,rezenFeedRedesignUnifiedCards:wt}=(0,z.od)(),{onMouseEnter:kt,onMouseLeave:St}=(0,ee.C)(),Et=Ne.rtbLabel||Ne.recommendLabel,{meta:Ct,header:It,footer:Pt,feedbackCard:Tt,topSubscribeButton:Rt,bottomSubscribeButton:At}=(0,ne.x)({feedbackCardClassName:de("feedback"),bottomSubscribeButtonClassName:de("bottom-subscribe"),subscribeButtonSpacerSize:oe.x.XS,dislikeQuestion:Ne.hasImage&&Ne.image?Ne.dislikeQuestion:void 0,rtbLabel:Et,richRecommendLabel:Ne.richRecommendLabel,lang:Oe,host:o,clid:l,theme:ue,l10n:xe,isFeedbackCard:at,feedbackProps:ot,complaints:n,stats:Le,source:Ve,clickSubscribeButton:lt,socialMeta:ze,onAuxClick:Ge,onClick:We,onDelete:gt,read:$e,item:Ne,setFeedback:it,setSubscribeTriggerEvent:De,subscribeActionButton:ct,feedback:nt,onToggleFeedback:st,onOpenSourceLink:je,isCardChannelLinkDisabled:be,shouldHideShareAndSubscribe:he,isCompact:!0,isCompactCard:!0,isTextCard:!(Ne.hasImage||Ne.image),isSmallFooter:Boolean(Ne.hasImage||Ne.image),pinProps:ke,onAddToSuite:mt,onRemoveFromSuite:ht,shouldHideMetaInHeader:Se,onRtbLinkClick:Ee,onToggleSaved:ft,savedStatus:_t}),xt={bigCardImageRatio:e,feedbackCard:Tt,force16x9ImageAspectRatio:a,gridType:r,host:o,imageCardSnippetLinesLimit:b,item:Ne,itemHasFixedHeight:p,renderClickable:vt,theme:ue,isCssTransitionImage:pe,header:It,footer:Pt,meta:Ct,topSubscribeButton:Rt,bottomSubscribeButton:At,onMouseEnter:kt,onMouseLeave:St,navigateLink:dt,hasMobileView:fe,imageLayout:ye,shouldFocusOnCardHeader:ge,isRtbLabel:Boolean((null==ke?void 0:ke.isPinned)||Et||Ne.richRecommendLabel),isRezenFeedRedesignUnifiedCards:wt,l10n:xe};return i().createElement(j.U,{theme:ue,ref:tt,withOverflowHidden:!1},i().createElement(M.z,{config:yt,isInInitialChunk:ve,rowIndex:_e,shouldDeferEvents$:O},i().createElement(L._,xt)),ut,pt,bt)}));var me=n(47171),pe=n(23268),he=n(254),be=n(56720),ge=n(26717),ve=n(37828),_e=n(24344),fe=n(22694),ye=n(44781),we=n(7688),ke=n(53775),Se=n(45304),Ee=n(88144),Ce=n(2604),Ie=n(46591),Pe=n(42478),Te=n(1654),Re=n(22796),Ae=n(59357),xe=n(92316),Oe=n(21937),Ne=n(37490),Me=n(32192),Le=n(74688),De=n(14812),Be=n(63138),Fe=n(8383),Ze=n(78785),Ve=n(20773),Ue=n(94722);const je=(0,s.memo)((({id:e,itemHasFixedHeight:t,rowIndex:n,scrollTo:o,force16x9ImageAspectRatio:l,shouldFocusOnCardHeader:c})=>{const{outputBus:d,zenApi:u,shouldDeferEvents$:m,globalBus:p}=(0,pe.vv)();(0,Se.cW)(m);const{clientLog:h,log:b}=(0,fe.B)(),g=(0,Te.j)(xe.F),v=(0,s.useCallback)((t=>{var s,i;const{rezenFeedRedesign:a,shouldSendShort:r,rowsWithBundleFreeImages:o,rezenFeedRedesignImageCardSnippetLinesLimit:l,rezenFeedRedesignBigCardImageRatio:c,enableCardChannelLink:d,cardImageCompactV2:u,shouldHideMetaInHeader:m}=(0,Ee.a)(t);let p=l;return p=3,{item:(0,Ae.Gu)(t,e,[Ie.qG.IMAGE,Ie.qG.TEXT]),isFeedbackEnabled:(0,he.y)(t),isSubscribeButtonAllowed:(0,ge.zH)(t),isChannelPage:(0,be.GP)(t),maxPinnedItemsReached:(0,Re.rr)(t),availableMoveItemOptions:(0,Ae.fm)(t,e),suiteId:null!=(s=null==(i=t.suite)?void 0:i.id)?s:"",complaints:t.params.complaints,host:t.params.host||"",clid:t.params.clid||"",isSpaApp:t.params.isSpaApp,partnerId:t.user.partnerId,theme:(0,be.FS)(t),isInInitialChunk:(0,Re.VJ)(t,n),userAvatar:t.user.avatar,gridType:a.gridType,shouldSendShort:r,rowsWithBundleFreeImages:o,imageCardSnippetLinesLimit:p,bigCardImageRatio:c,isCardChannelLinkDisabled:!d,hasMobileView:Boolean(true),cardImageCompactV2:u,shouldHideMetaInHeader:m,isAvailableToAddToSuite:(0,Be.n)(t),isSavedFeed:(0,be.fH)(t)}}),[e,n]),{item:_,complaints:f,host:y,clid:w,isFeedbackEnabled:k,isSpaApp:S,isSubscribeButtonAllowed:E,partnerId:C,gridType:I,theme:P,shouldSendShort:T,rowsWithBundleFreeImages:R,imageCardSnippetLinesLimit:A,bigCardImageRatio:x,isCardChannelLinkDisabled:O,isChannelPage:N,isInInitialChunk:M,hasMobileView:L,cardImageCompactV2:D,userAvatar:B,maxPinnedItemsReached:F,availableMoveItemOptions:Z,suiteId:V,shouldHideMetaInHeader:U,isAvailableToAddToSuite:j,isSavedFeed:z}=(0,Me.T)(v,{skip:["sources","displayedRowsNumber"],resultEqualityCheck:ve.v}),H=(0,Pe.u)(_.shareLink),q=(0,s.useCallback)((()=>{H(),N&&g()}),[g,H,N]),$=(0,_e.a)({id:e,scrollTo:o}),G=(0,me.D)(),W=(0,ye.W)(),Y=(0,we.t)(),K=(0,ke.J)(S),X=(0,Le.M)(S),J=(0,s.useCallback)((()=>{u.packShown(_.packId,_.cacheId),p.emit("zenCardShow",_.type)}),[u,p,_.packId,_.cacheId,_.type]),ee=(0,Q.$)(_.packId,_.cacheId,H),te=(0,a.I0)(),ne=(0,s.useCallback)((e=>{te((0,r.ZI)(e))}),[te]),se=(0,s.useCallback)((e=>{te((0,r.$m)(e))}),[te]),ie=(0,s.useCallback)((t=>{t&&t.forEach((e=>te((0,Ze.O)(e.suiteId)))),te((0,Ve.cl)(e))}),[te,e]),ae=(0,De.$)({id:e,isPinned:Boolean(_.isPinned),maxPinnedItemsReached:F,availableMoveItemOptions:Z});(0,Ce.n)((()=>{_.ad&&d.emit("rowsHeightsChanged",{rows:[n]})}));const{requestRecommendationsChannels:re}=(0,Ne._)(),oe=R>0&&n<R,{onCreateSuiteSuccess:le,onAddToSuiteSuccess:ce,onRemoveFromSuiteSuccess:de}=(0,Fe.c)(_.id),{onToggleSavedPublication:je}=(0,Ue.h)();return i().createElement(Oe.g,{item:_,log:b,forceSendBulkEvents:u.forceSendBulkEvents},i().createElement(ue,{bigCardImageRatio:x,clientLog:h,complaints:f,force16x9ImageAspectRatio:l,itemHasFixedHeight:t,gridType:I,host:y,clid:w,imageCardSnippetLinesLimit:A,isFeedbackEnabled:k,isSubscribeButtonAllowed:E,imageLayout:D,item:_,suiteId:V,log:b,partnerId:C,scrollTo:o,shouldDeferEvents$:m,theme:P,onCancelLike:se,onClick:$,onDeleteSuccess:ie,userAvatar:B,onConnectSource:G,onFeedback:W,onInvalidateCache:Y,onOpenSourceLink:K,onSetLike:ne,onShow:J,onFullShow:ee,onLike:H,onDislike:H,onSubscribe:q,onUnsubscribe:H,shouldSendShort:T,isCssTransitionImage:oe,shouldHideShareAndSubscribe:!1,isCardChannelLinkDisabled:O,shouldFocusOnCardHeader:c,isInInitialChunk:M,rowIndex:n,hasMobileView:L,requestRecommendationsChannels:re,pinProps:ae,shouldHideMetaInHeader:U,onRtbLinkClick:X,isAvailableToAddToSuite:j,onCreateSuiteSuccess:le,onAddToSuiteSuccess:ce,onRemoveFromSuiteSuccess:de,isSavedFeed:z,onToggleSavedPublication:je}))}))},68693:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ns});var s=n(87363),i=n.n(s),a=n(37471),r=n(32481),o=n(7582),l=n(94823),c=n(92108),d=n(53923),u=n(9391),m=n(93187),p=n(47171),h=(n(14072),n(53208),n(13974)),b=n(20627),g=n(76271),v=n(5954),_=n(42292),f=n(75227),y=n(79264),w=n(76293),k=n(59866);const S=(0,h.N)("auto-height-transition-block"),E=(0,s.memo)((({children:e,duration:t="0.5s",delay:n="0s",functionName:a="linear"})=>{const r=(0,s.useRef)(null),o=(0,s.useRef)(null);(0,s.useEffect)((()=>{o.current&&r.current&&(o.current.style.height=`${r.current.scrollHeight}px`)}),[e]);const l={transitionDuration:t,transitionDelay:n,transitionTimingFunction:a,overflow:"hidden"};return i().createElement("div",{className:S(),ref:o,style:l},i().createElement("div",{ref:r,className:S("inner-block")},e))}));var C=n(1985),I=n(59806),P=n(93087),T=n(2265),R=n(13756);let A;!function(e){e.hidden="hidden",e.preview="preview",e.full="full"}(A||(A={}));const x=(0,h.N)("card-layer-click-to-site-view"),O=(0,s.memo)((({swipeToSite:e,isMobile:t,isAnimationPlaying:n,clickToSiteStep:a,onClick:r,l10n:o})=>{const l=(0,s.useCallback)((()=>r(a)),[r,a]);return i().createElement("div",{className:x({isMobile:t,step:a})},e.imageLink&&i().createElement(C.b,{isMobile:t,className:x("device")},i().createElement(I.j,{isMobile:t,swipeToSite:e,isAnimationPlaying:n})),i().createElement("div",{className:x("content")},i().createElement(P.C,{className:x("website"),domainClassName:x("domain"),swipeToSite:e}),i().createElement("div",{className:x("button-wrapper")},i().createElement(T.F,{swipeToSite:e},o("publishers.s2s.design11.open_link")))),i().createElement(R.X,{swipeToSite:e,onClick:l}))}));var N=n(35618),M=n(98014);const L=(0,h.N)("card-layer-call-to-action-view"),D=(0,s.memo)((({callToAction:{buttonName:e,logo:t,title:n,url:a},host:r,isMobile:o,theme:l,onClick:c})=>{const d=(0,s.useCallback)((e=>{1===e.button&&c()}),[c]),u=(0,s.useCallback)((()=>{c()}),[c]);return i().createElement(M._5,{className:L({isMobile:o,theme:l}),host:r,href:a,onAuxClick:d,onClick:u},i().createElement("div",{className:L("wrapper")},t?i().createElement("div",{className:L("logo-wrapper")},i().createElement("img",{className:L("logo"),src:t.logoUrl})):null,i().createElement("div",{className:L("content")},i().createElement("div",{className:L("title")},i().createElement(N.x,{linesCount:3,text:n,previewLineHeightPx:18})),i().createElement("div",{className:L("button")},e))))}));var B=n(74378),F=n(76302),Z=n(96673),V=n(17510),U=n(99788),j=n(59081),z=n(5443),H=n(92673),q=n(23603),$=n(30222);var G=n(57400),W=n(41793),Y=n(97982),K=n(8947),X=n(78550),J=n(48126),Q=n(27702),ee=n(14052),te=n(35029),ne=n(87712),se=n(19456),ie=n(40789),ae=n(74434);const re=({videoPlayerPublicApi:e,isSkippableButtonAdShow:t,isContentHidden:n,adPodTimeToSkip:s,isMobile:a,className:r,l10n:o})=>{if(!t)return null;const l=0===s;if(!(void 0!==s&&s>=0&&n))return null;let c=o("player.continue-after-ad");return l?c=o("player.skip-ad-short"):s&&s>0&&(c=(0,ae.Z)(o("player.ad-skip-countdown-short"),{remainingTime:s})),i().createElement(ee.Su,{isMobile:a,size:te.u.m,"aria-label":c,className:r,pinType:ne.R.round,disabled:!l,theme:ie.D.white,viewType:se.c.secondary,onClick:e.skipAdPod},c)};var oe=n(8245);const le=(0,X.N)("video-ad-controls"),ce=({onMuteToggle:e,isMuted:t,l10n:n,videoPlayerPublicApi:s,isSkippableButtonAdShow:a,isContentHidden:r,adPodTimeToSkip:o,isAdSurvey:l,isMobile:c})=>{const{adPodCurrentTime:d=0,adPodDuration:u}=(0,oe.U)(s,"adPodCurrentTime","adPodDuration"),m=void 0!==u&&0!==u?Math.max(0,Math.min(d,u)):d;return i().createElement("div",{className:le()},i().createElement("div",{className:le("header")},i().createElement(re,{videoPlayerPublicApi:s,isSkippableButtonAdShow:a,isContentHidden:r,adPodTimeToSkip:o,isMobile:c,l10n:n,className:le("skip-ad-button")})),l?null:i().createElement("div",{className:le("footer")},i().createElement(Q.T,{l10n:n,isMuted:t,onToggle:e,withSound:!0,isLabelVisibleInitial:!1}),u&&u>0?i().createElement("div",{className:le("timeline")},i().createElement(J.N,{time:u-m})):null))};var de=n(74251),ue=n(8736),me=n(69396),pe=n(557),he=n(45476),be=n(19670),ge=n(23242),ve=n.n(ge),_e=n(62508),fe=n.n(_e),ye=n(68129);let we=new(ve())({id:"reload-m_22a6--inline",use:"reload-m_22a6--inline-usage",viewBox:"0 0 28 28",content:'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="reload-m_22a6--inline">\n<path d="M16 2L15 3L18.2 7H14C9.02944 7 5 11.0294 5 16C5 20.9706 9.02944 25 14 25C18.9706 25 23 20.9706 23 16H21C21 19.866 17.866 23 14 23C10.134 23 7 19.866 7 16C7 12.134 10.134 9 14 9H18.2L15 13L16 14L22 8L16 2Z" />\n</symbol>'});const ke=(0,ye.Z)(fe(),we);var Se=n(23771);let Ee=new(ve())({id:"play-m_fa8b--inline",use:"play-m_fa8b--inline-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" id="play-m_fa8b--inline">\n<path d="M8.44 7.72C7.78 7.39 7 7.87 7 8.61V23.38C7 24.12 7.78 24.60 8.44 24.27L23.21 16.89C23.94 16.52 23.94 15.47 23.21 15.10L8.44 7.72Z" />\n</symbol>'});const Ce=(0,ye.Z)(fe(),Ee);var Ie=n(88211),Pe=n(83137);const Te=(0,h.N)("card-video-s2s-button"),Re=(0,s.memo)((({className:e,iconClassName:t,text:n,symbol:s,href:a,onClick:r,host:o})=>{const l=i().createElement(i().Fragment,null,i().createElement(Pe.P,{symbol:s,width:28,height:28,className:h.N.mix(Te("icon"),t)}),i().createElement("span",{className:Te("text")},n));return a&&o?i().createElement(M._5,{className:h.N.mix(Te("button"),e),onClick:r,host:o,href:a},l):i().createElement("button",{className:h.N.mix(Te("button"),e),onClick:r},l)})),Ae=(0,h.N)("card-video-s2s");let xe;!function(e){e.TRANSPARENCY_WHITE="transparency-white",e.DEFAULT="default"}(xe||(xe={}));const Oe=({isEndedVideo:e,shouldOpenModalAfterEnd:t,l10n:n,onClickOpenModal:s,host:a,externalUrl:r,onClickReplay:o,onClickPlay:l})=>e?t?i().createElement(Re,{symbol:Ce,text:n("common.stop_and_go.open-modal"),className:Ae("button"),onClick:s,href:r,host:a,iconClassName:Ae("button-icon")}):i().createElement(Re,{symbol:ke,className:Ae("button"),text:n("common.stop_and_go.button-replay"),onClick:o,iconClassName:Ae("button-icon")}):i().createElement(Re,{symbol:Ce,className:Ae("button"),text:n("common.stop_and_go.button-play"),onClick:l,iconClassName:Ae("button-icon")}),Ne=({isEndedVideo:e,onClickReplay:t,onClickPlay:n,onClickLink:s,onClickOpenModal:a,externalUrl:r,shouldOpenModalAfterEnd:o,viewType:l=xe.DEFAULT,isHiddenGoToSiteBtn:c,host:d,l10n:u})=>i().createElement("div",{className:Ae({viewType:l})},i().createElement(Oe,{isEndedVideo:e,onClickReplay:t,onClickPlay:n,onClickOpenModal:a,externalUrl:r,shouldOpenModalAfterEnd:o,host:d,l10n:u}),!c&&i().createElement(Re,{symbol:Se.Z,text:u("common.stop_and_go.button-link"),className:Ae("button"),onClick:s,href:r,host:d,iconClassName:Ae("button-icon")})),Me=((0,s.memo)((e=>{const{l10n:t}=(0,Ie.$)();return i().createElement(Ne,(0,be.Z)({l10n:t},e))})),(0,s.memo)(Ne));var Le=n(85466),De=n(79538),Be=n(88103),Fe=n(89801),Ze=n(53963),Ve=n(6749);let Ue=new(ve())({id:"music_e7ba--inline",use:"music_e7ba--inline-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="music_e7ba--inline"><path d="M23.991 20.438V6.172c0-.083-.052-.162-.122-.172-.01-.001-.024.003-.035.005l-12.346 1.89c-.086.014-.153.074-.153.168v11.195a4.322 4.322 0 00-2.307.097c-2.086.652-3.4 2.624-2.934 4.4.466 1.777 2.537 2.686 4.624 2.034 1.945-.609 3.213-2.36 3-4.033V10.343c0-.058.046-.1.099-.109l7.623-1.167c.052-.008.096.05.096.109v8.61a4.336 4.336 0 00-2.253.113c-2.086.652-3.4 2.624-2.934 4.4.466 1.778 2.533 2.687 4.62 2.034 1.89-.591 3.148-2.265 3.022-3.895z" fill="#fff" /></symbol>'});const je=(0,ye.Z)(fe(),Ue);let ze=new(ve())({id:"smile_866e--inline",use:"smile_866e--inline-usage",viewBox:"0 0 28 28",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="smile_866e--inline"><rect x="8" y="9" width="4" height="4" rx="2" fill="#fff" /><rect x="1" y="1" width="26" height="26" rx="13" stroke="#fff" stroke-width="2" /><rect x="16" y="9" width="4" height="4" rx="2" fill="#fff" /><path d="M9 17s1.667 2 5 2 5-2 5-2" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});const He=(0,ye.Z)(fe(),ze);let qe=new(ve())({id:"sun_d04e--inline",use:"sun_d04e--inline-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="sun_d04e--inline"><rect x="10" y="10" width="12" height="12" rx="6" stroke="#fff" stroke-width="2" /><path d="M16 5V1m0 30v-4m11-11h4M1 16h4M16 5V1m0 30v-4m11-11h4M1 16h4m18.778-7.778l1.415-1.415 1.414-1.414M5.394 26.607l1.414-1.415 1.414-1.414m15.556 0l1.415 1.414 1.414 1.415M5.394 5.393l1.414 1.415 1.414 1.414" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M23.778 8.222l1.415-1.415 1.414-1.414M5.394 26.607l1.414-1.415 1.414-1.414m15.556 0l1.415 1.414 1.414 1.415M5.394 5.393l1.414 1.415 1.414 1.414" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});const $e=(0,ye.Z)(fe(),qe),Ge=(0,h.N)("short-video-badge"),We=(0,s.memo)((({isAnimationPaused:e,caption:t})=>i().createElement("div",{className:Ge()},i().createElement("div",{className:Ge("slider-container")},i().createElement("div",{className:Ge("slider",{isAnimationPaused:e})},i().createElement("div",{className:Ge("slide",{slideMusic:!0})},i().createElement(Pe.P,{symbol:je})),i().createElement("div",{className:Ge("slide",{slideSmile:!0})},i().createElement(Pe.P,{symbol:He})),i().createElement("div",{className:Ge("slide",{slideSun:!0})},i().createElement(Pe.P,{symbol:$e})),i().createElement("div",{className:Ge("slide",{slideMusic:!0})},i().createElement(Pe.P,{symbol:je})))),i().createElement("span",{className:Ge("caption")},t))));var Ye=n(55785),Ke=n(67576),Xe=n(64450),Je=n(13189),Qe=n(35528),et=n(63843);const tt=(0,h.N)("card-layer-video-view"),nt={currentTime:0,watchedTime:0,duration:0,isVisiblePlayer:!1,muteToggle:Je.c,play:Je.c,recreatePlayer:Je.c,playerState:o.de.Paused,htmlVideoRef:{current:null},seek:Je.c,setFullscreen:Je.c,isInVideoPoolAutoplay:!1},st=(0,s.memo)((({clickable:e,gridType:t,host:n,isSmartAutoplay:a,isAllowAutoplay:r,viewType:l,isProgressEnabled:c,isCallToSubscribeVisible:d,isMobile:u,isHalfRounded:m,isBottomVideo:p,isOpenedDesktopModal:h,isOpenedFeedModal:b,isStopAndGoShown:g,isContentHidden:v,isVideoInstreamAd:_,isAfterAdAnimation:f,isStopAndGoVisible:y,isVideoCardsDynamicPoster:w,isShortVideoBadgeVisible:k,stopAndGoLinkItem:S,isVisible$:E,isSkippableButtonAdShow:C,item:I,itemHasFixedHeight:P,itemOrder:T,l10n:R,maxPlayerSizeRatio:x,minPlayerSizeRatio:O,forcedRatio:N,openModal:M,isAdSurvey:L,s2sExpandType:D,isVideoCardPromoButtonsEnabled:B,setIsStopAndGoShown:F,setClickToSiteStep:Z,onClickToSitePreviewStep:V,fullStepMinVideoDurationSec:U=0,setIsStopAndGoVisible:X,theme:J,videoCallToSubscribeTimestamp:Q,videoLinksTimestamp:ee,videoRef:te,videoPlayerApiRef:ne,videoPlayerBlockRef:se,videoPlayerSettings:ae,isPlayerPreloadingQueueEnabled:re,isVideoSubtitlesEnabled:oe,videoPlayersManager:le,videoPlayersPool:be,isVideoLuringAnimationActive:ge,isVideoAutoPreviewVisible:ve,isVideoAutoPreviewEnabled:_e,onSendPixelShow:fe,onShowCallToAction:ye,onShowCallToSubscribe:we,onStopAndGoClickContinue:ke,onAdPodTimeToSkipChange:Se,onStopAndGoClickOut:Ee,onStopAndGoShow:Ce,onVideoAutopause:Ie,onVideoAutoplay:Pe,onVideoClick:Te,onVideoEnd:Re,onVideoHeartbeat:Ae,onVideoPause:Oe,onVideoPlay:Ne,onVideoReplay:Ue,onVideoSoundToggleByUser:je,onAdVideoPlay:ze,onSetIsAdVisible:He,shouldRenderPlayer:qe=!0,onAdPodStart:$e,onBeforeAdPodStart:Ge,onNextAdRemainingTimeChange:Je,onEndAutoPreview:st,videoSkinRedesign:it,shouldForcePreviewRender:at,isDisabledAutoplayButKeepPreload:rt,onPlayAutoPreview:ot,isCardHovered:lt,videoAutoPreviewInFeedV2:ct,videoAutoPreviewInFeedV2ByHover:dt,videoAutoPreviewInFeedV2IsLoop:ut,adPixelData:mt})=>{var pt,ht,bt;const{publicApi:gt,handleVideoPlayerMount:vt,handlePlayerApiLoaded:_t}=(0,q.b)(),ft=(0,s.useRef)(0),{useFirstFrameType:yt}=(0,de.od)(),wt=(0,s.useRef)(!0),[kt,St]=(0,s.useState)(),[Et,Ct]=(0,s.useState)(!1),[It,Pt]=(0,s.useState)(!1),[Tt,Rt]=(0,s.useState)(!0),At=(0,s.useRef)(!1),xt=(0,s.useRef)(!1),{isShortVideo:Ot,firstFrames:Nt,previews:Mt}=I.video,Lt=D===o.Gz.ClickToSite&&(null==(pt=I.swipeToSite)?void 0:pt.design)===Qe.p,Dt=(I.video.duration||0)>U,Bt=S||I.stopAndGoExternalUrl,Ft=!B&&Boolean(Bt)&&(D===o.Gz.StopAndGo||D===o.Gz.ClickToSite&&!Lt),Zt=D===o.Gz.Auto,[Vt,Ut,jt]=(0,j.x)(c,1e4),zt=(0,s.useMemo)((()=>(0,Ze.i)({isLive:!1,videoStreams:I.video.streams,videoStream:I.video.id,videoInfo:I.video.videoInfo,additionalParams:I.video.additionalParams,adConfig:I.video.adConfig,skipAllAdPods:ae.skipAllAdPods,adPixelData:mt})),[I.video.additionalParams,I.video.id,I.video.videoInfo,I.video.streams,I.video.adConfig,ae.skipAllAdPods,mt]),Ht=`${(0,pe.h)(zt)||"default"}${Lt?T:""}`,{getStartPosition:qt,getLastPosition:$t,recordPosition:Gt,takeRecordPosition:Wt}=(0,Ke.R)(Ht,I.video.viewedTime||0);(0,De.m)((()=>E),(e=>{xt.current=Boolean(e)}));const Yt=(0,s.useCallback)((e=>{St(e),Se&&Se(e)}),[Se]),Kt=(0,Be.X)({firstFrames:Nt,targetWidth:640,startPosition:qt(),isEnabled:yt&&r&&qe}),Xt=(0,s.useMemo)((()=>Mt&&Math.max.apply(null,(0,z.u)(Mt).filter((e=>Kt?e<Kt.width:e<=640)))),[Kt,Mt]),Jt=Xt&&Mt?Mt[Xt]:void 0,Qt=(0,s.useCallback)((()=>{setTimeout((()=>{const e=Lt&&Dt;!ne.current||xt.current&&!e||ne.current.pause()}),0)}),[ne,Lt,Dt]),en=(0,s.useCallback)((()=>{Lt&&At.current?Qt():(Ne(),Ct(!1),At.current=!1)}),[Ne,Lt,Qt]);((e,t,n)=>{const{state:i}=e;(0,s.useEffect)((()=>{if(!n)return;const e=(0,$.B)(i,t,(e=>{n(e)}));return()=>{e.unsubscribe()}}),[i,t,n])})(gt,"nextAdRemainingTime",Je);const tn=(0,s.useCallback)((()=>{Re(),Ct(!0),At.current=!0,Lt&&Dt&&Z?Z(A.full):Ft&&(X(!0),F(!1))}),[Ft,Re,X,F,Z,Lt,Dt]),nn=(0,s.useCallback)((()=>{ve||rt||Pe(),Ct(!1),At.current=!1}),[Pe,ve,rt]),sn=(0,s.useCallback)((()=>{ve||rt||Ie()}),[ve,Ie,rt]),an=(0,s.useCallback)((e=>{_t(e),ne.current=e}),[ne,_t]),rn=(0,s.useCallback)((e=>{Ae({videoPos:e.toString()})}),[Ae]),on=(0,s.useCallback)((()=>{At.current=!1,Ue(),Ct(!1),Qt()}),[Ue,Qt]),ln=(0,s.useCallback)((({state:e})=>{const t=e===ue.M.PLAYING;var n,s,i,a;(!t&&_&&(wt.current=!1),He&&He(t),Pt(t),!t&&ne.current&&Rt(!0),t&&ze)&&ze(Object.assign({ad_dsp_id:et.AdDspId.Direct,ad_inventory:et.AdInventory.instream},null!=(n=I.video.ad)&&n.pageId?{ad_page_id:Number(null==(s=I.video.ad)?void 0:s.pageId)}:{},null!=(i=I.video.ad)&&i.impId?{ad_imp_id:Number(null==(a=I.video.ad)?void 0:a.impId)}:{},void 0!==I.video.duration?{duration:I.video.duration}:{}))}),[ne,_,ze,He,null==(ht=I.video.ad)?void 0:ht.pageId,null==(bt=I.video.ad)?void 0:bt.impId,I.video.duration]),cn=(0,s.useCallback)((e=>{Rt(e),je(e)}),[je]);(0,s.useEffect)((()=>{f||(wt.current=!0)}),[f]);const dn=(0,s.useCallback)((()=>{ne.current&&ne.current.pause(),X(!0)}),[ne,X]),un=(0,s.useCallback)((e=>{Te(e),ke()}),[Te,ke]),mn=(0,s.useCallback)((()=>{ne.current&&ne.current.safePlay(),on(),X(!1)}),[ne,on,X]),pn=(0,s.useCallback)((()=>{Ee()}),[Ee]),hn=(0,Le.m)((({watchedTime:e,currentTime:t})=>{ee&&e===ee&&ye(),e>=Fe.j&&fe&&fe(),!d&&Q&&e===Q&&we(),(Lt||Ft||Zt)&&!g&&t>=I.expandDelaySec?(Lt?(Z&&Z(A.preview),V&&V()):Ft?(dn(),Ce()):Zt&&M(!0),F(!0)):Lt&&Dt&&I.video.duration&&t>=I.video.duration-1&&Z&&(Z(A.full),Re()),ft.current=t,Gt(t)})),bn=(0,Ve.O)({width:I.video.width,height:I.video.height,minPlayerSizeRatio:O,maxPlayerSizeRatio:u?x:void 0,forcedRatio:N}),gn=(0,s.useCallback)((e=>{e.preventDefault(),M(!1)}),[M]),vn=!u&&w,_n=(0,s.useCallback)((()=>{Te&&Te()}),[Te]),fn=(0,s.useCallback)((e=>{Wt(),c&&(jt(!0),e&&Ut(!1))}),[c,Wt,Ut,jt]),yn=(0,s.useCallback)((({videoPlayerPublicApi:t,duration:s,htmlVideoRef:a,isVisiblePlayer:d,muteToggle:m,play:p,recreatePlayer:h,playerState:b,setFullscreen:g,isInVideoPoolFocus$:w,isInVideoPoolAutoplay:k})=>{const S=k&&r,P=_&&(f||It),T=S&&r&&!rt&&b!==o.de.Unstarted?b:o.de.Paused,A=P||vn&&(T===o.de.Playing||T===o.de.Ended)&&!u,x=b!==o.de.Unstarted,O=Boolean(a.current),N=!ve&&!It&&S&&(b===o.de.Buffering||b===o.de.Playing)&&s>10&&!rt,M=$t(),D=ct&&dt,B=ct&&ut,F=D?!lt:!(T===o.de.Playing||ve&&S||L),Z=D?lt&&ve:ct?!F:ve||rt,V=D?lt:ct?!F:S&&!rt;return i().createElement("div",{className:tt("on-screen-display")},i().createElement("div",{className:tt("poster",{isHidden:It})},!I.image||It||P?null:i().createElement(G.F,{blurredPreview:I.blurredPreview,image:I.image,isVisiblePlayer:!ct&&(d&&O),isBlurredOnly:!ct&&(d&&!u),shouldForceRender:at,firstFrame:Kt&&Kt.url,useFirstFrameType:yt}),Jt&&_e?i().createElement("div",{className:tt("auto-video-preview",{isVisible:Z,isPlaying:V})},i().createElement(W.F,{isPreload$:w,isPlaying:D?lt:S&&(ve||rt),source:Jt,onEnded:st,onPlay:ot,onError:st,timeoutLoading:5e3,isLoop:Boolean(B)})):null,A&&d&&a?i().createElement(Y.E,{isActive:!P||It,isActiveRef:wt,isBlurred:!P||It,videoElement:a}):null),i().createElement("div",{className:tt("controls",{isEnd:Et,isPlayerVisible:d,isVisible:!y&&!It})},i().createElement(K.H,{duration:I.video.duration||s,isFullControls:!1,isFullscreen:!1,videoPlayerPublicApi:t,isMobile:u,isMuted:Tt,isVisible$:E,isVisibleControls:!L,isDisableState:!0,isVisibleState:ct?!Z:F,isWithCallToAction:!1,l10n:R,playerState:T,withCountdown:!ct&&x,withCurrentTime:!1,withDuration:ct?!Z:!x&&F,withFullscreen:!1,withLiveBadge:!1,hasMuteToggle:!1,isRedesign:it,withReplay:!1,withSound:I.video.hasSound,withTimeline:!1,onFullscreenToggle:g,onMuteToggle:m,onPlay:p,onErrorClick:h,viewType:l,isAdVisible:!1,isLuringVisible:N,isLuringEnabled:!0,withTimelinePreview:!1,pageTheme:ie.D.white,isBodyScrollEnabled:!0,videoQuality:"auto",withBackground:!1})),v?i().createElement("div",{className:tt("ad")},i().createElement(ce,{videoPlayerPublicApi:t,isSkippableButtonAdShow:C,adPodTimeToSkip:kt,isContentHidden:v,isMobile:u,isMuted:Tt,isAdSurvey:L,l10n:R,onMuteToggle:m})):null,N&&!L?i().createElement("div",{className:tt("luring-into-video-modal")},i().createElement(Ye.S,{onClick:_n,withAnimation:ge,l10n:R,clickable:e,isMobile:u,videoPlayerPublicApi:t})):null,Ft&&y&&Bt&&!L?i().createElement(Me,{externalUrl:Bt,host:n,isEndedVideo:Et,viewType:Ot?xe.TRANSPARENCY_WHITE:xe.DEFAULT,onClickOpenModal:gn,isHiddenGoToSiteBtn:Ot,shouldOpenModalAfterEnd:Ot,l10n:R,onClickPlay:un,onClickReplay:mn,onClickLink:pn}):null,!L&&M&&s&&c?i().createElement(Xe.d,{progress:M/(s/100),size:u?"s":"m",isVisible:Boolean(Vt)}):null)}),[ve,rt,L,r,_,f,It,vn,ge,u,ct,dt,ut,lt,I.image,I.blurredPreview,I.video.duration,I.video.hasSound,at,Kt,yt,Jt,_e,st,ot,Et,y,C,kt,v,Tt,E,R,it,l,_n,e,Ft,Bt,n,Ot,gn,un,mn,pn,$t,c,Vt]),wn=(0,s.useMemo)((()=>!qe&&yn(Object.assign({},nt,{videoPlayerPublicApi:gt}))),[yn,gt,qe]);return i().createElement("div",{className:tt({theme:J,isAdVisible:It,isAfterAdAnimation:f,isMobile:u,gridType:t,itemHasFixedHeight:P,isBottomVideo:p,isVideoInstreamAd:_})},i().createElement("div",{className:tt("player-ratio"),style:{paddingBottom:bn}}),i().createElement("div",{className:tt("player-wrapper")},i().createElement("div",{className:tt("player-block",{isHalfRounded:m}),ref:se},!It&&e,qe?le&&be&&i().createElement(H.Y,{stopVideoAfterReplaysCount:Lt&&Dt?1:void 0,frameFit:u?"cover":"contain",heartbeatTimes:I.video.heartbeatPos,isAllowAutoplay:r,isForceVisiblePlayer:b||It,isLockedPlayer:!1,isNativeAdControlsHidden:_,isMuted:Tt,isOpenedDesktopModal:h,isSilenceMode:b||y,isVideoSubtitlesForceEnabled:oe,isVisible$:E,itemOrder:T,isSmartAutoplay:a,placeName:"feed",rumFeature:"card",source:zt,videoRef:te,videoDuration:I.video.duration,videoPlayerSettings:ae,isPlayerPreloadingQueueEnabled:re,videoPlayersManager:le,videoPlayersPool:be,onVideoPlayerMount:vt,onAdStateChange:ln,onAutopause:sn,onAutoplay:nn,onCurrentTimeChange:hn,onEnd:tn,onHeartbeat:rn,onMuteChangeByUser:cn,onMuteChange:Rt,onPause:Oe,onPlay:en,onPlayerApiLoaded:an,onReplay:on,onAdPodTimeToSkipChange:Yt,onAdPodStart:$e,onBeforeAdPodStart:Ge,isKeepPlayer:!0,videoQuality:it?he.$:void 0,withAutoReplay:!(Ft||Lt&&Dt),playbackRate:ae.withPlaybackRateControl?me.mw:void 0,getStartPosition:qt,onAutoplayChange:fn,isDeferredAutoplay:ve||rt},yn):wn,k&&u&&Ot&&!y&&!It?i().createElement("div",{className:tt("short-video-badge")},i().createElement(We,{isAnimationPaused:!1,caption:R("common.short-video.badge_caption")})):null,i().createElement("div",{className:tt("player-overlay",{isHalfRounded:m,isHidden:It})}))))}));var it=n(15317);const at=(0,h.N)("card-layer-promo-view"),rt=(0,s.memo)((({l10n:e,isMobile:t,isShorten:n,theme:s,isCardsTuneDisabled:a=!1,externalHost:r,externalHref:o,onOpenModalClick:l,onExternalClick:c})=>i().createElement("div",{className:at({isMobile:t,isShorten:n,theme:s,isCardsTuneDisabled:a})},i().createElement(Re,{className:at("open-modal"),iconClassName:at("icon"),symbol:Ce,text:e("common.stop_and_go.watch-full"),onClick:l}),i().createElement(Re,{className:at("external-link"),iconClassName:at("icon"),symbol:Se.Z,text:e("common.stop_and_go.button-link"),onClick:c,href:o,host:r}))));var ot=n(81235),lt=n(21770),ct=n(25013),dt=n(2604),ut=n(60290),mt=n(59749),pt=n(17950);let ht;!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.PREPARE_POSTER=1]="PREPARE_POSTER",e[e.SHOW_POSTER=2]="SHOW_POSTER",e[e.HIDE_CONTENT=3]="HIDE_CONTENT",e[e.MOVE_POSTER_DOWN=4]="MOVE_POSTER_DOWN",e[e.SHOW_ASSETS=5]="SHOW_ASSETS",e[e.HIDE_ASSETS=6]="HIDE_ASSETS",e[e.MOVE_POSTER_UP=7]="MOVE_POSTER_UP",e[e.SHOW_CONTENT=8]="SHOW_CONTENT"}(ht||(ht={}));const bt={actionButton:!0,adLabel:!1,skip:!1,mute:!1,play:!1,timeline:!1,abuse:!1,loader:!1};var gt=n(49524);const vt=(0,h.N)("card-video-skip-ad"),_t=({htmlVideoRef:e,videoPlayerBlockRef:t,isMobile:n,title:a,l10n:r,videoAdState:o,adPodTimeToSkip:l,onPosterAnimationEnded:c,videoPlayerApiRef:d})=>{const u=o>ht.SHOW_POSTER,m=o===ht.MOVE_POSTER_DOWN,p=o===ht.MOVE_POSTER_UP,h=o>=ht.MOVE_POSTER_DOWN&&o<=ht.MOVE_POSTER_UP,b=(0,s.useRef)(!0),g=(0,s.useRef)(),v=(0,s.useRef)(null),_=(0,s.useRef)(null),f=(0,s.useRef)(null),y=(0,s.useRef)(null),w=(0,s.useRef)(""),k=0===l;let S=r("player.continue-after-ad");k?S=r("player.skip-ad"):l&&l>0&&(S=(0,ae.Z)(r("player.ad-skip-countdown"),{remainingTime:l}));(0,s.useEffect)((()=>{const{current:e}=t,{current:n}=v,{current:s}=_;if(!e||!n||!s)return;const i=s.getBoundingClientRect(),a=n.getBoundingClientRect(),r=e.getBoundingClientRect(),o=60*(a.width/a.height),l=r.height/60,c=r.width-o*l,d=`translate(${r.left-i.left+c/2}px, ${r.bottom-i.bottom}px)`,u=`scale(${l})`;n.style.width=`${o}px`,n.style.borderRadius=16/l+"px",n.style.transform=`${d} ${u}`,w.current=d}),[t]),(0,s.useEffect)((()=>{const{current:e}=t,{current:n}=y;if(!u||!e||!n)return;const s=e.getBoundingClientRect();n.style.overflow="visible",b.current=!1,g.current=s}),[u,t]),(0,s.useEffect)((()=>{const{current:e}=v;m&&e&&requestAnimationFrame((()=>{e.style.transition="transform 0.3s ease-in-out, border-radius 0.3s ease-in-out",e.style.borderRadius="",e.style.transform=""}))}),[m,t]),(0,s.useEffect)((()=>{const{current:e}=g,{current:t}=v;if(!p||!t||!e)return;const n=e.height/60,s=`scale(${n})`;requestAnimationFrame((()=>{t.style.transform=`${w.current} ${s}`,t.style.borderRadius=16/n+"px",b.current=!0}))}),[p,t]);const E=(0,s.useCallback)((e=>{const{propertyName:t,target:n}=e,{current:s}=v;"transform"===t&&n===s&&c()}),[c]);return i().createElement("div",{onClick:()=>{const{current:e}=d;k&&e&&e.skipAdPod()},ref:y,className:vt({isSkippable:k,isMobile:n,isPosterVisible:u,isSkipVisible:h})},i().createElement("div",{className:vt("container")},i().createElement("div",{className:vt("anchor"),ref:_}),i().createElement("div",{className:vt("video-poster",{isMobile:n}),ref:v,onTransitionEnd:E},i().createElement(Y.E,{isActive:!0,isBlurred:!1,isActiveRef:b,videoElement:e})),i().createElement("div",{className:vt("description"),ref:f},i().createElement("div",{className:vt("title")},i().createElement(gt.n,{lines:1},a)),i().createElement("div",{className:vt("skip-message")},S))))},ft=(0,h.N)("card-video-ad-animations"),yt=({animationType:e,isStarted:t,isActive:n=!0,isAbsolute:s=!1,isDelayed:a,className:r,children:o})=>{const l=n?{isAbsolute:s,animationType:e,isStarted:t,isDelayed:a}:{};return i().createElement("div",{className:h.N.mix(ft(l),r)},o)},wt=(e,t=32)=>`https://favicon.yandex.net/favicon/${e}?size=${t}`;var kt=n(44094),St=n(98790),Et=n(11328);const Ct=(0,h.N)("card-video-ad-header"),It=({complaintsProps:e,complaintsCard:t,videoAdState:n,adPodAssets:a,isMobile:r,l10n:l,theme:c,host:d,lang:u})=>{const{logo:m,greenUrl:p,punyDomain:h,socialAdvertising:b,adFormatType:g,targetUrl:v,clickThrough:_,age:f}=a,y=n>ht.NOT_STARTED,w=n>=ht.SHOW_ASSETS&&n<=ht.HIDE_ASSETS,k=(0,s.useCallback)((n=>r?i().createElement(i().Fragment,null,n({isOpen:e.isActive,toggle:e.handleToggle}),i().createElement(St.r,{className:Ct("drawer"),isVisible:e.isActive,onClose:e.handleCloseComplaints,theme:c,isBodyScrollEnabled:!0},i().createElement(kt.xV,{className:Ct("drawer-content"),theme:c,viewType:"drawer",close:e.handleCloseComplaints},t))):i().createElement(i().Fragment,null,n({isOpen:e.isActive,toggle:e.handleToggle}))),[t,e.handleCloseComplaints,e.handleToggle,e.isActive,r,c]),S=null!=m&&m.x80?m.x80.url:h?wt(h):"",E=i().createElement(Pe.P,{symbol:Se.Z,fill:"#A3A5AE"}),C=(0,s.useMemo)((()=>{if(g===o.Pr.survey)return{channelInfoSubscribed:l("desktop.ad_survey"),channelInfoUnsubscribed:l("desktop.ad_survey")};let e=l(b?"desktop.ad_social_box":"desktop.ad_box");return f&&(e=`${e} · ${f}`),{url:b?"https://yandex.ru/socialads-transparency-report":void 0,channelInfoSubscribed:e,channelInfoUnsubscribed:e}}),[g,b,l,f]),I=(0,s.useCallback)((()=>!!_&&(_(),!0)),[_]),P=(0,s.useMemo)((()=>({logo:S||"",title:p||"",subscribers:void 0,feedLink:v})),[p,S,v]),{hasVerticalThreeDots:T}=(0,s.useContext)(Et.M),{threeDotsRedesignFeed:R}=(0,de.od)();return i().createElement(yt,{isAbsolute:!w,isActive:y,isStarted:y,animationType:w?"opacityIn":"opacityOut"},i().createElement(B.K,{host:d,labelText:C,isMobile:r,hasControls:!0,isSubscribed:!1,isMenuButtonDisabled:e.isActive,l10n:l,lang:u,source:P,logoColor:"#F5F5F5",logoDefault:E,theme:c,onOpenSourceLink:I,renderContextMenu:k,isNewHeader:!0,threeDotsRedesignFeed:R||T}))};var Pt=n(82950),Tt=n(14914);const Rt={},At={x:"left",y:"top",shouldOverlap:{x:!0,y:!1},shifts:{top:8}},xt=()=>{},Ot=({feedback:e,videoAdState:t,adPodAssets:n,isMobile:a,l10n:r,theme:o,onToggleFeedback:l,host:c})=>{const{targetUrl:d,title:u,domain:m}=n,{useSmartPopupDirection:p}=(0,Tt.j)(),h=t>ht.NOT_STARTED,b=t>=ht.SHOW_ASSETS&&t<ht.HIDE_ASSETS,g=(0,s.useCallback)((e=>d&&(u||m)?i().createElement(w.z,{position:At,key:"share-popup",l10n:r,link:d,imageUrl:void 0,host:c,renderTrigger:e,title:u||m||"",itemType:"video_ad",isPrivate:!1,theme:o,useSmartPosition:p}):null),[d,u,r,c,m,o,p]);return i().createElement(yt,{animationType:b?"opacityIn":"opacityOut",isStarted:h},i().createElement(Pt.T,{feedback:e,host:c,isFullWidthShare:!0,isMobile:a,item:Rt,l10n:r,renderSharePopup:g,theme:o,onAuxClick:xt,onClick:xt,onCommentsClick:xt,onToggleFeedback:l}))};var Nt=n(99498),Mt=n(87340),Lt=n(22126);const Dt=(0,h.N)("card-layer-video-ad-content"),Bt=({l10n:e,isMobile:t,isStretched:n,isSquare:a,host:r,adPodAssets:l,htmlVideoRef:c})=>{const{greenUrl:d,title:u,body:m,targetUrl:p,buttonCaption:h,logo:b,punyDomain:g,clickThrough:v,adFormatType:_}=l,f=_===o.Pr.survey,y=null!=b&&b.x80?b.x80.url:g?wt(g):"",w=y?i().createElement(Nt.qE,{className:Dt("avatar"),src:y,iconSize:20,shouldUseDefaultImage:!1}):void 0,k=(0,s.useCallback)((e=>(e.preventDefault(),!1)),[]),S=u||d?i().createElement(i().Fragment,null,i().createElement(F.Q,{isMobile:t,isAlignCenter:!m,isEmptyPadding:!0,text:u||d||"",isRegular:!u,theme:ie.D.black,logo:!u&&w,clampComponent:(0,Lt.Ok)({host:r,link:p,className:Dt("title"),onClick:k})}),i().createElement(V.m,{size:V.x.M})):null,E=m?i().createElement(gt.n,{className:Dt("text"),lines:3,lineHeight:18},m):null,C=p?i().createElement("div",{className:Dt("button")},i().createElement(Mt.ZP,{viewType:"squircle-white",size:m?"l":"new-xl",target:"_blank",onClick:v},h||e("common.details.unfold"))):null,I=m?i().createElement("div",{onClick:v,className:Dt("template",{row:!0})},i().createElement("div",{className:Dt("body")},S,E),C):i().createElement("div",{onClick:v,className:Dt("template",{column:!0})},S,C);return f?null:i().createElement("div",{className:Dt({isStretched:n,isSquare:a})},i().createElement("div",{className:Dt("poster")},i().createElement(Y.E,{isActive:!0,isBlurred:!0,videoElement:c})),I)};var Ft=n(33759);var Zt=n(18326),Vt=n(21190);const Ut=e=>{var t,n;return null!=(t=null==(n=e.badges)?void 0:n.some((e=>e.type===Vt.D.PROMO)))&&t};var jt=n(37707);var zt=n(51749);const Ht=(0,h.N)("card-video-2-view"),qt=({interacted:e,feedback:t,feedbackCard:n,complaintsCard:a,complaintsProps:r,gridType:l,hasCallToSubscribeBar:c,host:d,isAllowAutoplay:u,isBlocked:m,isCallToSubscribeVisible:p,isVideoViewedTimeEnable:h,isVideoDirectLinkOnCard:b,isOpenedModal:g,isPlayerPreloadingQueueEnabled:v,isVideoSubtitlesEnabled:_,isSubscribed:f,isSubscribedInCurrentSession:y,isVideoCardsDynamicPoster:w,isVideoModalEnabled:k,isVideoCardPromoButtonsEnabled:S,isVideoPlayerVisible$:C,shouldOpenCommentsInModal:I,item:P,itemHasFixedHeight:T,itemOrder:R,rtbLabel:x,l10n:N,lang:M,maxPlayerSizeRatio:L,minPlayerSizeRatio:j,read:z,videoPlayerApiRef:H,s2sExpandType:q,socialMeta:$,subscribeActionButton:G,onToggleSoftSubscribe:W,theme:Y,videoCallToSubscribeTextType:K,videoCallToSubscribeTimestamp:X,videoLinksTimestamp:J,videoPlayerRef:Q,videoPlayerSettings:ee,videoPlayersManager:te,videoPlayersPool:ne,renderContextMenu:se,renderClickable:ie,renderSharePopup:ae,setSubscribeTriggerEvent:re,onAuxClick:oe,onCallToActionClick:le,onCallToActionShow:ce,onCallToSubscribeBarShow:ue,onClick:me,onClickSubscribeButton:pe,onCommentsClick:he,onModalOpen:be,onOpenSourceLink:ge,onSendPixelShow:ve,onStopAndGoClickContinue:_e,onStopAndGoClickOut:fe,onStopAndGoShow:ye,onClickToSiteClickOut:we,onClickToSitePreviewStep:ke,onToggleFeedback:Se,onVideoAutopause:Ee,onVideoAutoplay:Ce,onVideoClick:Ie,onVideoEnd:Pe,onVideoHeartbeat:Te,onVideoPause:Re,onVideoPlay:Ae,onVideoReplay:xe,onVideoSoundToggleByUser:Oe,onShowSubscribeButton:Ne,onMouseEnter:Me,shouldHideShareAndSubscribe:Le,isSkippableButtonAdShow:De,isVideoInstreamAd:Be,videoAdController:Fe,onAdVideoPlay:Ze,videoSkinRedesign:Ve,shouldPreventDoubleLcpReport:Ue,shouldForcePreviewRender:je,isVideoAutoPreviewEnabled:ze,isDisabledAutoplayButKeepPreload:He,shouldFocusOnCardHeader:qe,isCovid19Warning:$e,onCovid19MessageClick:Ge,covidUrl:We,videoAutoPreviewInFeedV2:Ye,videoAutoPreviewInFeedV2ByHover:Ke,videoAutoPreviewInFeedV2IsLoop:Xe,isMyFeed:Je,isPinned:et,onRtbLinkClick:tt,adPixelData:nt})=>{var at;const pt=(0,s.useRef)(null),[bt,gt]=(0,s.useState)(),{shouldHideMetaInHeader:vt,clickToSiteParams:ft,shouldHideDislike:wt,threeDotsRedesignFeed:kt}=(0,de.od)(),[St,Ct]=(0,s.useState)(A.hidden),[Tt,Rt]=(0,s.useState)(!1),[At,xt]=(0,s.useState)(!1),[Nt,Mt]=(0,s.useState)(0),{isShortVideo:Dt}=P.video,Vt=q===o.Gz.ClickToSite&&(null==(at=P.swipeToSite)?void 0:at.design)===Qe.p,qt=Dt?P.link:P.stopAndGoExternalUrl,$t=Boolean(qt)&&(q===o.Gz.StopAndGo||q===o.Gz.ClickToSite&&!Vt),Gt=S&&$t&&qt,{handleAdStateChange:Wt,handleBeforeAdPodStart:Yt,handleAdPodStart:Kt,handleNextAdRemainingTimeChange:Xt,handlePosterAnimationEnded:Jt,videoAdState:Qt,adPodAssets:en}=Fe,{adFormatType:tn}=en,nn=tn===o.Pr.survey,sn=Qt===ht.SHOW_CONTENT,an=Qt>ht.NOT_STARTED,rn=Qt>=ht.HIDE_ASSETS,on=Qt>=ht.HIDE_CONTENT&&Qt<ht.SHOW_CONTENT,ln=Qt>=ht.SHOW_ASSETS&&Qt<=ht.HIDE_ASSETS,{isHovered:cn,onMouseEnter:dn,onMouseLeave:un}=(0,ct.C)(),mn=(0,s.useCallback)((()=>{dn(),null==Me||Me()}),[dn,Me]),pn="fixed"===l,hn=(0,s.useRef)(!1),bn=(0,s.useCallback)(((e,t=!1)=>{En(!1);const{current:n}=Ln,{current:s}=H,i=s?s.getCurrentTime():0;if(Rt(!0),!n)return;St!==A.full||hn.current||(hn.current=!0,null==s||s.seek(0));const{left:a,top:r,width:o,height:l}=n.getBoundingClientRect();be(i,{left:a,top:r,width:o,height:l},e,t)}),[be,H,St]),gn=(0,Ft.Y)({theme:Y,isMobile:!1,rtbLabel:x,richRecommendLabel:P.richRecommendLabel,l10n:N,isCardPinned:et,onRtbLinkClick:tt});(0,ut.z)((()=>{const{current:e}=H;null==e||e.setPictureInPictureAllowed(!0)}));const vn=(0,s.useCallback)((()=>{pe("hover:channel_name:feed")}),[pe]),{hasVerticalThreeDots:_n}=(0,s.useContext)(Et.M),fn=(0,s.useMemo)((()=>i().createElement(yt,{isAbsolute:ln,isActive:an,isStarted:an,animationType:ln?"opacityOut":"opacityIn"},i().createElement(B.K,{host:d,isMobile:!1,hasControls:!0,isSubscribed:f,isSubscribedInCurrentSession:y,isBlocked:m,l10n:N,lang:M,labelIcon:P.labelIcon,labelText:P.labelText,source:P.source,size:"xl",renderContextMenu:se,theme:Y,onClickSubscribeButton:Le||Je?void 0:vn,onOpenSourceLink:ge,isCompact:!0,withTooltip:!0,onShowSubscribeButton:Ne,isPromo:P.isPromoPublication,cardRtbLabel:gn,shouldShowHeaderMeta:P.isPromoPublication||!vt,threeDotsRedesignFeed:kt||_n}))),[ln,an,d,Ne,f,y,m,N,M,P.labelIcon,P.labelText,P.source,P.isPromoPublication,se,Y,Le,Je,vn,ge,gn,vt,kt,_n]),yn=(0,s.useCallback)((()=>{if(I){Zt.K.getSubpage("video","similarFeedCommentsClickCard").clickCard(),bn(!1,!0);const{current:e}=H;e&&e.pause()}he()}),[he,I,bn,H]),wn=(0,s.useMemo)((()=>i().createElement(yt,{isAbsolute:on,isActive:an,isStarted:an,animationType:on?"opacityOut":"opacityIn"},i().createElement(Pt.T,{feedback:t,host:d,isMobile:!1,item:P,l10n:N,renderSharePopup:ae,socialMeta:$,theme:Y,onAuxClick:oe,onClick:me,onCommentsClick:yn,onToggleFeedback:Se,hidden:Boolean(n),isCommentsClickPrevent:I,shouldHideDislike:wt}))),[on,an,t,d,P,N,ae,$,Y,oe,me,yn,Se,n,I,wt]),kn=Boolean(h&&!Dt&&void 0!==P.video.viewedTime),[Sn,En]=(0,s.useState)(ze),Cn=(0,s.useCallback)((()=>{En(!1),He||Ce()}),[Ce,He]),In=(0,s.useCallback)((()=>{He&&En(!0)}),[He]),Pn=Boolean(("float"===l||pn)&&P.callToAction),[Tn,Rn]=(0,s.useState)(pn&&Pn),An=(0,s.useCallback)((()=>{Pn&&!Tn&&(Rn(!0),ce())}),[Pn,Tn,ce]),xn=(0,s.useCallback)((()=>{c&&!G.shouldShow&&(ue(),re((0,zt.q)("long_view")))}),[c,ue,G.shouldShow,re]),On=(0,s.useMemo)((()=>Je?null:i().createElement(U.a,{buttonLabels:G.buttonLabels,isMobile:!1,isSubscribed:f,text:G.text,theme:Y,shouldAnimate:G.shouldAnimate&&!z,shouldShow:G.shouldShow&&G.place===ot.XQ.top,size:"m",onClickSubscribeButton:W})),[f,W,Je,z,G.buttonLabels,G.place,G.shouldAnimate,G.shouldShow,G.text,Y]),Nn=(0,s.useMemo)((()=>S&&$t||Vt||Le||Je?null:i().createElement(U.a,{className:Ht("bottom-subscribe"),buttonLabels:G.buttonLabels,isMobile:!1,isSubscribed:f,text:G.text,theme:Y,shouldAnimate:G.shouldAnimate&&!z,shouldShow:G.shouldShow&&G.place===ot.XQ.bottom,size:"m",onClickSubscribeButton:W})),[Vt,$t,f,S,W,Je,z,G.buttonLabels,G.place,G.shouldAnimate,G.shouldShow,G.text,Y,Le]),Mn=(0,s.useMemo)((()=>S&&$t||Vt||Je?null:i().createElement(U.a,{buttonLabels:{subscribe:N("desktop.subscribe"),unsubscribe:N("channel.channel.you_subscribed")},isMobile:!1,isSubscribed:f,text:N(it.O[K]),shouldAnimate:!0,shouldShow:p&&!G.shouldShow,size:"m",theme:Y,onClickSubscribeButton:W})),[S,Vt,$t,N,f,K,p,G.shouldShow,Y,Je,W]),Ln=(0,s.useRef)(null),Dn=(0,lt.e)(Ln,Q),Bn=(0,s.useRef)(null);(0,dt.n)((()=>{var e;(pn&&Tn&&ce(),qe)&&(null==(e=Bn.current)||e.focus())})),(0,s.useEffect)((()=>{Vt&&St===A.preview&&Mt(Qe.y)}),[Vt,St]),((e,t,n=0,i)=>{(0,s.useEffect)((()=>{if(!i||!e||t!==A.preview)return;const s=window.innerHeight-n-i.getBoundingClientRect().bottom;s<Qe.y/2&&window.scrollBy({top:Qe.y-s,behavior:"smooth"})}),[e,t,n,i])})(Vt,St,0,Ln.current);const Fn=(0,s.useCallback)((e=>{if((b||Dt)&&!P.flightId)return;null==e||e.preventDefault();const{current:t}=H;k?bn(!1):t&&(t.getPlayingState()===o.de.Paused?t.safePlay():t.pause());const n=St===A.full?A.full:A.preview;Ct(n),xt(!1)}),[P.flightId,b,k,bn,H,St,Dt]),Zn=(0,s.useCallback)((e=>{Fn(e),me(e)}),[Fn,me]),Vn=(0,s.useCallback)((e=>{Fn(e),Ie()}),[Fn,Ie]),Un=(0,s.useCallback)((e=>{Vn(e),_e()}),[Vn,_e]),jn=(0,s.useMemo)((()=>i().createElement(F.Q,{isMobile:!1,text:P.title,theme:Y,isRegular:Vt,className:Ht("content-header",{regular:Vt}),staticComponent:(0,Lt.sR)({host:d,link:P.link,linesCount:4,onClick:Zn,anchorRef:Bn,text:P.title,ariaLabel:(0,mt.U)(P.title,N)})})),[Zn,d,P.link,P.title,N,Y,Vt]),{addTimeParam:zn}=(e=>({addTimeParam:(0,s.useCallback)((t=>{const{current:n}=e,s=t.currentTarget.getAttribute("href"),i=null==n?void 0:n.getCurrentTime();if(!s||!i||"function"!=typeof URL)return;const a=new URL(s);a.searchParams.delete("t"),a.searchParams.append("t",String(i)),t.currentTarget.setAttribute("href",String(a))}),[e])}))(H),Hn=(0,s.useMemo)((()=>ie(Ht("clickable"),Zn,zn)),[Zn,zn,ie]),qn=(0,s.useMemo)((()=>{var t;const n=Vt&&P.swipeToSite&&i().createElement("div",{className:Ht("click-to-site-bar"),style:{height:Nt,overflow:St===A.full?"visible":"hidden"}},i().createElement("div",{className:Ht("click-to-site-content"),style:{height:Nt+((null==(t=Ln.current)?void 0:t.offsetHeight)||0),transform:St===A.full?`translateY(calc(-100% + ${Nt}px))`:"translateY(0)"}},i().createElement(Bt,{l10n:N,adPodAssets:en,htmlVideoRef:pt,isMobile:!1,isStretched:!0,host:d}),i().createElement("div",{className:Ht("click-to-site-view"),style:{height:St===A.full?"100%":Qe.y}},i().createElement(O,{swipeToSite:P.swipeToSite,isMobile:!1,isAnimationPlaying:!0,clickToSiteStep:St,onClick:we,l10n:N}))));return i().createElement("div",{className:Ht("video",{hidden:sn,rounded:Boolean(n)})},i().createElement(st,{adPixelData:nt,isAdSurvey:nn,isContentHidden:on,clickable:Hn,gridType:l,host:d,isSmartAutoplay:!e,isAllowAutoplay:u&&St!==A.full,isCallToSubscribeVisible:p,isMobile:!1,isHalfRounded:ln&&!nn||Boolean(n),isOpenedDesktopModal:g,isAfterAdAnimation:rn,isOpenedFeedModal:g,isSkippableButtonAdShow:De,isVideoInstreamAd:Be,isPlayerPreloadingQueueEnabled:v,isVideoSubtitlesEnabled:_,isStopAndGoShown:Tt,isStopAndGoVisible:At,isVideoCardsDynamicPoster:w,isVisible$:C,item:P,itemHasFixedHeight:T,itemOrder:R,l10n:N,maxPlayerSizeRatio:L,minPlayerSizeRatio:j,openModal:bn,s2sExpandType:q,isVideoCardPromoButtonsEnabled:S,setIsStopAndGoShown:Rt,setClickToSiteStep:Ct,onClickToSitePreviewStep:ke,fullStepMinVideoDurationSec:null==ft?void 0:ft.fullStepMinVideoDurationSec,setIsStopAndGoVisible:xt,theme:Y,videoCallToSubscribeTimestamp:X,videoLinksTimestamp:J,videoRef:pt,videoPlayerApiRef:H,videoPlayerBlockRef:Dn,videoPlayerSettings:ee,videoPlayersManager:te,videoPlayersPool:ne,onSendPixelShow:ve,onShowCallToAction:An,onShowCallToSubscribe:xn,onStopAndGoClickContinue:_e,onStopAndGoClickOut:fe,onStopAndGoShow:ye,onVideoAutopause:Ee,onVideoAutoplay:Ce,onVideoClick:Vn,onVideoEnd:Pe,onVideoHeartbeat:Te,onVideoPause:Re,onVideoPlay:Ae,onVideoReplay:xe,onVideoSoundToggleByUser:Oe,onSetIsAdVisible:Wt,onAdVideoPlay:Ze,onBeforeAdPodStart:Yt,onAdPodStart:Kt,onNextAdRemainingTimeChange:Xt,onAdPodTimeToSkipChange:gt,videoSkinRedesign:Ve,shouldForcePreviewRender:je,onEndAutoPreview:Cn,onPlayAutoPreview:In,isVideoAutoPreviewVisible:Sn,isVideoAutoPreviewEnabled:ze,isProgressEnabled:kn,isDisabledAutoplayButKeepPreload:He,isCardHovered:cn,videoAutoPreviewInFeedV2:Ye,videoAutoPreviewInFeedV2ByHover:Ke,videoAutoPreviewInFeedV2IsLoop:Xe}),n)}),[Vt,P,Nt,St,N,en,d,ft,we,sn,nn,on,Hn,l,e,u,p,ln,g,rn,De,Be,v,_,Tt,At,w,C,T,R,L,j,bn,q,S,ke,Y,X,J,H,Dn,ee,te,ne,ve,An,xn,_e,fe,ye,Ee,Ce,Vn,Pe,Te,Re,Ae,xe,Oe,Ze,Wt,Yt,Kt,Xt,Ve,je,Cn,In,Sn,ze,kn,He,cn,Ye,Ke,Xe,nt]),$n=(0,s.useMemo)((()=>{const e=i().createElement("div",{className:Ht("call-to-action",{isVisible:Tn})},i().createElement(V.m,{size:V.x.M}),i().createElement(D,{callToAction:P.callToAction,host:d,isMobile:!1,theme:Y,onClick:le}),i().createElement(V.m,{size:V.x.S})),t=Pn?i().createElement(E,{duration:"0.3s",functionName:"ease-in-out"},e):null,n=Pn?e:null,s=!Vt&&i().createElement(V.m,{size:V.x.M}),a=!Vt&&i().createElement(Z.G,{type:"card",lang:M,l10n:N,viewsLabel:P.video.viewsFormatted,publicationDate:P.publicationDate,creationTime:P.creationTime,isCompact:!1,isPromoPublication:Ut(P),labelText:P.labelText,isSubscribed:f}),r=ln?i().createElement(Bt,{l10n:N,adPodAssets:en,htmlVideoRef:pt,isMobile:!1,host:d}):null,o=$e?i().createElement("div",{className:Ht("covid-label")},i().createElement(jt.N,{text:N("common.covid-19.message"),theme:Y,size:"s",onClick:Ge,url:We,host:d,viewType:"light"})):null,l=pn?n:t,c=i().createElement(i().Fragment,null,Vt&&i().createElement(yt,{isActive:on,isAbsolute:ln,isStarted:on,animationType:"opacityOut"},jn,Hn),qn,r,!Vt&&i().createElement(yt,{isActive:on,isAbsolute:ln,isStarted:on,animationType:"opacityOut"},s,jn,a,o,l,Hn));return i().createElement("div",{className:Ht("content")},c)}),[P,Vt,Y,d,N,Tn,le,Pn,M,pn,ln,en,qn,on,jn,We,Ge,$e,Hn,f]),Gn=(0,s.useMemo)((()=>{const e=Gt&&qt&&i().createElement(i().Fragment,null,i().createElement(V.m,{size:V.x.L}),i().createElement(rt,{l10n:N,theme:Y,isMobile:!1,isShorten:!0,externalHost:d,externalHref:qt,onOpenModalClick:Un,onExternalClick:fe})),n=an&&i().createElement(_t,{videoPlayerApiRef:H,adPodTimeToSkip:bt,l10n:N,onPosterAnimationEnded:Jt,videoAdState:Qt,videoPlayerBlockRef:Ln,htmlVideoRef:pt,isMobile:!1,title:P.title}),s=on&&i().createElement(It,{complaintsProps:r,complaintsCard:a,videoAdState:Qt,adPodAssets:en,isMobile:!1,l10n:N,theme:Y,lang:M,host:d}),o=on&&i().createElement(Ot,{feedback:t,videoAdState:Qt,adPodAssets:en,isMobile:!1,l10n:N,theme:Y,onToggleFeedback:Se,host:d});let l=null,c=!1;switch(Qt){case ht.HIDE_CONTENT:case ht.HIDE_ASSETS:case ht.MOVE_POSTER_DOWN:case ht.MOVE_POSTER_UP:l="opacityOut";break;case ht.SHOW_CONTENT:case ht.SHOW_ASSETS:l="opacityIn",c=!0}return i().createElement(i().Fragment,null,i().createElement("div",{className:Ht("header-wrap")},fn,s),i().createElement(yt,{className:Ht("content-wrap"),isStarted:an,isDelayed:c,animationType:l},!ln&&i().createElement(i().Fragment,null,On),$n,!ln&&i().createElement(i().Fragment,null,e,Mn,Nn)),i().createElement("div",{className:Ht("footer-wrap")},wn,o),ln&&a,n)}),[en,bt,Nn,Mn,a,r,$n,t,wn,Jt,Un,fn,d,ln,on,Gt,an,P.title,N,M,fe,Se,qt,Y,On,Qt,H]);return n&&!ln?n:i().createElement("div",{className:Ht({itemHasFixedHeight:T,theme:Y,viewType:pn&&"fixed-grid",preventDoubleLcp:Ue}),onMouseEnter:mn,onMouseLeave:un},Gn)};var $t=n(95737),Gt=n(6060),Wt=n(69328),Yt=n(77418),Kt=n(59306),Xt=n(16138),Jt=n(77945),Qt=n(46112),en=n(65066),tn=n(58155),nn=n(67726),sn=n(95957),an=n(67579),rn=n(12190);const on={reasonId:10,actionId:7},ln={reasonId:11,actionId:8},cn=[{id:"notInterested",text:"feedback.complaints.text.notInterested",payload:{reasonId:3,actionId:2}},{id:"annoying",text:"feedback.complaints.text.annoying",payload:{reasonId:1,actionId:3}},{id:"spam",text:"feedback.complaints.text.spam",payload:{reasonId:5,actionId:4}}],dn=[{id:"notInterestedSocialAd",text:"feedback.complaints.text.notInterestedSocialAd",payload:{reasonId:15,actionId:4}},{id:"politicalSocialAd",text:"feedback.complaints.text.politicalSocialAd",payload:{reasonId:16,actionId:4}},{id:"shockingContentSocialAd",text:"feedback.complaints.text.shockingContentSocialAd",payload:{reasonId:17,actionId:4}},{id:"falseInfoSocialAd",text:"feedback.complaints.text.falseInfoSocialAd",payload:{reasonId:18,actionId:4}}],un=()=>{},mn={answerChecks:{},isBlocked:!1,complaintsState:null,toggleAnswer:un,cancelFeedback:un,setCardBlocked:un,openComplaints:un,closeComplaints:un,sendComplaints:un,showExtendedDislike:un,uncheckAllDislikeAnswers:un};var pn=n(43738);const hn=(0,h.N)("card-layer-complaints-view"),bn=(0,s.memo)((({l10n:e,complaintsProps:t,isCancelButtonDisabled:n})=>{const{complaints:a,handleSubmit:r,handleCloseComplaints:o}=t,l=i().createElement("div",{className:hn("header")},i().createElement("div",{className:hn("title")},e("feedback.complaints.title")),i().createElement("div",{className:hn("subtitle")},e("feedback.complaints.subtitle"))),c=(0,s.useMemo)((()=>i().createElement("div",{className:hn("items")},a.map((({id:t,text:n,payload:s})=>i().createElement("div",{key:t,className:hn("row")},i().createElement(Mt.zx,{size:"new-xl-2",className:hn("item"),viewType:"squircle-gray",onClick:()=>r(s)},e(n))))))),[a,r,e]),d=n?null:i().createElement("div",{className:hn("cancel")},i().createElement(Mt.zx,{size:"new-xl-2",viewType:"squircle-gray",onClick:o},e("feedback.cancel")));return i().createElement("div",{className:hn()},l,c,d)}));var gn=n(31959),vn=n(34019),_n=n(78960),fn=n(15663);const yn=(0,h.N)("card-video-2-view"),wn=e=>e,kn=(0,s.memo)((({isVideoCardPromoButtonsEnabled:e,complaints:t,gridType:n,host:a,isVideoViewedTimeEnable:r,isVideoDirectLinkOnCard:o,videoAutoPreviewInFeedV2:l,videoAutoPreviewInFeedV2ByHover:c,videoAutoPreviewInFeedV2IsLoop:d,isFeedbackEnabled:u,isOpenedModal:m,isPlayerPreloadingQueueEnabled:p,isVideoSubtitlesEnabled:h,isSubscribeButtonAllowed:S,isVideoInstreamAd:E,isAdActionButtonEnable:C,isVideoAutoplayEnabled:I,isVideoCardsDynamicPoster:P,isVideoModalEnabled:T,isVideoSite:R,isSkippableButtonAdShow:A,shouldOpenCommentsInModal:x,item:O,itemHasFixedHeight:N,itemOrder:L,l10n:D,lang:B,log:F,clientLog:Z,maxPlayerSizeRatio:V,minPlayerSizeRatio:U,theme:j,videoCallToSubscribeTextType:z,videoCallToSubscribeTimestamp:H,videoPlayerSettings:q,videoPlayersManager:$,videoPlayersPool:G,suiteId:W,onCancelLike:Y,onClick:K,userAvatar:X,onConnectSource:J,onFeedback:Q,onInvalidateCache:ee,onModalOpen:te,onOpenSourceLink:ne,onSetLike:se,onShow:ie,onFullShow:ae,onLike:re,onDislike:oe,onSubscribe:le,onUnsubscribe:ce,onToggleSound:ue,onToggleAutoplay:me,onMouseEnter:pe,onDeleteSuccess:he,setCallToActionShown:be,openedItemId:ge,shouldHideShareAndSubscribe:ve,shouldSendShort:_e,shouldDeferEvents$:fe,videoSkinRedesign:ye,shouldPreventDoubleLcpReport:we,shouldForcePreviewRender:ke,shouldFocusOnCardHeader:Se,isInInitialChunk:Ee,rowIndex:Ce,isVideoAutoPreviewEnabled:Ie,isDisabledAutoplayButKeepPreload:Pe,requestRecommendationsChannels:Te,pinProps:Re,videoPageSelfTarget:Ae,onRtbLinkClick:xe,isAvailableToAddToSuite:Oe,onCreateSuiteSuccess:Ne,onAddToSuiteSuccess:Me,onRemoveFromSuiteSuccess:Le,onToggleSavedPublication:De,isSavedFeed:Be,clid:Ze,useSmartPopupDirection:Ve=!1,adPixelData:Ue})=>{var je,ze;const{statPixelVideoFullView:He,statPixelVideoShow:qe,statPixelVideoLink:$e}=(0,Fe.Y)(null==O?void 0:O.videoPixels),Ge=(0,s.useCallback)((()=>At.current?At.current.getCurrentTime():O.video.viewedTime||0),[O.video.viewedTime]),{bulkParams:We,link:Ye,dislikeQuestion:Ke,source:{feedLink:Xe},id:Je,more:Qe}=O,et=(0,Xt.D)({log:F,clientLog:Z,bulkParams:We,link:Ye,feedLink:Xe,dislikeQuestion:Ke,getVideoCurrentTime:Ge,startCurrentTime:O.video.viewedTime}),{sendVacuumSubscribe:tt,sendVacuumLike:nt,sendVacuumShow:st}=(0,gn.D)(O),it=(0,s.useCallback)((()=>{le(),tt(),null==Te||Te({itemId:Je,url:null==Qe?void 0:Qe.recommendations_channels})}),[le,tt,Te,Je,null==Qe?void 0:Qe.recommendations_channels]),{setSourceBlocked:at,source:rt,toggleSubscribe:ot}=(0,f.L)({initialSource:O.source,stats:et,onFeedback:Q,onConnectSource:J,onSubscribe:it,onUnsubscribe:ce}),ct=(0,s.useCallback)((()=>(K(),et.clickCardSourceLink(),ne(rt.strongestId))),[K,ne,rt.strongestId,et]),dt=(0,s.useMemo)((()=>Object.assign({},O.socialInfo,{userAvatar:X})),[O.socialInfo,X]),{getHeight:ut,containerRef:mt}=(0,Gt.E)(),{subscribeTriggerEvent:gt,setSubscribeTriggerEvent:vt}=(0,Kt.k)(),_t=(0,s.useCallback)((()=>{vt((0,zt.q)("click")),K()}),[vt,K]),{read:ft,interacted:yt,handleClick:wt,handleAuxClick:kt}=(0,_.E)({containerRef:mt,stats:et,initialRead:O.read,onClick:_t}),St="subscribed"===rt.status,Ct=Boolean(H&&!rt.subscriptionForbidden&&!St&&S),It=(0,s.useCallback)((()=>{et.showSubscribeButton(void 0,"hover:channel_name:feed")}),[et]),[Pt,Tt]=(0,s.useState)(!1),Rt=(0,s.useCallback)((()=>{Tt(!0)}),[Tt]),At=(0,s.useRef)(null),xt=((e,t={})=>{const n=(0,s.useRef)(null),i=(0,s.useRef)(null),[a,r]=(0,s.useState)({}),[o,l]=(0,s.useState)(ht.NOT_STARTED);(0,pt.Z)((()=>{n.current&&clearInterval(n.current)}));const c=(0,s.useCallback)(((e,t)=>{n.current&&clearInterval(n.current),n.current=setTimeout((()=>l(e)),t)}),[]),d=(0,s.useCallback)((t=>{e&&l(t?e=>e===ht.SHOW_POSTER?(c(ht.MOVE_POSTER_DOWN,600),ht.HIDE_CONTENT):e:e=>e===ht.SHOW_ASSETS?(c(ht.MOVE_POSTER_UP,600),ht.HIDE_ASSETS):e)}),[c,e]),u=(0,s.useCallback)((n=>{n&&e&&(i.current=n,n.setControlsVisibility(!!t.shouldActionButtonVisible&&bt))}),[e,t.shouldActionButtonVisible]),m=(0,s.useCallback)((()=>{const{current:t}=i;e&&t&&r(t.getCurrentViewerAssets()||{})}),[e]),p=(0,s.useCallback)((t=>{if(e)switch(t){case 5:l((e=>e===ht.NOT_STARTED?(r({}),ht.PREPARE_POSTER):e));break;case 1:c((e=>e===ht.PREPARE_POSTER?ht.SHOW_POSTER:e),500)}}),[c,e]),h=(0,s.useCallback)((()=>{e&&l((e=>{switch(e){case ht.MOVE_POSTER_DOWN:return ht.SHOW_ASSETS;case ht.MOVE_POSTER_UP:return c(ht.NOT_STARTED,600),ht.SHOW_CONTENT;default:return e}}))}),[c,e]),b=(0,s.useCallback)(((t,n=!0)=>{if(!e)return;const{current:s}=i,{sendAdTuneTracking:r}=a;n&&(null==s||s.stopAd()),r&&r(t)}),[a,e]),g=o>=ht.SHOW_ASSETS&&o<=ht.HIDE_ASSETS;return(0,s.useMemo)((()=>({handleAdStateChange:d,handleBeforeAdPodStart:u,handleAdPodStart:m,handleNextAdRemainingTimeChange:p,handlePosterAnimationEnded:h,sendTuneTracking:b,videoAdState:o,adPodAssets:a,videoAdStarted:g})),[a,d,u,m,b,p,h,o,g])})(E&&!ge,{shouldActionButtonVisible:C}),Ot=(0,s.useCallback)((()=>{re(),nt()}),[re,nt]),Nt=(0,Wt.Q)({stats:et,shouldToggleDislike:!0,isFeedbackEnabled:u,feedback:O.feedback,commentsDocumentId:O.commentsDocumentId,dislikeQuestion:O.dislikeQuestion,onCancelLike:Y,onDislike:oe,onLike:Ot,onSetLike:se,setSourceBlocked:at,setSubscribeTriggerEvent:vt,onFeedback:Q,onInvalidateCache:ee}),Mt=(({videoAdController:e})=>{const{sendTuneTracking:t}=e,n=(0,s.useCallback)(((e,n)=>{t&&t(e,n)}),[t]),i=(0,s.useMemo)((()=>({like:()=>{n(on,!1)},dislike:()=>{n(ln,!1)},clickComplain:un,setAnswerChecked:un,cancelLike:un,cancelDislike:un,showComplain:un,showExtendedDislike:un})),[n]),{feedback:a,handleToggleFeedback:r,setFeedback:o}=(0,rn.w)({stats:i,shouldReset:e.adPodAssets,initialFeedback:null,onFeedback:un,onLike:un});return{feedback:a,setFeedback:o,handleToggleFeedback:r,feedbackProps:mn,isFeedbackCard:!1,isNegativeFeedback:Boolean(a&&"liked"!==a)}})({videoAdController:xt}),{feedbackProps:Lt,isFeedbackCard:Dt,feedback:Bt,isNegativeFeedback:Ft,handleToggleFeedback:Zt,setFeedback:Vt}=xt.videoAdStarted?Mt:Nt,Ut=xt.adPodAssets.socialAdvertising?dn:cn,jt=(({isEnable:e,shouldActive:t,complaints:n,onSubmit:i})=>{const[a,r]=(0,s.useState)(t);(0,pn.Z)((()=>{r(t)}),[t]);const o=(0,s.useCallback)((()=>{r(!0)}),[]),l=(0,s.useCallback)((()=>{r(!1)}),[]),c=(0,s.useCallback)((()=>{r((e=>!e))}),[]),d=(0,s.useCallback)((e=>{i(e),l()}),[l,i]);return(0,s.useEffect)((()=>{!e&&r(!1)}),[e]),(0,s.useMemo)((()=>({isActive:a,handleOpenComplaints:o,handleCloseComplaints:l,handleToggle:c,complaints:n,handleSubmit:d})),[n,l,o,d,c,a])})({isEnable:xt.videoAdStarted,shouldActive:Ft,complaints:Ut,onSubmit:xt.sendTuneTracking}),{addToSuiteFlow:Ht,onAddToSuite:hn,removeFromSuiteFlow:kn,onRemoveFromSuite:Sn,deletePublicationFlow:En,onDelete:Cn}=(0,fn.l)({publicationId:O.publicationObjectId,publicationType:_n.wj.gif,publisherId:O.publisherId,suiteId:W,isAvailableToAddToSuite:Oe,clid:Ze,onCreateSuiteSuccess:Ne,onAddToSuiteSuccess:Me,onRemoveFromSuiteSuccess:Le,onDeleteSuccess:he}),{savedStatus:In,onToggleSaved:Pn}=(0,vn.e)({onToggleSavedPublication:De,isSavedFeed:Be,publisherId:O.publisherId,publicationId:O.publicationObjectId||"",itemId:O.id,isSavedItem:O.isSavedToBookmarks,menu:O.menu}),{isMyChannelFeed:Tn,isMySuiteFeed:Rn}=(0,s.useContext)(Et.M),An=Tn||Rn,[xn,On,Nn,Mn,Ln]=(0,Jt.c)(void 0,void 0,wn),{clickSubscribeButton:Dn,subscribeActionButton:Bn,handleToggleSoftSubscribe:Fn}=(0,an.V)({feedback:Bt,subscribeTriggerEvent:gt,isSubscribeButtonAllowed:S,isSubscribeButtonBlocked:!1,read:ft,source:rt,place:"feed",stats:et,toggleSubscribe:ot,l10n:D,interacted:yt}),{isBlocked:Zn}=Lt,Vn=(0,s.useMemo)((()=>Dt?i().createElement("div",{className:yn("feedback")},i().createElement(y.F,{complaints:t,dislikeQuestion:O.dislikeQuestion,feedbackProps:Lt,isMobile:!1,l10n:D,lang:B,theme:j,item:O,onOpenSourceLink:ct,onOpenPublicationLink:wt})):null),[t,Lt,ct,Dt,O,D,B,wt,j]),Un=xt.videoAdStarted&&jt.isActive?i().createElement("div",{className:yn("complaints")},i().createElement(bn,{l10n:D,complaintsProps:jt})):null,{contextMenuPopupPosition:jn,handleContextMenuShow:zn,handleContextMenuBlock:Hn,handleContextMenuComplain:qn,handleContextMenuAutoPlay:$n,handleContextMenuEdit:Gn,handleContextMenuChangePinning:Wn,handleContextMenuDelete:Yn,handleContextMenuMovePinDown:Kn,handleContextMenuMovePinUp:Xn,handleContextMenuAddToSuite:Jn,handleContextMenuRemoveFromSuite:Qn,handleContextMenuToggleSaved:es}=(0,Yt.S)({isVideoAutoplayEnabled:I,status:rt.status,onToggleAutoplay:me,setSubscribeTriggerEvent:vt,setFeedback:Vt,setCardBlocked:Lt.setCardBlocked,onShare:et.clickShare,onDelete:Cn,openFeedbackMenu:et.openFeedbackMenu,openComplaints:Lt.openComplaints,videoAutoplayOff:et.videoAutoplayOff,videoAutoplayOn:et.videoAutoplayOn,item:O,pinProps:Re,onAddToSuite:hn,onRemoveFromSuite:Sn,onToggleSaved:Pn}),ts=(0,s.useCallback)((e=>i().createElement(k.S,{isAutoplayEnabled:I,l10n:D,position:jn,renderTrigger:e,sourceStatus:rt.status,theme:j,onBlock:Hn,onComplain:qn,onShow:zn,onToggleAutoplay:$n,onSubscribe:An?void 0:Dn,onUnsubscribe:An?void 0:Dn,onEdit:Gn,onTogglePinning:Wn,onMovePinUp:Xn,onMovePinDown:Kn,onAddToSuite:Jn,onRemoveFromSuite:Qn,onDelete:Yn,withAutoplayToggle:!R&&!Pe,isPinned:null==Re?void 0:Re.isPinned,onToggleSaved:es,savedStatus:In})),[I,jn,zn,Hn,qn,$n,D,rt.status,j,Dn,Gn,Wn,Xn,Kn,Jn,Qn,Yn,R,Pe,An,null==Re?void 0:Re.isPinned,es,In]),ns=(0,s.useCallback)((()=>{et.clickShare()}),[et]),ss=(0,s.useCallback)((e=>ve?null:i().createElement(w.z,{key:"share-popup",l10n:D,link:O.shareLink||O.link,imageUrl:void 0,host:a,renderTrigger:e,onOpen:ns,title:O.title,itemType:"gif",isPrivate:!1,theme:j,useSmartPosition:Ve})),[Ve,ns,a,O.link,O.shareLink,O.title,D,j,ve]),is="fixed"===n,[as,rs]=(0,en.O)(m,is||R?g.x3:.99);(0,Qt.E)({isToothVisible$:On,isVisible$:Nn,isIntersecting$:Mn,shouldDeferEvents$:fe,onShort(){_e&&et.short()},onShow(){et.show(ut()),ie(),st(),O.covid19&&(null==et.showCovid19Message||et.showCovid19Message())}}),(0,nn.D)({timeout:sn.B,isVisible$:Ln,onShow(){ae()}});const os=(0,s.useCallback)((e=>{ue(),et.videoSoundToggle(e)}),[ue,et]),ls=(0,s.useCallback)((()=>{et.videoAutopause()}),[et]),cs=(0,b.z)((()=>{et.click()}),250),ds=(0,s.useCallback)((()=>{He(),et.videoEnd()}),[He,et]),us=(0,s.useCallback)((()=>{et.videoAutoplay()}),[et]),ms=(0,s.useCallback)((()=>{et.videoPlay()}),[et]),ps=(0,s.useCallback)(((e,t,n)=>i().createElement(M._5,{"aria-label":O.title,"aria-hidden":!0,tabIndex:-1,className:e,host:a,href:O.link,onAuxClick:kt,onClick:t,onPointerDown:n,"data-yabro-prevent-click":!o||void 0,target:Ae?"_self":void 0})),[o,a,O.link,kt,O.title,Ae]),hs=(0,s.useCallback)((()=>{O.callToAction&&be()}),[O.callToAction,be]),bs=(0,s.useCallback)((()=>{O.callToAction&&($e(),K())}),[O.callToAction,K,$e]),gs=(0,s.useCallback)((()=>{$e(),et.videoStopAndGoClickOut()}),[$e,et]),vs=(0,s.useCallback)((e=>{$e(),et.videoStopAndGoClickOut(e)}),[$e,et]),_s=null!=(je=null==(ze=O.callToAction)?void 0:ze.videoCallToActionTimestamp)?je:tn.r6,fs=(0,lt.e)(xn,mt),ys=xt.videoAdStarted?jt.isActive:Ft,ws=O.video.autoplay&&I&&(!ys&&!m||O.id===ge),{progressiveHydration:ks,covidUrl:Ss}=(0,de.od)();return i().createElement($t.U,{theme:j,withOverflowHidden:!1,ref:fs},i().createElement(v.z,{config:ks,isInInitialChunk:Ee,rowIndex:Ce,shouldDeferEvents$:fe},i().createElement(qt,{interacted:yt,feedback:Bt,feedbackCard:Vn,complaintsCard:Un,complaintsProps:jt,gridType:n,hasCallToSubscribeBar:Ct,host:a,isAllowAutoplay:ws,isBlocked:Zn,isCallToSubscribeVisible:Pt,isVideoViewedTimeEnable:r,isVideoDirectLinkOnCard:o,videoAutoPreviewInFeedV2:l,videoAutoPreviewInFeedV2ByHover:c,videoAutoPreviewInFeedV2IsLoop:d,isOpenedModal:m,isPlayerPreloadingQueueEnabled:p,isVideoSubtitlesEnabled:h,isSubscribed:St,isSubscribedInCurrentSession:rt.isSubscribedInCurrentSession,isVideoCardsDynamicPoster:P,isVideoModalEnabled:T,isVideoCardPromoButtonsEnabled:e,isVideoPlayerVisible$:rs,shouldOpenCommentsInModal:x,item:O,itemHasFixedHeight:N,itemOrder:L,l10n:D,lang:B,log:F,maxPlayerSizeRatio:V,minPlayerSizeRatio:U,read:ft,renderClickable:ps,renderContextMenu:ts,renderSharePopup:ss,videoPlayerApiRef:At,s2sExpandType:O.expandType,setSubscribeTriggerEvent:vt,isSkippableButtonAdShow:A,socialMeta:dt,subscribeActionButton:Bn,onToggleSoftSubscribe:Fn,theme:j,videoCallToSubscribeTextType:z,videoCallToSubscribeTimestamp:H,videoLinksTimestamp:_s,videoPlayerRef:as,videoPlayerSettings:q,videoPlayersManager:$,videoPlayersPool:G,onAuxClick:kt,onCallToActionClick:bs,onCallToActionShow:hs,onCallToSubscribeBarShow:Rt,onClick:wt,onClickSubscribeButton:Dn,onCommentsClick:et.clickCommentCounter,onModalOpen:te,onOpenSourceLink:ct,onSendPixelShow:qe,onStopAndGoClickContinue:et.videoStopAndGoClickContinue,onStopAndGoClickOut:gs,onStopAndGoShow:et.videoStopAndGoShow,onClickToSiteClickOut:vs,onClickToSitePreviewStep:et.videoStopAndGoShow,onToggleFeedback:Zt,onVideoAutopause:ls,onVideoAutoplay:us,onVideoClick:cs,onVideoEnd:ds,onShowSubscribeButton:It,onVideoHeartbeat:et.videoHeartbeat,onVideoPause:et.videoPause,onVideoPlay:ms,onVideoReplay:et.videoReplay,onVideoSoundToggleByUser:os,onMouseEnter:pe,shouldHideShareAndSubscribe:ve,isVideoInstreamAd:E,videoAdController:xt,rtbLabel:O.rtbLabel,onAdVideoPlay:et.videoAdVideoPlay,videoSkinRedesign:ye,shouldPreventDoubleLcpReport:we,shouldForcePreviewRender:ke,isVideoAutoPreviewEnabled:Ie,isDisabledAutoplayButKeepPreload:Pe,shouldFocusOnCardHeader:Se,isCovid19Warning:O.covid19,onCovid19MessageClick:et.clickCovid19Message,covidUrl:Ss,isMyFeed:An,isPinned:null==Re?void 0:Re.isPinned,onRtbLinkClick:xe,adPixelData:Ue})),Ht,kn,En)}));var Sn=n(46591),En=n(23268),Cn=n(81341),In=n(88144),Pn=n(22796),Tn=n(59357),Rn=n(254),An=n(56720),xn=n(26717),On=n(44564),Nn=n(37828),Mn=n(24344),Ln=n(44781),Dn=n(7688),Bn=n(22694),Fn=n(53775),Zn=n(45304),Vn=n(42478),Un=n(1654),jn=n(92316),zn=n(21937),Hn=n(37490),qn=n(37884),$n=n(71373),Gn=n(32192),Wn=n(74688),Yn=n(14812),Kn=n(88529),Xn=n(63138),Jn=n(8383),Qn=n(78785),es=n(20773),ts=n(94722);const ns=(0,s.memo)((({id:e,itemHasFixedHeight:t,rowIndex:n,scrollTo:h,shouldFocusOnCardHeader:b})=>{const{l10n:g,lang:v}=(0,Ie.$)(),{log:_,clientLog:f}=(0,Bn.B)(),{outputBus:y,videoPlayersPool:w,videoPlayersManager:k,zenApi:S,shouldDeferEvents$:E,globalBus:C}=(0,En.vv)();(0,Zn.cW)(E);const I=Boolean(!1),P=(0,s.useCallback)((t=>{var s,i;const a=(0,Tn.Gu)(t,e,[Sn.qG.GIF,Sn.qG.SHORT_VIDEO]),{openedItemId:r}=t.videoViewer,o=Boolean(r),l=(0,Pn.oY)(t,e);return{item:a,isChannelPage:(0,An.GP)(t),suiteId:null!=(s=null==(i=t.suite)?void 0:i.id)?s:"",isFeedbackEnabled:(0,Rn.y)(t),isSubscribeButtonAllowed:(0,xn.zH)(t),isVideoAutoplayEnabled:(0,On.g)(t),itemOrder:l,isInInitialChunk:(0,Pn.VJ)(t,n),maxPinnedItemsReached:(0,Pn.rr)(t),availableMoveItemOptions:(0,Tn.fm)(t,e),isVideoAutoPreviewEnabled:(0,On._k)(t,a),isAvailableToAddToSuite:(0,Xn.n)(t),complaints:t.params.complaints,host:t.params.host||"",userAvatar:t.user.avatar,isOpenedModal:o,isSpaApp:t.params.isSpaApp,theme:(0,An.FS)(t),openedItemId:r,separateVideoBundlePreloadHover:(0,qn.aM)(t),isSavedFeed:(0,An.fH)(t),clid:t.params.clid,adPixelCommonData:(0,Pn._Q)(t)}}),[e,n]),{item:T,complaints:R,host:A,isFeedbackEnabled:x,isOpenedModal:O,isSpaApp:N,isSubscribeButtonAllowed:M,isVideoAutoplayEnabled:L,itemOrder:D,theme:B,openedItemId:F,isChannelPage:Z,suiteId:V,isInInitialChunk:U,isVideoAutoPreviewEnabled:j,separateVideoBundlePreloadHover:z,userAvatar:H,maxPinnedItemsReached:q,availableMoveItemOptions:$,isAvailableToAddToSuite:G,isSavedFeed:W,clid:Y,adPixelCommonData:K}=(0,Gn.T)(P,{skip:["sources","displayedRowsNumber"],resultEqualityCheck:Nn.v}),{isVideoCardPromoButtonsEnabled:X,isPlayerPreloadingQueueEnabled:J,isVideoCardsDynamicPoster:Q,isVideoModalEnabled:ee,isVideoInstreamAd:te,isAdActionButtonEnable:ne,videoPlayerSettings:se,shouldSendShort:ie,videoSkinRedesignDesktop:ae,shouldPreventDoubleLcpReport:re,rowsWithBundleFreeVideoPreviews:oe,isVideoViewedTimeEnable:le,shouldRestoreVolumeModal:ce,isSkippableButtonAdShow:de,isVideoDirectLinkOnCard:ue,isVideoDirectLinkOnCardComment:me,isDisabledAutoplayButKeepPreload:pe,callToSubscribeInVideo:he,rezenFeedRedesign:be,videoPlayerSizeRatio:ge,isVideoSubtitlesInFeedEnabled:ve,videoAutoPreviewInFeedV2:_e,videoAutoPreviewInFeedV2ByHover:fe,videoAutoPreviewInFeedV2IsLoop:ye,videoPageSelfTarget:we,useSmartPopupDirection:ke}=(0,a.v9)(In.a),Se=K&&T.video.adPixelData?Object.assign({},K,T.video.adPixelData):void 0,Ee=(0,Vn.u)(T.shareLink),Ce=(0,Un.j)(jn.F),{rawItem:Pe}=T,Te=(0,s.useMemo)((()=>(0,l.Kn)(Pe)&&(0,l.Kn)(Pe.video)&&!(0,l.kJ)(Pe.video)?Object.assign({},Pe,{video:Object.assign({},Pe.video,{is_short_video:Pe.video.isShortVideo})}):Pe),[Pe]),Re=(0,s.useMemo)((()=>(0,r.Hj)(Cn.nT,Te,"card-video-2-adapter-desktop")),[Te]),Ae=(0,s.useCallback)((()=>{Ee(),Z&&Ce()}),[Ce,Ee,Z]),xe=(0,s.useRef)();(0,s.useEffect)((()=>{F&&(xe.current=F)}),[F]);const Oe=(0,Mn.a)({id:e,scrollTo:h}),Ne=(0,p.D)(),Me=(0,Ln.W)(T.id),Le=(0,Dn.t)(),De=(0,Fn.J)(N),Be=(0,Wn.M)(N),Fe=(0,a.I0)(),Ze=(0,s.useCallback)((e=>{Fe((0,d.ZI)(e))}),[Fe]),Ve=(0,s.useCallback)((e=>{Fe((0,d.$m)(e))}),[Fe]),Ue=(0,s.useCallback)((()=>{const{suites:t}=Re;t&&t.forEach((e=>Fe((0,Qn.O)(e.suiteId)))),Fe((0,es.cl)(e))}),[Fe,e,Re]),je=(0,s.useCallback)((()=>{S.packShown(T.packId,T.cacheId),C.emit("zenCardShow",T.type)}),[S,C,T.packId,T.cacheId,T.type]),ze=(0,sn.$)(T.packId,T.cacheId,Ee),He=(0,s.useCallback)(((t,n,s,i)=>{var a;i||Zt.K.getSubpage("video","similarFeedCommentsOpen").clickCard(),Zt.K.getSubpage("video","similarFeedFirst").clickCard(),null==k||k.getPlayerRUM().setOpenViewerTS(),Ee();const r=Re.expandType===o.Gz.ClickToSite&&(null==(a=Re.swipeToSite)?void 0:a.design)===Qe.p;Fe((0,m.zr)({id:r?void 0:e,item:r?Re:void 0,playerRect:n,isMuted:ce?void 0:s,options:{scrollToCommentsOnOpen:i}})),(0,Kn.sP)()}),[k,Re,Ee,Fe,e,ce]),qe=(0,s.useCallback)((()=>{Fe((0,u.w)(e))}),[Fe,e]),$e=(0,s.useCallback)((()=>{Fe((0,c.Ly)(!L))}),[L,Fe]),Ge=(0,Yn.$)({id:e,isPinned:Boolean(T.isPinned),maxPinnedItemsReached:q,availableMoveItemOptions:$}),We=(0,s.useCallback)((()=>{z&&$n.f.preload()}),[z]);(0,dt.n)((()=>{T.ad&&y.emit("rowsHeightsChanged",{rows:[n]})}));const{requestRecommendationsChannels:Ye}=(0,Hn._)(),Ke=oe>0&&n<oe,{onCreateSuiteSuccess:Xe,onAddToSuiteSuccess:Je,onRemoveFromSuiteSuccess:et}=(0,Jn.c)(T.id),{onToggleSavedPublication:tt}=(0,ts.h)();return i().createElement(zn.g,{item:T,log:_,forceSendBulkEvents:S.forceSendBulkEvents},i().createElement(kn,{complaints:R,gridType:be.gridType,host:A,isVideoCardPromoButtonsEnabled:X,isVideoViewedTimeEnable:le,isFeedbackEnabled:x,isOpenedModal:O,isPlayerPreloadingQueueEnabled:J,isVideoSubtitlesEnabled:ve,isSubscribeButtonAllowed:M,isVideoAutoplayEnabled:L,isVideoCardsDynamicPoster:Q,isVideoModalEnabled:ee,isVideoSite:I,isVideoInstreamAd:te,isAdActionButtonEnable:ne,shouldOpenCommentsInModal:!T.flightId&&!me,isVideoDirectLinkOnCard:ue,videoAutoPreviewInFeedV2:_e,videoAutoPreviewInFeedV2ByHover:fe,videoAutoPreviewInFeedV2IsLoop:ye,item:Re,itemHasFixedHeight:t,itemOrder:D,l10n:g,lang:v,log:_,clientLog:f,maxPlayerSizeRatio:ge.max,minPlayerSizeRatio:ge.min,onInvalidateCache:Le,scrollTo:h,setCallToActionShown:qe,theme:B,videoCallToSubscribeTextType:he.textType,videoCallToSubscribeTimestamp:he.paramSeconds,videoPlayerSettings:se,videoPlayersManager:k,videoPlayersPool:w,suiteId:V,onCancelLike:Ve,onClick:Oe,userAvatar:H,onConnectSource:Ne,onFeedback:Me,onModalOpen:He,onOpenSourceLink:De,onSetLike:Ze,onShow:je,onFullShow:ze,onLike:Ee,onDislike:Ee,onSubscribe:Ae,onUnsubscribe:Ee,onToggleSound:Ee,onToggleAutoplay:$e,onMouseEnter:We,onDeleteSuccess:Ue,openedItemId:F,shouldHideShareAndSubscribe:!1,isSkippableButtonAdShow:de,shouldSendShort:ie,shouldDeferEvents$:E,videoSkinRedesign:ae,shouldPreventDoubleLcpReport:re,shouldForcePreviewRender:Ke,shouldFocusOnCardHeader:b,isInInitialChunk:U,rowIndex:n,isVideoAutoPreviewEnabled:j,isDisabledAutoplayButKeepPreload:pe,requestRecommendationsChannels:Ye,pinProps:Ge,videoPageSelfTarget:we,onRtbLinkClick:Be,isAvailableToAddToSuite:G,onCreateSuiteSuccess:Xe,onAddToSuiteSuccess:Je,onRemoveFromSuiteSuccess:et,isSavedFeed:W,onToggleSavedPublication:tt,clid:Y,useSmartPopupDirection:ke,adPixelData:Se}))}))},53397:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var s=n(15944),i=n(74382);const a=(0,s.l)((0,i.ZP)({chunkName:()=>"modal",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(6582).then(n.bind(n,38611)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 38611}},{ssr:!1}))},15944:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var s=n(87363),i=n.n(s),a=n(94971);const r=e=>{class t extends s.Component{constructor(...e){return super(...e),this.state={error:null},this}componentDidCatch(e){const{onError:t}=this.props;this.setState({error:e}),t&&t(e)}render(){return this.state.error?null:i().createElement(e,this.props)}}return t.displayName=(0,a.S)("WithDesktopModalErrorHandling",e),t}},63179:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var s=n(87363),i=n.n(s),a=n(58755),r=n(56991),o=n(11328);const l=({renderTrigger:e,l10n:t,status:n,theme:l,menu:c,feedback:d,onUnsubscribe:u,onSubscribe:m,onBlock:p,onShow:h,onComplain:b,onDislike:g,onEdit:v,onTogglePinning:_,onMovePinUp:f,onMovePinDown:y,onAddToSuite:w,onRemoveFromSuite:k,onDelete:S,sourceTitle:E,isBodyScrollEnabled:C,targetRef:I,onContextMenuToggle:P,ignoreDefaultMenuItems:T,isPinned:R,onToggleSaved:A,savedStatus:x})=>{const{isMyChannelFeed:O,isMySuiteFeed:N,suiteName:M}=(0,s.useContext)(o.M),L=O||N,D=(0,s.useCallback)((()=>i().createElement(a.w,{l10n:t,sourceTitle:E,onShow:h,status:n,menu:c,theme:l,suiteName:M,onSubscribe:L?void 0:m,onUnsubscribe:L?void 0:u,onDislike:g,onComplain:b,onBlock:p,onEdit:v,onTogglePinning:_,onMovePinUp:f,onMovePinDown:y,onAddToSuite:w,onRemoveFromSuite:k,onDelete:S,feedback:d,iconsSize:"m",ignoreDefaultMenuItems:T,isPinned:R,onToggleSaved:A,savedStatus:x})),[t,l,E,b,h,c,n,L,M,m,u,g,p,v,_,f,y,w,k,S,d,T,R,A,x]);return i().createElement(r.T,{renderParentMenu:D,renderTrigger:e,l10n:t,theme:l,isBodyScrollEnabled:C,targetRef:I,onContextMenuToggle:P,withBack:!1,isHorizontal:!0})}},79100:(e,t,n)=>{"use strict";n.d(t,{b:()=>g});var s=n(23242),i=n.n(s),a=n(62508),r=n.n(a),o=n(68129);let l=new(i())({id:"icon-reload-s_1a98--inline",use:"icon-reload-s_1a98--inline-usage",viewBox:"0 0 18 18",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" id="icon-reload-s_1a98--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4a7 7 0 1 0 7 7h-2a5 5 0 1 1-5-5V4z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.586.5L16 5l-4.414 4.5-1-1 2-2.5H9V4h3.586l-2-2.5 1-1z" /></symbol>'});const c=(0,o.Z)(r(),l);var d=n(87363),u=n.n(d),m=n(13974),p=n(83137),h=n(88211);const b=(0,m.N)("error-reload-button-view"),g=({title:e,subtitle:t,onClick:n,children:s,size:i="m",link:a,align:r="left",theme:o="default"})=>{const{l10n:l}=(0,h.$)(),d=u().createElement(u().Fragment,null,u().createElement(p.P,{symbol:c,className:b("icon"),width:"s"===i?14:18}),s||l("onboarding.yabro_interests_retry")),m=a?u().createElement("a",{href:a,target:"_self",className:b("button"),onClick:n},d):u().createElement("button",{className:b("button"),onClick:n},d);return u().createElement("div",{className:b({size:i,align:r,theme:o})},e&&u().createElement("div",{className:b("title")},e),t&&"m"===i&&u().createElement("div",{className:b("subtitle")},t),m)}},99727:(e,t,n)=>{"use strict";n.d(t,{r:()=>c,v:()=>d});var s=n(87363),i=n.n(s),a=n(74251),r=n(66386),o=n(37972),l=n(28331);const c=()=>{const e=(0,a.od)(),t=(0,s.useContext)(r.s),n=(0,s.useContext)(l.W),i=(0,s.useContext)(o.U);return(0,s.useMemo)((()=>({cardFeaturesContext:e,statEventsLogContext:t,itemTypeContext:n,sharingContext:i})),[e,t,n,i])},d=({value:e,children:t})=>{const{cardFeaturesContext:n,statEventsLogContext:s,itemTypeContext:c,sharingContext:d}=e;return i().createElement(a.e9.Provider,{value:n},i().createElement(r.s.Provider,{value:s},i().createElement(l.I,{value:c},i().createElement(o.U.Provider,{value:d},t))))}},21937:(e,t,n)=>{"use strict";n.d(t,{g:()=>u});var s=n(87363),i=n.n(s),a=n(37471),r=n(44240),o=n(22796),l=n(13189),c=n(46591),d=n(99727);const u=({item:e,log:t,forceSendBulkEvents:n,children:c})=>{const u=(0,a.v9)(o.z9,a.wU),b=(0,s.useMemo)((()=>{const s=(0,r.K)(m(e)||r.q.unknown),{bulkParams:i}=p(e),a=h(e),o={log:t||l.c,bulkParams:i,forceSendBulkEvents:n||l.f};return{cardFeaturesContext:u,statEventsLogContext:o,itemTypeContext:s,sharingContext:a}}),[e,u,t,n]);return i().createElement(d.v,{value:b},c)},m=e=>{var t;const n=null==e||null==(t=e.rawItem)?void 0:t.item_type;return"string"==typeof n?n:void 0},p=e=>{switch(null==e?void 0:e.type){case c.qG.TEXT:case c.qG.IMAGE:case c.qG.GIF:case c.qG.SHORT_VIDEO:{const{bulkParams:t}=e;return{bulkParams:t}}case c.qG.SHOWCASE_CARD:{const{bulk_params:t}=e;return{bulkParams:t}}case c.qG.GALLERY:case c.qG.BRIEF:case c.qG.LIVE:case c.qG.LIVE_INTERLACED:{const{bulk_params:t}=e.rawItem||{};if("string"==typeof t)return{bulkParams:t}}}return{bulkParams:void 0}},h=e=>{var t,n;const s=null==e||null==(t=e.rawItem)||null==(n=t.sharing_menu)?void 0:n.repost_url;return{repostUrl:"string"==typeof s?s:void 0}}},11328:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var s=n(87363);const i=(0,s.createContext)({isMyChannelFeed:!1,isMySuiteFeed:!1,hasVerticalThreeDots:!1,suiteName:""})},52108:(e,t,n)=>{"use strict";n.d(t,{I:()=>m});var s=n(71037),i=n(74382),a=n(46591),r=n(41143),o=n(92928),l=n(6001),c=n(99426),d=n(88001);const u={[a.qG.IMAGE]:(0,s.Z)((0,i.ZP)({chunkName:()=>"desktop-card-image-2",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,89239)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 89239}})),[a.qG.TEXT]:(0,s.Z)((0,i.ZP)({chunkName:()=>"desktop-card-image-2",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,89239)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 89239}})),[a.qG.GIF]:(0,s.Z)((0,i.ZP)({chunkName:()=>"desktop-card-video-2",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,68693)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 68693}})),[a.qG.SHORT_VIDEO]:(0,s.Z)((0,i.ZP)({chunkName:()=>"desktop-card-video-2",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,68693)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 68693}})),[a.qG.LIVE]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-live",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(6445),n.e(6700),n.e(759),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(2607),n.e(19),n.e(9761),n.e(9634),n.e(8708)]).then(n.bind(n,52930)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 52930}})),[a.qG.LIVE_INTERLACED]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-live",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(6445),n.e(6700),n.e(759),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(2607),n.e(19),n.e(9761),n.e(9634),n.e(8708)]).then(n.bind(n,52930)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 52930}})),[a.qG.LIVE_RUN_OUT]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-live-run-out",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(3026).then(n.bind(n,41821)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 41821}})),[a.qG.HINT_EULA]:(0,s.Z)((0,i.ZP)({chunkName:()=>"hint-eula",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(5050).then(n.bind(n,20391)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 20391}})),[a.qG.USER_QUESTION]:(0,s.Z)((0,i.ZP)({chunkName:()=>"user-question",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(6907).then(n.bind(n,38042)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 38042}})),[a.qG.ONBOARDING_INTEREST_LIST]:(0,s.Z)((0,i.ZP)({chunkName:()=>"onboarding-interest-list",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(5858)]).then(n.bind(n,26289)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 26289}})),[a.qG.PROMO_LOGIN]:(0,s.Z)((0,i.ZP)({chunkName:()=>"auth-card",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,82196)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 82196}})),[a.qG.SHORT_VIDEO_CAROUSEL]:(0,s.Z)((0,i.ZP)({chunkName:()=>"source-block-text",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(759),n.e(720),n.e(2026),n.e(6710),n.e(3015),n.e(4378),n.e(5639),n.e(19),n.e(3468)]).then(n.bind(n,90977)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 90977}})),[a.qG.RTB]:o.m,[a.qG.GALLERY]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-gallery-desktop-2",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(6445),n.e(6700),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(4378),n.e(4960),n.e(1029),n.e(9761),n.e(9634),n.e(8467),n.e(6331)]).then(n.bind(n,1274)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1274}})),[a.qG.GALLERY_INTERLACED]:null,[a.qG.BRIEF]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-brief",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,7752)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 7752}})),[a.qG.SUBSCRIPTIONS_MORE]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-subscriptions-more",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(5791).then(n.bind(n,42147)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 42147}})),[a.qG.SUBSCRIPTIONS_HEADS]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-subscriptions-heads",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,31851)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 31851}})),[a.qG.INTERVIEW]:l.O,[a.qG.SHOWCASE_CARD]:(0,s.Z)((0,i.ZP)({chunkName:()=>"showcase-cards-factory",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(6445),n.e(6700),n.e(9371),n.e(6710),n.e(4960),n.e(3572),n.e(8776),n.e(4777)]).then(n.bind(n,7086)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 7086}})),[a.qG.RECOMMENDATIONS_CHANNELS]:(0,s.Z)((0,i.ZP)({chunkName:()=>"recommendations-channels",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(720),n.e(7429),n.e(4930),n.e(4251)]).then(n.bind(n,11201)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 11201}})),[a.qG.PROMO_PUBLISHERS_CAROUSEL]:(0,s.Z)((0,i.ZP)({chunkName:()=>"promo-publishers-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,86954)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 86954}})),[a.qG.PROMO_PUBLICATIONS_LIST]:(0,s.Z)((0,i.ZP)({chunkName:()=>"promo-publications-list",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(6943).then(n.bind(n,80499)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 80499}})),[a.qG.SEARCH_PUBLISHERS]:(0,s.Z)((0,i.ZP)({chunkName:()=>"search-publishers",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(1160).then(n.bind(n,83104)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 83104}})),[a.qG.NEWS]:c.l,[a.qG.HIDDEN]:d.v,[a.qG.PUBLISHERS_CONTENT_CAROUSEL]:(0,s.Z)((0,i.ZP)({chunkName:()=>"publishers-content-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(720),n.e(6418),n.e(8252)]).then(n.bind(n,29908)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 29908}})),[a.qG.LIVE_CAROUSEL]:(0,s.Z)((0,i.ZP)({chunkName:()=>"promo-publications-carousel-live",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(720),n.e(3007),n.e(6418),n.e(8416)]).then(n.bind(n,4727)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 4727}})),[a.qG.PROMO_PUBLICATIONS_CAROUSEL]:(0,s.Z)((0,i.ZP)({chunkName:()=>"promo-publications-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(720),n.e(3007),n.e(6418),n.e(1666)]).then(n.bind(n,84860)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 84860}})),[a.qG.AD_CAMPAIGN_CARD]:null,[a.qG.AD_CAMPAIGN_BANNER]:null},m=e=>({Component:u[e],Stub:r.K})},14395:(e,t,n)=>{"use strict";n.d(t,{f:()=>i,B:()=>a});var s=n(87363);const i=(0,s.createContext)({handleFeedback:()=>{},handleSafeClearFeed:()=>{}}),a=()=>(0,s.useContext)(i)},36231:(e,t,n)=>{"use strict";n.d(t,{O:()=>g});var s=n(19670),i=n(87363),a=n.n(i),r=n(71037),o=n(74382),l=n(84115),c=n(24209);const d=(0,i.createContext)(void 0);let u=!0;const m=()=>{u=!1},p=()=>a().createElement(d.Consumer,null,(e=>e?(u=!0,a().createElement(l.G,(0,s.Z)({},e,{openInFullscreen:!1}))):null)),h=(0,o.ZP)({chunkName:()=>"image-viewer",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(3805),n.e(7746)]).then(n.bind(n,78577)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 78577}},{ssr:!1,fallback:a().createElement(p,null)}),b=(0,r.Z)(h,{errorView:null}),g=(0,i.memo)((e=>{const{isFullscreen:t,closeFunc:n,fullscreenElementRef:r,canShowImageViewer:o}=(0,c.x)(e),l=(0,i.useMemo)((()=>Object.assign({},e,{handleClose:n,isParentInFullscreen:t})),[t,n,e]);return a().createElement("div",{ref:r},a().createElement(d.Provider,{value:l},o&&a().createElement(b,(0,s.Z)({},e,{isAfterLoadingComponent:u,handleClose:n,isParentInFullscreen:t,onInitializationDone:m,openInFullscreen:!1}))))}))},44640:(e,t,n)=>{"use strict";n.d(t,{C:()=>l});var s=n(71037),i=n(74382),a=n(18290),r=n(41143);const o={[a.q.SUBSCRIPTIONS_HEADS]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-subscriptions-heads",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,35323)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35323}})),[a.q.SUBSCRIPTIONS_HEADS_PLACEHOLDER]:(0,s.Z)((0,i.ZP)({chunkName:()=>"subscriptions-heads-placeholder",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(1681)]).then(n.bind(n,10443)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 10443}}))},l=()=>e=>({Component:o[e],Stub:r.K})},83013:(e,t,n)=>{"use strict";n.d(t,{oc:()=>a,ag:()=>r});var s=n(32976);const i={main:{ru:"На главную",_context:""},zen:{ru:"Лента",_context:""},video:{ru:"Видео",_context:""},shortVideo:{ru:"Ролики",_context:""},live:{ru:"Прямые эфиры",_context:""},showcase:{ru:"Интересное",_context:""},search:{ru:"Поиск по Дзену",_context:""},saved:{ru:"Сохранённое",_context:""},yourSubscriptions:{ru:"Ваши подписки",_context:""}},a=(0,s.Wh)(i),r=(0,s.bN)(i)},35323:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var s=n(87363),i=n.n(s),a=n(37471),r=n(22796),o=n(56720),l=n(46591),c=(n(14072),n(53208),n(77945)),d=n(46112),u=n(21770),m=n(95875),p=n(67726),h=n(95957),b=n(71102),g=n.n(b),v=n(86299),_=n(15018),f=n(40789),y=n(56017),w=n(83137),k=n(43939),S=n(62809),E=n(78432),C=n(32976);const I={minimize:{ru:"Свернуть",_context:""},more:{ru:"Ещё из подписок",_context:""}},P=(0,C.Wh)(I),T=((0,C.bN)(I),({className:e,rootRef:t,theme:n,renderSectionItem:a,title:r,visibleItemsLimit:o,sidebarWidth:l,subscriptions:c})=>{const d=(0,s.useRef)(null),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),b=(0,s.useMemo)((()=>({status:"complete",result:c.map((e=>Object.assign({},e,{id:e.source.strongestId||e.source.id})))})),[c]),C=r?i().createElement("div",{className:y.Z.header},r):void 0,I=(0,s.useCallback)((()=>{h((e=>!e))}),[]),T=(0,s.useCallback)((()=>{m(!1)}),[]),R=(0,s.useCallback)((()=>{m(!0)}),[]),A=(0,s.useMemo)((()=>{const e=p?i().createElement(P.minimize,null):i().createElement(P.more,null);return i().createElement("button",{ref:d,className:g()(y.Z.collapseButton,{[y.Z.compactSmall]:l===_.r.compactSmall}),onClick:I,onMouseEnter:R,onMouseLeave:T},l!==_.r.wide?i().createElement(E.m,{targetRef:d,theme:n,title:e,isOpen:u}):null,i().createElement("div",{className:y.Z.iconWrapper},i().createElement(w.P,{className:g()(y.Z.icon,{[y.Z.isCollapsed]:p}),symbol:k.Z,width:24,height:24})),i().createElement("div",{className:g()(y.Z.collapseButtonText,{[y.Z.isVideoSite]:false,[y.Z.isDesktop2Site]:false})},p?i().createElement(P.minimize,null):"",p?"":i().createElement(P.more,null)))}),[T,p,u,I,R,l,n]);return i().createElement("div",{className:g()(y.Z.leftSidebarSectionListView,e,{[y.Z.themeBlack]:n===f.D.black,[y.Z.themePortal]:n===f.D.portal}),ref:t},i().createElement(S.G,null,i().createElement(v.O,{header:C,data:b,isCollapsed:p,renderSectionItem:a,visibleItemsLimit:o,delay:0,collapseButton:A,withoutMargin:!0,shouldFlip:!1})))});var R=n(50895),A=n(66775),x=n(99498),O=n(83013);const N=(0,s.memo)((({theme:e,rootRef:t,sidebarWidth:n,sidebarHeight:a,subscriptions:r,isMorda:o})=>{const l=(0,s.useCallback)((t=>{const{logo:s,title:a,logoBackgroundColor:r,feedLink:l}=t.source;return i().createElement(R._,{url:l,target:"_blank"},(l=>i().createElement(A.w,{isActive:l,withNotifier:!0,isNotifierVisible:!1,title:a,sidebarWidth:n,theme:e,hasMarker:Boolean(t.unreadPostsCount),hasLiveMarker:Boolean(t.hasLive),icon:s?i().createElement(x.qE,{iconSize:24,src:s,backgroundColor:r,shouldUseDefaultImage:!1}):void 0,isMorda:o})))}),[o,n,e]);return i().createElement(T,{key:`${a}_${n}`,subscriptions:r,title:n===_.r.wide?i().createElement(O.oc.yourSubscriptions,null):"",renderSectionItem:l,rootRef:t,theme:e,visibleItemsLimit:o&&"undefined"!=typeof window&&window.innerHeight<=768?6:a===_.S.compact?3:7,sidebarWidth:n})})),M=(0,s.memo)((({theme:e,log:t,onShow:n,onFullShow:a,shouldDeferEvents$:r,host:o,sidebarWidth:l,sidebarHeight:b,bulkParams:g,subscriptions:v,isMorda:_})=>{const f=(0,s.useCallback)(((e,n)=>t(e,Object.assign({},n,{bulkParams:g}))),[g,t]),[y]=(0,s.useState)((()=>(0,m.f)(f))),[w,k,S,E,C]=(0,c.c)();(0,p.D)({timeout:h.B,isVisible$:C,onShow:a}),(0,d.E)({isToothVisible$:k,isVisible$:S,isIntersecting$:E,shouldDeferEvents$:r,onShow(){y.showHeadsPanel(),n()},onShort(){}});const I=(0,u.e)(w);return i().createElement(N,{theme:e,subscriptions:v,rootRef:I,host:o,log:t,sidebarWidth:l,sidebarHeight:b,isMorda:_})})),L=(0,s.memo)(M);var D=n(23268),B=n(98014),F=n(22694),Z=n(45304),V=n(42478),U=n(66699),j=n(32481),z=n(86297);const H=(0,s.memo)((({id:e,sidebarWidth:t,sidebarHeight:n,isMorda:c})=>{const d=(0,a.I0)(),{shouldDeferEvents$:u,zenApi:m,globalBus:p}=(0,D.vv)();(0,Z.cW)(u);const{log:b}=(0,F.B)(),g=(0,V.u)(void 0),{item:v,theme:_,subscriptions:f}=(0,a.v9)((t=>{const n=(0,r.Vw)(t,e,l.qG.SUBSCRIPTIONS_HEADS),s=(0,o.FS)(t),{subscriptions:i}=t.leftSidebar;return{item:n,theme:s,subscriptions:i}}),a.wU),y=(0,s.useMemo)((()=>(0,j.Hj)(z.X,v.rawItem,"data в головах левого сайдбара")),[v.rawItem]);(0,s.useEffect)((()=>{d((0,U.O)(y.items))}),[d,y]);const w=(0,h.$)(v.packId,v.cacheId,g),k=(0,s.useCallback)((()=>{m.packShown(v.packId,v.cacheId),p.emit("zenCardShow",v.type)}),[m,p,v.packId,v.cacheId,v.type]),S=(0,B.su)();return i().createElement(L,{id:e,log:b,theme:_,onShow:k,onFullShow:w,shouldDeferEvents$:u,host:S,sidebarWidth:t,sidebarHeight:n,bulkParams:y.bulkParams,subscriptions:f,isMorda:c})}))},78432:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var s=n(87363),i=n.n(s),a=n(13974),r=n(66461);const o=(0,a.N)("left-sidebar-item-tooltip-view"),l=(0,s.memo)((({targetRef:e,title:t,close:n,isOpen:s=!1,theme:a})=>i().createElement(r.$,{className:o("tooltip",{theme:a}),anchor:e,hasTail:!0,direction:"right",visible:s,onClose:n,mainOffset:-4,keepMounted:!1},i().createElement("div",{className:o("wrap")},t))))},66775:(e,t,n)=>{"use strict";n.d(t,{w:()=>b});n(14072),n(53208);var s=n(87363),i=n.n(s),a=n(13974),r=n(45424),o=n(78432),l=n(78946),c=n(15018),d=n(43278),u=n(67726),m=n(33566),p=n(10226);const h=(0,a.N)("left-sidebar-item-view"),b=({icon:e,isActive:t,theme:n,className:b,classNameIconBox:g,classNameTitle:v,classNameShortTitle:_,onClick:f,onShow:y,title:w,shortTitle:k,sidebarWidth:S,buttonRef:E,hasMarker:C,hasLiveMarker:I,isMorda:P})=>{const[T,R]=(0,m.O)(),A=(0,s.useRef)(null),[x,O]=(0,s.useState)(!1),N=(0,p.f)();(0,u.D)({isVisible$:R,onShow:y}),(0,r.s)({pressRef:A,animationTime:80,unpressDelay:20,pressedClassName:"_is-pressed"});const M=(0,s.useCallback)((()=>{O(!1)}),[]),L=(0,s.useCallback)((()=>{O(!0)}),[]),D=(0,l.l)([A,E,T].filter(Boolean)),B=(0,s.useMemo)((()=>w&&S!==c.r.wide?i().createElement(o.m,{targetRef:A,theme:n,title:w,isOpen:x}):null),[x,S,n,w]);return i().createElement("div",{className:(0,a.C)(h({active:t&&N,noIcon:!e,theme:n,width:S,morda:P}),b),ref:D,onClick:f,onMouseEnter:L,onMouseLeave:M},B,e?i().createElement("div",{className:(0,a.C)(h("icon-box"),g)},I?i().createElement(d.i,{className:(0,a.C)(h("live")),isAroundAvatar:!0}):null,e,!I&&C&&i().createElement("div",{className:h("marker")})):null,i().createElement("div",{className:(0,a.C)(h("title"),v)},w),k&&i().createElement("div",{className:(0,a.C)(h("title"),_)},k))}},15018:(e,t,n)=>{"use strict";let s,i;n.d(t,{r:()=>s,S:()=>i}),function(e){e.wide="wide",e.compact="compact",e.compactSmall="compact-small"}(s||(s={})),function(e){e.high="high",e.compact="compact"}(i||(i={}))},20761:(e,t,n)=>{"use strict";n.d(t,{qw:()=>d,CR:()=>u,kP:()=>m});var s=n(67300),i=n(22262),a=n(87363),r=n(50423),o=n(17513),l=n(95875),c=n(22694);const d=({sectionId:e})=>{const{clientClick:t}=(0,i.n)(),n=(e=>{switch(e){case s.p.mainFeed:return"tab.feed";case s.p.video:return"tab.video";case s.p.shorts:return"tab.short";case s.p.discover:return"tab.showcase";case s.p.myChannel:return"tab.channel";case s.p.saved:return"tab.bookmarks";case s.p.lives:return"tab.live";default:return""}})(e);return{clientClick:(0,a.useCallback)((()=>{n&&t(n,{})}),[t,n])}},u=({source:e,pos:t})=>{const{bulkParams:n}=e,s=(0,r.I)(n),i={isSource:!0,place:"left_column",pos:t};return{onSourceShow:(0,o.U)(n).bind(i),onSourceClick:s.bind(i)}},m=()=>{const{clientLog:e}=(0,c.B)(),{clickLessButton:t,clickMoreButton:n}=(0,l.Zy)(e,{place:"left_column"});return{onMoreClick:n,onLessClick:t}}},66788:(e,t,n)=>{"use strict";n.d(t,{l:()=>d,o:()=>u});var s=n(32358),i=n(89294),a=n(49847);const r=[1e3,3e3,15e3],o={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},l={reachGoal:()=>{}},c={},d=async e=>{const t=`yaCounter${e.id}`;return window[t]&&"function"==typeof window[t].reachGoal?(c[e.id]=window[t],window[t]):(c[e.id]||(c[e.id]=(async e=>{try{const t=(e=0)=>(0,s.V)("https://mc.yandex.ru/metrika/watch_zen.js",{invalidate:!0}).catch((n=>{if(r[e])return(0,i.D)(r[e]).then((()=>t(e+1)));throw n}));return await t(),window.Ya&&window.Ya.Metrika?new window.Ya.Metrika(Object.assign({},o,e)):(console.warn("withMetrikaGoal: window.Ya.Metrika not found"),l)}catch(e){return console.warn("withMetrikaGoal: metrika load error:",e),l}})(e)),c[e.id])},u=e=>{if("undefined"==typeof window||a.d)return()=>{};const t=d({id:e});return async e=>{(await t).reachGoal(e)}}},72602:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var s=n(48650),i=n(88583),a=n(89294),r=(n(14072),n(15433));const o=async(e=!1)=>{(0,i.Kg)();const t=await(()=>{const e=document.querySelector(".zen-app");return e?Promise.resolve((0,r.u)(e)):Promise.resolve(0)})();return await s.O.scrollTo({top:t,animate:e}),await(0,a.D)(1e3),(0,i.YZ)()}},1654:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var s=n(87363),i=n(37471),a=n(66788),r=n(88144);const o=(e,t=!1)=>{const{disableMetrikaExp:n}=(0,i.v9)(r.a),o=Boolean(t||n);return(0,s.useCallback)((async t=>{if(o)return;(await(0,a.l)(e)).reachGoal(t)}),[e,o])};const l={id:n(43610).rV,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0};var c=n(49847);const d=e=>{const t=o(l);return(0,s.useCallback)((()=>c.d?()=>{}:t(e)),[t,e])}},12437:(e,t,n)=>{"use strict";n.d(t,{z:()=>m});var s=n(19670),i=(n(14072),n(87363)),a=n.n(i),r=n(32034),o=n(94971),l=n(73119),c=n(38266);const d={fetchThreshold:0},u=e=>({status:l.L.Pending,fetchResult:null,fetchError:null,isFetchThresholdPassed:!e.fetchThreshold}),m=e=>t=>{const n=(0,c.xh)(e,(e=>Object.assign({},d,e)));class m extends i.PureComponent{constructor(...e){return super(...e),p.call(this),this}componentWillUnmount(){this._isUnmounted=!0}render(){const e=(0,c.xh)(n,((e,t)=>this._asyncDataPropsSelectors[t](this.state,this._fetchers)));return a().createElement(t,(0,s.Z)({},this.props,e))}}m.displayName=(0,o.S)("WithAsyncProps",t);var p=function(){this.state=(0,c.xh)(n,u),this._isUnmounted=!1,this._fetchers=(0,c.xh)(n,((e,t)=>{let n;const s=()=>this.state[t],i=e=>new Promise((n=>{this._isUnmounted||this.setState((n=>({[t]:Object.assign({},n[t],e)})),n)}));return(...t)=>{let a;const r=e=>(...t)=>{if(a===n)return e(...t)};return i(u(e)),e.fetchThreshold&&setTimeout(r((()=>{s().status===l.L.Pending&&i({isFetchThresholdPassed:!0})})),e.fetchThreshold),a=n=e.fetch(this.props,...t).then(r((e=>{const t={status:l.L.Success,fetchResult:e,fetchError:null};return i(t),t})),r((e=>{console.warn(e);const t={status:l.L.Error,fetchResult:null,fetchError:e};return i(t),t})))}})),this._asyncDataPropsSelectors=(0,c.xh)(n,((e,t)=>(0,r.P1)((e=>e[t]),((e,n)=>n[t]),((e,t)=>Object.assign({},e,{fetch:t})))))};return m}},62809:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var s=n(87363),i=n.n(s),a=n(43808),r=n(54934);const o={subtree:!0,attributes:!0},l=({children:e})=>{const t=(0,s.useRef)(null),n=(0,s.useRef)(null),l=(0,s.useRef)(),c=(0,s.useCallback)((0,r.P)((()=>requestAnimationFrame((()=>{const e=t.current,s=n.current;e&&s&&(e.style.height=`${s.offsetHeight}px`)}))),53),[]);return(0,a.I)(n,o,c),(0,s.useEffect)((()=>()=>{l.current&&window.clearTimeout(l.current)})),i().createElement("div",{ref:t},i().createElement("div",{ref:n},e))}},75653:(e,t,n)=>{"use strict";n.d(t,{E:()=>R,G:()=>A});var s=n(19670),i=n(87363),a=n.n(i),r=n(37471),o=n(17306),l=n(41624),c=n(87106),d=n(82028),u=n(32006),m=n(88144),p=n(56720),h=n(84113),b=n(81235),g=n(88644);var v=n(88211),_=n(96497),f=n(16001),y=n(45506),w=n(16624),k=n(45312),S=n(2604),E=n(28349);const C=({context:e})=>{const{isZenkit:t,isIzenkit:n}=e.uatraits||{isIzenkit:!1,isZenkit:!1};return t||n};var I=n(7760),P=n(81066),T=n(51749);const R="LOGIN_POPUP_MODAL_ROUTE_KEY",A=({containerRef:e,handleClose:t})=>{const n=(0,o.dD)(),{tld:R,loginPopupData:A,bulkParams:x,theme:O,channelInfo:N,isZenKit:M,loginTmpl:L,shouldOpenPassportInSameTab:D}=(0,r.v9)((e=>{const{loginPopup:t,links:n}=e,{login_tmpl:s}=n;if(null===t)return{};if(!t.data)return{};const{subscribeLoginPopupMessage:i,likeLoginPopupMessage:a,shouldOpenPassportInSameTab:r}=(0,m.a)(e),o=t.data,{tld:l,bulk:c}=e.params,{bulk_params:d}=c,u=o.triggerAction===I.D.Like?a:i;return{tld:l,channelInfo:o.triggerAction===I.D.Subscribe?{logo:o.source.logo,title:o.source.title}:{},popupMessage:u,loginPopupData:o,bulkParams:d,theme:(0,p.FS)(e),isZenKit:C(e),loginTmpl:s,shouldOpenPassportInSameTab:r}}),r.wU),B=(0,i.useRef)(!1),F=null==A?void 0:A.triggerAction,Z=null==A?void 0:A.itemIdForStats,V=(({bulkParams:e,itemIdForStats:t})=>{const n=(0,h.P)(e);return(0,i.useCallback)((s=>{if(!e||!t)return null;n(s,{bulkReplaceMap:{__place_param__:g.EQ.Feed,__item_id__:t,__item_type__:"login_popup",__page_type__:b.Xw.Feed}})}),[n,t,e])})({itemIdForStats:Z,bulkParams:x}),U=(0,i.useCallback)((()=>{B.current||V((0,T.q)("login_popup:later"))}),[V,B]);(0,S.n)((()=>(V((0,T.q)("login_popup:show")),U)));const{l10n:j}=(0,v.$)(),z=(0,y.m)(w.Mr),H=(0,i.useCallback)((()=>{t?t():z()}),[t,z]),q=(0,i.useCallback)((()=>{if(!A||!Z||!F)return;const e=Object.assign({},A,{itemIdForStats:Z,ts:Date.now()});let t;switch(A.triggerAction){case I.D.Like:t=A.id;break;case I.D.Subscribe:t=A.source.id}try{const n=JSON.stringify(e);t&&l.w.setItem((0,P.HX)(t,F),n)}catch(e){console.warn(e)}if(M)window.location.href="zenkit://authorize";else{const e=A.triggerAction===I.D.Subscribe?A.source.feedLink:null,n=`https://passport.yandex.${R}/auth/`,s=(0,_.BE)(),i=(0,_.No)(),a=(0,f.pf)(i+s),r=`after_login_${F}`,o=e?(0,d.Zd)(e,{[r]:t}):(0,d.Zd)(i,Object.assign({[r]:t},a)),l=(0,_.en)(o),c=((null==l?void 0:l.pathname.slice(1))||"")+(null==l?void 0:l.search)||"",m=window.open();m&&(m.opener=null,D||(m.target="_blank"),m.location=L?(0,u.SX)({template:L,value:c}):(0,k.wT)(n,o))}B.current=!0,V((0,T.q)("login_popup:enter")),H()}),[R,A,Z,F,M,V,H,D,L]),$={subscribe:{titleText:(0,E.c2)(j("zen_subscriptions.login_popup.login_for_subscribe").replace("$1",`«${null==N?void 0:N.title}»`||j("zen_subscriptions.login_popup.channel"))),descriptionText:(0,E.c2)(j("zen_subscriptions.login_popup.move_your_subscriptions")),buttonText:j("zen_subscriptions.login_popup.login"),buttonCloseText:j("zen_subscriptions.login_popup.subscribe_another_time")},poll:{titleText:j("zen_poll.login_popup.login_for_vote"),descriptionText:"",buttonText:j("zen_poll.login_popup.login"),buttonCloseText:j("zen_poll.login_popup.vote_another_time")}},G=F===I.D.Poll?"poll":"subscribe";return a().createElement(c.Ol,(0,s.Z)({theme:O,containerRef:e,viewType:G,isMobile:n,onClick:q,onCloseClick:H,image:null==N?void 0:N.logo},$[G]))}},89993:(e,t,n)=>{"use strict";let s;n.d(t,{h:()=>s}),function(e){e.mainpage="mainpage",e.betterRecommend="better_recommend",e.saveSource="save_source",e.tuneFeed="tune_feed",e.saveInProfile="save_in_profile",e.empty="empty"}(s||(s={}))},55785:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});var s=n(87363),i=n.n(s),a=n(13974),r=n(25013),o=n(8245),l=n(13464);const c=(0,a.N)("luring-into-video-modal"),d=({onClick:e,l10n:t,isMobile:n,withAnimation:s=!0,videoPlayerPublicApi:a,clickable:d})=>{const{nextAdRemainingTime:u,watchedTime:m=0}=(0,o.U)(a,"nextAdRemainingTime","watchedTime"),{isHovered:p,onMouseEnter:h,onMouseLeave:b}=(0,r.C)(),g=m>=3&&m<6;return i().createElement("div",{className:c()},i().createElement("div",{className:c("wrapper"),onMouseEnter:h,onMouseLeave:b},i().createElement(l.D,{animationType:"slide-with-icon",isVisible:g&&n&&s,text:t("common.luring-into-video-modal.sound-short"),isHovered:p,onClick:t=>e(t),isMobile:n,isDisabled:Boolean(u&&u<=5)}),d))}},37147:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});const s="BLOCKED_MODAL_ROUTE_KEY"},62552:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var s=n(87363),i=n.n(s),a=n(71102),r=n.n(a),o=n(17306);const l="modal-header__header-3C",c="modal-header__header_mobile-2x",d="modal-header__header_withBorder-3G",u=(0,s.memo)((({title:e,withBorder:t})=>{const n=(0,o.dD)();return i().createElement("h2",{className:r()(l,n&&c,t&&d)},e)}))},89432:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});n(14072),n(53208);var s=n(95340),i=n(19460);const a=({location:e,forcedModalRoute:t,modalRoutes:n})=>{if(t&&n[t]&&n[t].forced)return{routeId:t,match:null,backgroundFromLocation:n[t].backgroundFromLocation};for(const t of(0,i.u)(n)){const i=n[t];if(i.path){const n=(0,s.LX)(e.pathname,i);if(n)return{routeId:t,match:n,backgroundFromLocation:i.backgroundFromLocation}}}return null}},50895:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});var s=n(87363),i=n.n(s),a=n(13974),r=n(13616),o=n(96497),l=n(31665),c=n(98014),d=n(37471),u=n(6191);const m=(0,a.N)("nav-menu-item"),p=({route:e,children:t,className:n,pressRef:p,source:h,containerRef:b,onClick:g,onPreventClick:v,title:_,isPageInCurrentSpa:f,url:y,target:w,notActive:k})=>{var S,E,C;const I=(0,r.TH)(),P=null!=(S=null!=(E=null!=y?y:e)?E:null==h?void 0:h.feedLink)?S:"",T=null!=(C=(0,o.en)(decodeURI(P)))?C:{pathname:"",hostname:"",search:""},R=!k&&I.pathname===T.pathname,A=(0,s.useMemo)((()=>{if(!h)return;const{id:e,feedLink:t,logo:n,logoBackgroundColor:s,type:i,status:a,title:r}=h;return{id:e,feedLink:t,logo:n,title:r,logoBackgroundColor:s,type:i,status:a}}),[h]),x=(0,l.v)(A,g),O=(({onClick:e,isPageInCurrentSpa:t,link:n})=>{const i=(0,d.I0)(),a=(0,d.v9)((e=>e.params.isSpaApp)),r=(0,d.v9)((e=>{var t;return null==(t=e.router)?void 0:t.location}));return(0,s.useCallback)((s=>{a&&t?(null==s||s.preventDefault(),e&&e(s),r.pathname!==n&&i((0,u.Kv)(n))):null==e||e(s)}),[i,a,r.pathname,e,t,n])})({isPageInCurrentSpa:f,link:P}),N=i().createElement("div",{className:m("content"),ref:p},(0,s.isValidElement)(t)?t:t(R)),M=!h;let L="";return L=void 0!==w?w:!f||M?"_self":"_blank",R?i().createElement("div",{className:a.N.mix(m(),n),ref:b,onClick:g},N):i().createElement(c.PY,{className:a.N.mix(m(),n),href:y||(h?h.feedLink:T.pathname),onClick:v||(M?O:x),ref:b,title:_,target:L},N)}},81309:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,A:()=>o});var s=n(87363),i=n.n(s),a=n(40166);const r="PASSPORT_PROFILE_MODAL_HEADER_ROUTE_KEY",o=()=>i().createElement(a.f,{origin:"zen_header"})},40929:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});const s="PASSPORT_PROFILE_MODAL_PROFILE_ROUTE_KEY"},33337:(e,t,n)=>{"use strict";n.d(t,{n:()=>o,j:()=>c});var s=n(87363),i=n.n(s),a=n(13974),r=n(77742);const o="PASSPORT_PROFILE_MODAL_PUBS_ROUTE_KEY",l=(0,a.N)("passport-profile-modal-content"),c=(0,s.memo)((()=>{const e=(0,r.O)("zen_header",`${window.location.origin}/login.html`);return i().createElement("div",{className:l()},i().createElement("iframe",{className:l("iframe"),frameBorder:"0",src:e}))}))},40166:(e,t,n)=>{"use strict";n.d(t,{f:()=>h});var s=n(87363),i=n.n(s),a=n(37471),r=n(13974),o=n(2604),l=n(77742);const c=(0,r.N)("passport-profile-modal-content"),d=({origin:e,onIframeMessage:t,retpath:n,isMobile:s})=>{(0,o.n)((()=>(window.addEventListener("message",t,!1),()=>window.removeEventListener("message",t))));const a=(0,l.O)(e,n);return i().createElement("div",{className:c()},i().createElement("iframe",{className:c("iframe",{isMobile:s}),frameBorder:"0",src:a}))};var u=n(16624),m=n(2085),p=n(8708);const h=(0,s.memo)((({origin:e})=>{const t=(0,a.v9)((e=>e)),n=(0,p.l2)(t),{isMobile:r}=t.params,o=(0,a.I0)(),l=(0,s.useCallback)((e=>{(e.data.updateDisplayName||"success"===e.data.updateAvatar)&&o((({uid:e,publicId:t},n)=>s=>{t&&s((0,m.CX)(t,{isPublic:!n})),s((0,m.CX)(e,{isPublic:!n}))})(n,r)),e.data.updateDisplayName&&o((0,u.Mr)())}),[o,r,n]);return i().createElement(d,{origin:e,onIframeMessage:l,retpath:`${window.location.origin}/login.html`,isMobile:Boolean(r)})}))},5954:(e,t,n)=>{"use strict";n.d(t,{z:()=>b});n(14072),n(53208);var s=n(87363),i=n.n(s),a=n(61533),r=n.n(a),o=n(73386);const l=[];let c=!1;const d="undefined"!=typeof MessageChannel;function u(){let e=l.shift();for(;null!=(t=e)&&t.isCanceled;){var t;e=l.shift()}if(!e)return;const n=e;if(c=!0,d){const e=new MessageChannel;e.port1.postMessage(null),e.port2.addEventListener("message",(()=>{try{n.isCanceled||n.fn()}finally{c=!1,u()}}),{once:!0}),e.port2.start()}else setTimeout((()=>{try{n.isCanceled||n.fn()}finally{c=!1,u()}}),0)}const m=e=>{const t={fn:e,isCanceled:!1};return l.push(t),c||u(),()=>{t.isCanceled=!0}};var p=n(1910),h=n(99727);const b=({children:e,config:t,isInInitialChunk:n=!1,rowIndex:a,shouldDeferEvents$:l})=>{const c=(0,s.useRef)(null),d=(0,s.useRef)(!1),u=(0,s.useRef)(),b=(0,h.r)(),g=void 0===t||!t.isEnabled||!n,[v,_]=(0,s.useState)(!0);(0,o.m)((()=>l),(e=>{_(e)}));const f=void 0!==t&&void 0!==a&&v&&a>=t.rowsHydratedOnStart;(0,p.L)((()=>{if(g||f)return;const t=i().createElement(h.v,{value:b},e);if(!d.current)return u.current&&u.current(),u.current=m((()=>{r().hydrate(t,c.current),d.current=!0})),()=>{u.current&&u.current()};r().render(t,c.current)}),[g,f,e]);const y={height:"inherit",width:"inherit"};return g?i().createElement("div",{style:y,ref:c},e):i().createElement("div",{style:y,ref:c,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}})}},82196:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});n(14072),n(53208);var s=n(87363),i=n.n(s),a=n(37471),r=n(17306),o=n(21770),l=n(40789),c=n(33566),d=n(67726),u=n(14052),m=n(19456),p=n(87712),h=n(35029),b=n(32481),g=n(51780),v=n(86826),_=n(78147),f=n(30373),y=n(75971);const w=(0,g.v)({logo:v.Z_}),k=(0,g.v)({sources:(0,_.w)((0,f.I)(w)),bulkParams:v.Z_,statEvents:y.np,type:v.Z_});var S=n(22796),E=n(56720),C=n(46591),I=n(88211),P=n(95737),T=n(6060),R=n(95875),A=n(22694),x=n(28349),O=n(71102),N=n.n(O);const M="promo-login-card__container-2Q",L="promo-login-card__container_theme_black-3e",D="promo-login-card__title-2Q",B="promo-login-card__container_theme_portal-3S",F="promo-login-card__subtitle-ne",Z="promo-login-card__logo-pN",V="promo-login-card__logo_isMobile-2Q",U="promo-login-card__subtitle_isMobile-1G",j="promo-login-card__container_isMobile-38",z="promo-login-card__button-25",H="promo-login-card__logos-1d",q="promo-login-card__illustration-1p",$=(0,s.memo)((({id:e})=>{const{l10n:t}=(0,I.$)(),n=(0,r.dD)(),{item:g,theme:v,link:_}=(0,a.v9)((t=>({item:(0,S.Vw)(t,e,C.qG.PROMO_LOGIN),theme:(0,E.FS)(t),link:t.params.loginLink})),a.wU),{bulkParams:f,sources:y}=(0,s.useMemo)((()=>(0,b.Hj)(k,g.rawItem,"Карточка залогина в фиде")),[g]),{log:w}=(0,A.B)(),O=(0,s.useCallback)(((e,t)=>w(e,Object.assign({},t,{bulkParams:f}))),[f,w]),[$]=(0,s.useState)((()=>(0,R.cq)(O,void 0))),{containerRef:G,getHeight:W}=(0,T.E)(),[Y,K]=(0,c.O)(),X=(0,o.e)(Y,G);(0,d.D)({isVisible$:K,onShow:()=>$.show(W())});const J=n?y:null==y?void 0:y.slice(0,2),Q=n?72:58;return i().createElement(P.U,{ref:X,theme:v},i().createElement("div",{className:N()(M,v===l.D.black&&L,v===l.D.portal&&B,n&&j)},null!=J&&J.length?i().createElement(i().Fragment,null,i().createElement("div",{className:H},J.map((({logo:e},t)=>i().createElement("img",{className:N()(Z,n&&V),style:{zIndex:J.length-t},src:e,key:e,width:Q,height:Q})))),i().createElement("div",null,i().createElement("h2",{className:D},t("common.login_popup.not_lose_subscriptions2")),i().createElement("div",{className:N()(F,n&&U)},(0,x.c2)(t("common.login_popup.auth_after_subscribe"))))):i().createElement(i().Fragment,null,n&&i().createElement("img",{height:174,width:375,className:q,src:"https://static.dzeninfra.ru/s3/zen-misc/images/promo_login.png"}),i().createElement("h2",{className:D},(0,x.c2)(t("common.login_popup.login_to_subscribe")))),i().createElement(u.X4,{viewType:m.c.carrot,theme:v,onClick:()=>{$.click()},pinType:p.R.circle,size:h.u.xs,className:z,isMobile:!1,href:_||"",target:"_blank"},t("zen_subscriptions.login_popup.login"))))}))},86954:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var s=n(87363),i=n.n(s),a=n(37471),r=n(32481),o=n(37828),l=n(46591),c=n(22796),d=n(49718),u=n(76480),m=n(88144),p=n(92050),h=n(45506),b=n(44784),g=n(21937),v=n(9273),_=(n(14072),n(53208),n(71102)),f=n.n(_),y=n(21770),w=n(49147),k=n(83137),S=n(33566),E=n(67726),C=n(28899),I=n(88211),P=n(95875),T=n(14659),R=n(95737),A=n(95184),x=n(39941);const O=(0,s.memo)((({item:e,cardType:t})=>{const{l10n:n}=(0,I.$)(),s=(0,C.tD)(),{rootRef:a,connectedSource:r,toggleSubscribe:o,handleOpenSourceLink:l}=(0,A.k)({cardType:t,bulkParams:e.bulkParams,initialSource:e.source});return i().createElement(x.Q,{rootRef:a,l10n:n,theme:s,source:r,toggleSubscribe:o,handleOpenSourceLink:l,hasLightDescription:!0,isCompact:!0})}));var N=n(29416);const M=e=>window.innerHeight-8>e.clientHeight,L=e=>{const[t,n]=(0,s.useState)(e),i=(0,s.useRef)(null),a=(0,s.useRef)(0),r=(0,s.useRef)(0),o=(0,s.useRef)(!1),l=(0,s.useRef)(!1),c=()=>{(0,N.d)(i,{position:"sticky",top:"8px",marginTop:"0"})},d=(0,s.useCallback)((()=>{const t=i.current;if(!t||!e)return;const n=(e=>window.scrollY+e.getBoundingClientRect().top)(t),s=a.current;s||(a.current=n);const d=window.scrollY+window.innerHeight-8;if(d<=s+t.clientHeight)return;const u=window.innerHeight-t.clientHeight-8;if(r.current-window.scrollY<0){const e=l.current&&"relative"!==t.style.position,a=d>=n+t.clientHeight&&"sticky"!==t.style.position;e?((0,N.d)(i,{position:"relative",top:"0",marginTop:window.scrollY-s+8+"px"}),l.current=!1):a&&((0,N.d)(i,{position:"sticky",top:`${u}px`,marginTop:"0"}),o.current=!0)}else{const e=o.current&&"relative"!==t.style.position,a=n-8>=window.scrollY&&"sticky"!==t.style.position;e?((0,N.d)(i,{position:"relative",top:"0",marginTop:`${window.scrollY-s+u}px`}),o.current=!1):a&&(c(),l.current=!0)}r.current=window.scrollY}),[e]);return(0,s.useEffect)((()=>{if(i.current&&e){if(!M(i.current))return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)};n(!1)}}),[d,e]),(0,s.useEffect)((()=>{if(!e)return;const s=()=>{i.current&&(M(i.current)?(window.removeEventListener("scroll",d),c(),n(!1)):t||(n(!0),window.removeEventListener("scroll",d),window.addEventListener("scroll",d)))};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}}),[d,t,e]),{shouldAdjust:t,containerRef:i}};var D=n(88051);const B="channels-list-sidebar__container-1r",F="channels-list-sidebar__container_sticky-1b",Z="channels-list-sidebar__container_relative-18",V="channels-list-sidebar__channelsList-1k",U="channels-list-sidebar__header-2i",j="channels-list-sidebar__title-1d",z="channels-list-sidebar__subtitle-2w",H="channels-list-sidebar__showcaseButton-2F",q="channels-list-sidebar__icon-N1";var $=n(32976);const G={sideBarTheme:{ru:"Интересное на тему:",_context:""}},W=((0,$.Wh)(G),(0,$.bN)(G)),Y=(0,s.memo)((({channels:e,shouldDisableSticking:t=!1,handleInteract:n})=>{const{l10n:a}=(0,I.$)(),r=(0,C.tD)(),o=(0,$.bU)(),l=`${W.sideBarTheme(o)} ${e.title}`,{rootRef:c,logCard:d}=(0,T.h)({bulkParams:e.bulkParams,shouldSendShort:!1}),[u]=(0,s.useState)((()=>(0,P.lD)(d))),[m,p]=(0,S.O)();(0,E.D)({isVisible$:p,onShow:u.showShowcaseButton});const h=!t,{containerRef:b,shouldAdjust:g}=L(h),v=(0,y.e)(b,c);return i().createElement(R.U,{className:f()(B,g&&Z,h&&F),ref:v,theme:r,onClickCapture:n},i().createElement("div",{className:U},i().createElement("h2",{className:j},e.title),e.subtitle&&i().createElement("span",{className:z},e.subtitle)),i().createElement("div",{className:V,"aria-label":l},e.items.map((t=>i().createElement(O,{key:t.source.id,item:t,cardType:e.type})))),i().createElement(w.P,{className:H,href:e.showcaseLink,onClick:u.clickShowcaseButton,"aria-label":e.title,ref:m},a("zen_subscriptions.other_collections"),i().createElement(k.P,{symbol:D.Z,className:q,width:16,height:16})))}));var K=n(17306),X=n(40266);const J=(0,s.memo)((({id:e,inSidebar:t})=>{const n=(0,K.dD)(),{handleInteract:_}=(0,X.M2)(),{item:f,recommendationsChannelsSidebar:y,recommendationsChannelsSidebarNonSticky:w,recommendationsCarouselTwoRowsRedesignDesktop:k,twoRowsCarouselTouch:S}=(0,a.v9)((t=>{const n=(0,c.Vw)(t,e,l.qG.PROMO_PUBLISHERS_CAROUSEL),{recommendationsChannelsSidebar:s,recommendationsChannelsSidebarNonSticky:i,recommendationsCarouselTwoRowsRedesignDesktop:a,twoRowsCarouselTouch:r}=(0,m.a)(t);return{item:n,recommendationsChannelsSidebar:s,recommendationsChannelsSidebarNonSticky:i,recommendationsCarouselTwoRowsRedesignDesktop:a,twoRowsCarouselTouch:r}}),o.v),E=(0,s.useMemo)((()=>(0,r.Hj)(u.X,f.rawItem,"Промо блок с каналами")),[f]),C=(0,h.m)(v.wz),I=n&&!S?p.x:S||k?b.y:d.r;return i().createElement(g.g,{item:void 0,log:void 0,forceSendBulkEvents:void 0},y&&t?i().createElement(Y,{shouldDisableSticking:w,channels:E,handleInteract:_}):i().createElement(I,{channels:E,itemId:e,openModal:C}))}))},49309:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var s=n(71037),i=n(74382),a=n(88207),r=n(41143);const o={[a.q.SUBSCRIPTIONS_HEADS]:(0,s.Z)((0,i.ZP)({chunkName:()=>"card-subscriptions-heads",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,35323)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35323}})),[a.q.PROMO_PUBLISHERS_CAROUSEL]:(0,s.Z)((0,i.ZP)({chunkName:()=>"promo-publishers-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(7967),n.e(720),n.e(9371),n.e(2026),n.e(6710),n.e(6175),n.e(3015),n.e(4378),n.e(4960),n.e(3572),n.e(2607),n.e(7429),n.e(727),n.e(19),n.e(9761),n.e(9634),n.e(8467),n.e(8876),n.e(4930)]).then(n.bind(n,86954)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 86954}}))},l=()=>e=>({Component:o[e],Stub:r.K})},98014:(e,t,n)=>{"use strict";n.d(t,{su:()=>u,PY:()=>m,_5:()=>p});var s=n(46997),i=n(19670),a=n(87363),r=n.n(a),o=n(3313),l=n(20971),c=n(85466);const d=["isPreventEnable","target","href","rel","rootRef","host","onClick","onPointerDown"],u=()=>{const e=(0,l.oR)();return(0,a.useMemo)((()=>{const t=e.getState();return t.params&&t.params.host||""}),[e])},m=(0,a.forwardRef)(((e,t)=>{let n=Object.assign({},e);const s=u();return r().createElement(p,(0,i.Z)({},n,{host:s,rootRef:t}))})),p=e=>{let{isPreventEnable:t=!1,target:n="_blank",href:a,rel:l="",rootRef:u,host:m,onClick:p,onPointerDown:h}=e,b=(0,s.Z)(e,d);const g=(0,o.E)({rel:l,target:n,host:m,href:a}),v=(0,c.m)((e=>{const n=e.ctrlKey||e.metaKey||e.altKey;if(p){if(t){if(e.stopPropagation(),n)return;e.preventDefault()}p(e)}}));return r().createElement("a",(0,i.Z)({},b,{onClick:v,href:a,rel:g,target:n,ref:u,onPointerDown:h}))}},86299:(e,t,n)=>{"use strict";n.d(t,{O:()=>E});var s=n(19670),i=(n(14072),n(53208),n(87363)),a=n.n(i),r=n(50838),o=n(13974);const l=(0,o.N)("list-view");class c extends i.PureComponent{render(){const{props:e}=this,{headerElement:t,emptyElement:n,itemClassName:s}=e;let i;if(e.items){const{items:t,renderItem:n,keyExtractor:r}=e;i=t.map(((e,t)=>a().createElement("li",{key:r(e,t),className:s},n(e,t))))}else i=a().createElement("li",{className:s},n);return a().createElement("ul",{className:l()},t&&a().createElement("li",{key:"header",className:s},t),i)}}const d=(0,o.N)("list-item-stub-default-view"),u=({className:e})=>a().createElement("div",{className:o.N.mix(d(),e)},a().createElement("div",{className:d("bar")})),m=(0,o.N)("list-stubs-view"),p=({ItemStub:e=u,className:t,theme:n="default"})=>a().createElement(a().Fragment,null,[1,2].map(((s,i)=>a().createElement(e,{key:i,className:o.N.mix(t,m("item",{theme:n}))}))));var h=n(79100);var b=n(64999),g=n(40453);const v=({isMaximized:e,onClick:t,minimizeSectionButtonText:n,foldedText:s,theme:i,size:r})=>a().createElement(g.r,{isUnfolded:e,onClick:t,foldedText:s,unfoldedText:n,theme:i,size:r}),_=e=>e.id;class f extends i.PureComponent{constructor(e){super(e),y.call(this),this.keyExtractor=e.keyExtractor||_,e.items?this.portalKey=`list-animated-${e.items.map(this.keyExtractor).join(",")}`:this.portalKey="list-animated"}render(){const{headerElement:e,emptyElement:t,itemClassName:n}=this.props;if(this.props.items){const{items:e,shouldFlip:t=!0}=this.props,s=t?e.map(this.keyExtractor).join(","):"flipKey";return a().createElement(r.U5,{flipKey:s,portalKey:this.portalKey},a().createElement(c,{items:e,renderItem:this.renderItemWrapped,keyExtractor:this.keyExtractor,itemClassName:n}))}return a().createElement(c,{headerElement:e,emptyElement:t,itemClassName:n})}}var y=function(){this.handleItemAppear=(e,t)=>{const{delay:n=350,withQueue:s}=this.props;(0,r.ST)({onUpdate:t=>{e.style.opacity=t.toString()},delay:n*(s?t:1)})},this.renderItemWrapped=(e,t)=>{const{props:n}=this;if(n.items)return a().createElement(r.$3,{flipId:e.id||t,onAppear:this.handleItemAppear},a().createElement("div",null,n.renderItem(e,t)))}},w=n(88211);const k=(0,o.N)("sidebar-section-view"),S=({items:e,isCollapsed:t,onCollapseToggle:n,collapseButtonTranslations:s,collapseButtonText:o,collapseSectionText:l,visibleItemsLimit:c,renderSectionItem:d,shouldButtonFlip:u,delay:m,shouldFlip:p,theme:h,size:g,blockKey:_,description:y,shouldShowCollapseButton:S=!0,withQueue:E,header:C,collapseButton:I,classNameWrapperContainer:P,withoutMargin:T})=>{const R=c||5,[A,x]=(0,i.useMemo)((()=>{return n=R,[(t=e).slice(0,n),t.slice(n)];var t,n}),[e,R]),{lang:O}=(0,w.$)(),N=s?(0,b.j)(s,O,x.length):"",M=(0,i.useCallback)((e=>_?`${_}_${e.id}`:e.id),[_]);return a().createElement(a().Fragment,null,C,y,a().createElement("div",{className:P},a().createElement(f,{items:t?e:A,keyExtractor:M,itemClassName:k("row",{withoutMargin:T}),renderItem:d,delay:m,shouldFlip:p,withQueue:E})),x.length>0&&a().createElement(r.$3,{flipId:A.map(M).join(","),shouldFlip:u,translate:!0},S?a().createElement("div",null,I||a().createElement(v,{isMaximized:t,onClick:n,foldedText:o||N,minimizeSectionButtonText:l||"",theme:h,size:g})):null))},E=(0,i.memo)((e=>{const{onLoadRetry:t,data:n,loadErrorTitle:i,theme:r,withoutMargin:o}=e;switch(null==n?void 0:n.status){case"pending":{const e=a().createElement(p,{className:k("row",{withoutMargin:o}),theme:r});return a().createElement(c,{emptyElement:e})}case"complete":return 0===n.result.length?a().createElement(c,{itemClassName:k("row",{withoutMargin:o})}):a().createElement(S,(0,s.Z)({items:n.result},e));case"error":return a().createElement(c,{itemClassName:k("row",{withoutMargin:o}),emptyElement:t&&a().createElement("div",{className:k("error")},a().createElement(h.b,{title:i,onClick:t,size:"s",theme:r}))});default:return null}}))},67300:(e,t,n)=>{"use strict";let s;n.d(t,{p:()=>s}),function(e){e.root="main",e.mainFeed="feed",e.video="video",e.shorts="short_video",e.lives="lives",e.discover="showcase",e.saved="saved",e.search="search",e.myChannel="my-channel",e.source="source"}(s||(s={}))},89298:(e,t,n)=>{"use strict";n.d(t,{n:()=>i,AC:()=>a});var s=n(87363);const i=(0,s.createContext)(null),a=()=>{const e=(0,s.useContext)(i);return(0,s.useMemo)((()=>null===e?{}:{__place_param__:e.place,__page_type__:e.pageType}),[e])}},91209:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,e:()=>a});var s=n(87363);const i=(0,s.createContext)(null),a=()=>(0,s.useContext)(i)},43278:(e,t,n)=>{"use strict";n.d(t,{i:()=>u});var s=n(87363),i=n.n(s),a=n(71102),r=n.n(a);const o="subscriptions-live-badge__subscriptionsLiveBadge-3Y",l="subscriptions-live-badge__subscriptionsAvatarLiveBadge-DZ",c="subscriptions-live-badge__liveBadgeContainer-3T",d="LIVE",u=({containerClassName:e,className:t,isAroundAvatar:n})=>n?i().createElement("span",{className:e},i().createElement("div",{className:r()(c)}),i().createElement("span",{className:e},i().createElement("span",{className:r()(l,t)},d))):i().createElement("span",{className:e},i().createElement("span",{className:r()(o,t)},d))},60849:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var s=n(87363);const i=(0,s.createContext)(null)},88211:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var s=n(87363),i=n(23268),a=n(60849);const r=()=>{const{zenLogger:e}=(0,i.vv)(),t=(0,s.useContext)(a.y);if(!t)throw new Error("Translations is not passed");const n=t.__LANG__;return{l10n:(0,s.useCallback)((s=>{const i=((e,t)=>e[t])(t,s);return i||(e&&e.error({message:"Missing translation",details:{lang:n,key:s}}),"")}),[e,t,n]),lang:n}}},24575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(19670),i=n(87363),a=n.n(i),r=n(94971),o=n(88211);const l=e=>{const t=(0,i.forwardRef)(((t,n)=>{const{l10n:i,lang:r}=(0,o.$)();return a().createElement(e,(0,s.Z)({},t,{ref:n,l10n:i,lang:r}))}));return t.displayName=(0,r.S)("WithTranslation",e),t}},15317:(e,t,n)=>{"use strict";let s;n.d(t,{x:()=>s,O:()=>i}),function(e){e.dontLose="dont_lose",e.dontLoseDesktop="dont_lose"}(s||(s={}));const i={[s.dontLose]:"mobile.video.call-to-subscribe.dont-lose",[s.dontLoseDesktop]:"desktop.video.call-to-subscribe.dont-lose"}},71373:(e,t,n)=>{"use strict";n.d(t,{f:()=>a,Z:()=>r});var s=n(74382),i=n(71037);const a=(0,s.ZP)({chunkName:()=>"video-viewer-modal-desktop",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(838),n.e(6445),n.e(6700),n.e(759),n.e(204),n.e(9371),n.e(2026),n.e(6175),n.e(3015),n.e(7867),n.e(19),n.e(9761),n.e(8876),n.e(2312)]).then(n.bind(n,78894)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 78894}}),r=(0,i.Z)(a)},23268:(e,t,n)=>{"use strict";n.d(t,{jj:()=>o,vh:()=>l,vv:()=>c,fD:()=>d,L7:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(94971);const o=e=>e,l=(0,i.createContext)(o({})),c=()=>(0,i.useContext)(l),d=()=>{const{zenApi:e}=c();return e},u=e=>t=>{const n=n=>{const i=c();return a().createElement(t,(0,s.Z)({},n,e(i,n)))};return n.displayName=(0,r.S)("WithZenContext",t),n}},89445:(e,t,n)=>{"use strict";var s=n(87363),i=n.n(s),a=n(61533),r=n.n(a);var o=n(44793),l=n(70624),c=n(43756),d=n(20773),u=n(64637),m=n(34534),p=n(66999),h=n(88144);(0,p.J)((e=>async(t,n,{zenApi:s})=>{if(!e.length)return null;const i=n(),{isPublisherLikeOnCardEnabled:a}=(0,h.a)(i),r=await s.getCommentsCounters(e,a);r&&t({type:c.Vw,payload:r})}));var b=n(2085),g=n(8708),v=n(19460),_=n(16624),f=n(45347);var y=n(66699),w=n(6006),k=n(56720),S=n(37413),E=n(78785),C=n(83824);const I={links:u.iT,serpLinks:u.Ao,serpClid:u.mZ,params:u.Zd,shared:u.S4,context:u.vO,auth:u.aD,user:u.b3,icefeed:u.KW},P=(e,t)=>{const n=e.screens&&e.screens.items;if(!Array.isArray(n))return null;const s=n.filter((({type:e})=>e===t));return 1!==s.length?null:s[0].source},T=/([&?])token(=[^&#]*)?(&)?/g,R=(e,t)=>{const n=P(e,t);return n?n.replace(T,((e,t,n,s)=>s?t:"")):null},A=e=>(t,n,{zenApi:s})=>{var i;t((0,d.A7)()),e.adPixelsData&&e.adPixelsLink&&t((0,d.nP)({ab:e.adPixelsData.ab,adPixelsLink:e.adPixelsLink,reqId:e.adPixelsData.reqId,userAgent:e.adPixelsData.userAgent}));const a=null==e||null==(i=e.gridType)?void 0:i.name;a&&t((0,d.eN)(a,e.rid)),e.items&&t((0,d.zH)(e.items,!1,!1));const{interview:r,rid:p,sidebarItems:h,leftSidebarItems:b}=e;var g;h&&t((g=h||[],{type:c.Vc,payload:{items:g}})),b&&t((0,y.K)(b||[])),r&&t((0,f.u5)({interview:r,packId:p,pos:r.showOnPosition,itemBasedPosition:r.itemBasedPosition}));const{channel:v,suites:_,channelPixels:w}=e;var I;if(w&&t((I=w,{type:c.aC,payload:I})),v){var T;t((0,m.E8)(v));if((0,k.Fr)(n())&&(null==(T=v.source)?void 0:T.isMyChannel)){const{orderedIds:n,pinnedPublicationIds:s,maxPinnedItems:i}=e;t((0,S.K1)({orderedIds:n||[],pinnedPublicationIds:s||[],maxPinnedItems:null!=i?i:1}))}_&&t((0,E.IH)(_))}const{suite:A}=e;A&&t((0,C.I)(A)),t((e=>{const t={[l.Jl.More]:o.ZP.get(e,"more.link")||null,[l.Jl.Bulk]:o.ZP.get(e,"bulk.link")||null,[l.Jl.Subs]:P(e,"subs")||P(e,"switchable_subs"),[l.Jl.Profile]:P(e,"profile"),[l.Jl.Category]:P(e,"category"),[l.Jl.Categories]:P(e,"categories"),[l.Jl.Suggest]:P(e,"suggest"),[l.Jl.Multisearch]:P(e,"multisearch"),[l.Jl.Blocked]:P(e,"blocked"),[l.Jl.Preferences]:P(e,"preferences"),[l.Jl.Subscribers]:P(e,"subscribers"),[l.Jl.BlockedSuggest]:P(e,"blocked_suggest"),[l.Jl.VideoRecommend]:P(e,"video_recommend"),[l.Jl.VideoRelated]:P(e,"video_related"),[l.Jl.CountryLang]:P(e,"language"),[l.Jl.CommentsCounter]:P(e,"comments_counter"),[l.Jl.SendAppLinkSms]:P(e,"send_app_link_sms"),[l.Jl.SocialProfile]:R(e,"social_profile"),[l.Jl.SocialProfileEdit]:R(e,"social_profile_edit"),[l.Jl.ProfileCompleteOnboarding]:R(e,"profile_complete_onboarding"),[l.Jl.ProfileDeactivate]:R(e,"profile_deactivate"),[l.Jl.ProfileCancelDeactivate]:R(e,"profile_cancel_deactivate"),[l.Jl.AllChannelsLink]:o.ZP.get(e,"links.all_channels_link"),[l.Jl.SupportLink]:o.ZP.get(e,"links.support_link"),[l.Jl.GetVideoViewerData]:P(e,"get_video_popup_data"),[l.Jl.ArticleRelated]:o.ZP.get(e,"more.link")||null};return(0,u.iT)(t)})(e)),t((e=>(0,u.Zd)({experimentsData:e.experimentsData||void 0,feedFeatureConfig:e.feedFeatureConfig||void 0,clientDefinition:e.clientDefinition,isIceStart:e.isIceStart,complaints:e.complaints,bulk:e.bulk,groupIds:e.groupIds,buckets:e.buckets,shouldCleanCacheOnFeedback:e.feedbackCacheClean,loginLink:e.loginLink}))(e)),t((0,u.z0)({rid:o.ZP.get(e,"rid")})),t({type:c.JX,payload:{exportData:e,currentTime:Date.now()}}),e.rid&&(s.packUsed(e.rid),t((0,d.Nz)(e.rid)));const{tabs:x}=e;x&&t((e=>({type:c.QC,payload:e}))(x))},x=(e,t)=>(n,s)=>{const{exportData:i,initialDisplayedRowsNumber:a,params:r,comments:o}=e;var l;(0,v.u)(I).forEach((t=>{const s=e[t];if(s){n((0,I[t])(s))}})),n((0,b.cn)((0,g.MA)(s()))),i&&n(A(i)),o&&n((e=>({type:c.Yk,payload:e}))(o)),a&&(n((0,d.EC)(a)),n((0,w.P)(a))),r&&r.isChildPage&&n((l=!0,{type:c.Yf,payload:l})),t.history&&n((0,_.Fk)()),n((0,d.hV)())};var O=n(39970);class N{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const n=this._events[e];if(!n)return;const s=n.indexOf(t);s>=0&&n.splice(s,1)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e,...t){const n=this._events[e];n&&n.slice().forEach((e=>{e.apply(void 0,t)}))}}const M=()=>new N,L=()=>new N,D=()=>new N;n(14072),n(53208);var B=n(46591);var F=n(33418),Z=n(32481),V=n(39283);const U=({email:e,name:t,avatar:n})=>({email:e,name:t,avatar:n}),j=({count:e,external_url:t})=>({count:e,externalUrl:t}),z=({country:e,external_url:t})=>({country:e,externalUrl:t}),H=({external_url:e})=>({externalUrl:e}),q=({bulk_params:e,disabled:t})=>({bulkParams:e,disabled:t}),$={"user-info":e=>({userInfo:U(e)}),"no-user":e=>({noUser:H(e)}),"blocked-count":e=>({blockedCount:j(e)}),video:e=>({video:q(e)}),autoplay:()=>({autoplay:{}}),language:e=>({language:z(e)}),feedback:e=>({feedback:H(e)}),eula:e=>({eula:H(e)}),logout:e=>({logout:H(e)})};var G=n(28338),W=n(87187),Y=n(85340);const K=(0,Y.Lb)({avatarUrl:Y.Z_,mainColor:Y.Z_,name:Y.Z_,publisherId:Y.Z_}),X=(0,Y.IM)(K),J=(0,Y.IM)(Y.Rx),Q=(0,Y.Lb)({counts:J,likes:X}),ee=(0,Y.Lb)({meta:(0,Y.IM)((0,Y.Lb)({commentsEnabled:(0,Y.wY)(Y.O7),commentCount:(0,Y.wY)(Y.Rx),commentatorAvatars:(0,Y.wY)((0,Y.IX)(Y.Z_)),likeCount:(0,Y.wY)(Y.Rx)})),userAvatar:(0,Y.wY)(Y.Z_)});var te=n(1603),ne=n(77110);var se=n(53932);let ie;!function(e){e.GetBeforeNetwork="GET_BEFORE_NETWORK",e.PutAfterNetwork="PUT_AFTER_NETWORK",e.GetAfterNetwork="GET_AFTER_NETWORK"}(ie||(ie={}));const ae={[se.q.Default]:[ie.GetBeforeNetwork,ie.PutAfterNetwork,ie.GetAfterNetwork],[se.q.Reload]:[ie.PutAfterNetwork,ie.GetAfterNetwork],[se.q.NoCache]:[ie.PutAfterNetwork],[se.q.NoStore]:[]},re=e=>{const t=ae[e];if(!t)throw new Error(`Cache mode '${e}' is not exist.`);return e=>t.includes(e)};n(17453);const oe="zen-api-cache",le="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let ce=null;const de=(e,t)=>(le?(ce||(ce=new Promise(((e,t)=>{const n=le.open("zen-db",1);n.onerror=()=>{t(n.error)},n.onupgradeneeded=()=>{n.result.createObjectStore(oe)},n.onsuccess=()=>{e(n.result),n.result.onclose=()=>{ce=null}}}))),ce):Promise.reject(new Error("indexedDB is not supported."))).then((n=>new Promise(((s,i)=>{const a=n.transaction(oe,e);a.oncomplete=()=>{s()},a.onerror=()=>{i(a.error||new Error("IDB transaction error"))},t(a.objectStore(oe))})))),ue={get(e){let t;return de("readonly",(n=>{t=n.get(e)})).then((()=>t.result))},set:(e,t)=>de("readwrite",(n=>{n.put(t,e)})),delete:e=>de("readwrite",(t=>{t.delete(e)})),clear:()=>de("readwrite",(e=>{e.clear()})),keys(){const e=[];return de("readonly",(t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=()=>{n.result&&(e.push(n.result.key),n.result.continue())}})).then((()=>e))}};var me=n(94823);const pe={get:e=>ue.get(e),put:(e,t)=>ue.set(e,t),remove:e=>ue.delete(e),isEnabled:()=>Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)),keys:()=>ue.keys().then((e=>{const t=[];return e.forEach((e=>{(0,me.HD)(e)&&t.push(e)})),t}))},he=(()=>{const e={};return{get:t=>Promise.resolve(e[t]),put:(t,n)=>(e[t]=n,Promise.resolve()),remove:t=>(delete e[t],Promise.resolve()),isEnabled:()=>!0,keys:()=>Promise.resolve(Object.keys(e))}})(),be="Cache disabled.";class ge extends Error{constructor(e){super((e=>`ZenApiCache: ${e}`)(e))}}const ve=({type:e=l.Ys.SessionCache,namespace:t="common",validator:n})=>{const s=fe(e),i=e=>`${t}-${e}`;return{get(e){const t=i(e);return s.get(t).then((e=>{if(!(e=>n?n(e):_e(e))(e))throw new ge("No cache record or scheme invalid");return e}))},put(e,t){const n=i(e);return s.put(n,t)},remove(e){const t=i(e);return s.remove(t)},keys:()=>s.keys(),isEnabled:()=>s.isEnabled()}},_e=e=>Boolean(e&&e.type&&e.apiResponse&&e.params),fe=e=>{if(e===l.Ys.MultiSessionCache&&pe.isEnabled())return pe;if(he.isEnabled())return he;throw new ge("Failed to get storage provider")},ye=(e,t)=>Promise.all(t.map((t=>e.get(t).then((e=>({record:e,key:t}))))));var we=n(73524);const ke=({userInfo:e,zenFeatures:t,clientExperiments:n})=>{const s={};return e&&e.oauthToken&&(s.Authorization=`OAuth ${e.oauthToken}`),Object.keys(t||{}).length>0&&(s["Zen-Features"]=JSON.stringify(Object.assign({},t,{web_ntp_version:Se()}))),s["Zen-Client-Experiments"]=["zen-version:1.57.2",...Array.isArray(n)&&n.length>0?n:[]].join(", "),s["X-ZenLib-Version"]="1.57.2",s},Se=()=>{if("undefined"==typeof window||!window)return;const e=window;return"string"==typeof e.WEB_NTP_VERSION?e.WEB_NTP_VERSION:void 0},Ee=(e,t,n)=>{const s=((e,t)=>{const{method:n,params:s,mode:i,headers:a}=e,r={params:s,headers:Object.assign({},t?ke(t):{},a),mode:i,method:n};return e.body?Object.assign({},r,{body:e.body}):r})(t,n),{method:i,body:a}=s,r=Ce(i,a);return Ie(r)(e,s)},Ce=(e,t)=>e?t&&"GET"===e?"POST":e:t?"POST":"GET",Ie=e=>{switch(e){case"PUT":return we.C1;case"POST":return we.XV;case"DELETE":return we.Ap;default:return we.eJ}};var Pe=n(82028);const Te=()=>"undefined"!=typeof window?(e=>{const t=(0,Pe.rz)(e);return{experiment:t.experiment,excludeExperiments:t.excludeExperiments,telemetry:t.telemetry}})(window.location.href):{},Re=({clid:e,referrerClid:t,referrerPlace:n,countryCode:s})=>{const i=Te();return Object.assign({},i,{clid:e,country_code:s,referrer_clid:t,referrer_place:n})},Ae=e=>{const t={};return e.partnerId&&(t.partner_user_id=String(e.partnerId)),e.adId&&(t.user_ad_id=String(e.adId)),t},xe=e=>{const t={};return e&&e.length&&(t.content_langs=e.join(",")),t},Oe={[l.Jl.Export]:"export",[l.Jl.VideoFeed]:"video-more",[l.Jl.Layout]:"layout",[l.Jl.Teasers]:"teasers",[l.Jl.PublisherConfig]:"publisher-config",[l.Jl.CurrentUserSubscriptions]:"current-user-subscriptions",[l.Jl.ArticleRelated]:"article-related",[l.Jl.ZenSearch]:"zen-search",[l.Jl.Videos]:"videos/__public_id__",[l.Jl.GetFeedPublications]:`${l.Jl.GetFeedPublications}?ids=__publication_id__&publisherId=__publisher_id__`},Ne={[l.Jl.CurrentUserInterests]:"api/social/current-user-interests",[l.Jl.SendNativeComplainStats]:"api/v4/stats/common"};class Me extends Error{}const Le=(e,t,n)=>{const s=Oe[e];if(s){const e=Fe(t),n=(({clid:e,referrerClid:t,referrerPlace:n,countryCode:s,contentLangs:i=[],channelName:a,channelId:r,interestName:o,socialProfileId:l,feedFilterType:c,userInfo:d={},articleId:u,itemType:m,itemId:p,sourceId:h,sourceType:b})=>Object.assign({},Re({clid:e,referrerClid:t,referrerPlace:n,countryCode:s}),Ae(d),xe(i),{channel_name:a,channel_id:r,interest_name:o,social_profile_id:l,feed_filter_type:c,article_id:u,item_type:m,item_id:p,source_id:h,source_type:b}))(e);return De(e.host,s,n)}const i=Ne[e];if(i){const e=Fe(t),n=Re(e);return Be(e.host,i,n)}const a=n&&n[e];if(!a)throw new Me(`ZenApi ${e} url is not configured.`);return a},De=(e,t,n)=>(0,Pe.Zd)(`${e}api/v3/launcher/${t}`,n),Be=(e,t,n)=>(0,Pe.Zd)(`${e}${t}`,n),Fe=e=>{if(!e.clid)throw new Me("ZenApi clid is not configured.");if(!e.host)throw new Me("ZenApi host is not configured.");return{host:e.host,clid:e.clid,countryCode:e.countryCode||void 0,columnCount:e.columnCount,contentLangs:e.contentLangs,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,userInfo:e.userInfo,channelName:e.channelName,interestName:e.interestName,channelId:e.channelId,socialProfileId:e.socialProfileId,feedFilterType:e.feedFilterType,articleId:e.articleId,sourceId:e.sourceId,itemId:e.itemId,itemType:e.itemType,sourceType:e.sourceType}},Ze=e=>{const{oauthToken:t,login:n,deviceId:s,partnerId:i,profileId:a,yandexuid:r}=e;return t||n||(()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]})()||i||s||a||r||(()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]})()};var Ve=n(68137),Ue=n.n(Ve),je=n(40162);class ze extends Error{toString(){return`ZenApiValidationError: '${this.message}'; ${JSON.stringify({type:this.type,ttl:this.ttl,rid:this.rid,receivedAt:this.receivedAt})}`}constructor(e){super(null==e?void 0:e.message),null!=e&&e.type&&(this.type=e.type),null!=e&&e.ttl&&(this.ttl=e.ttl),null!=e&&e.rid&&(this.rid=e.rid),null!=e&&e.receivedAt&&(this.receivedAt=e.receivedAt)}}const He=e=>{if(!(e&&e.type&&e.apiResponse&&e.params&&"1.57.2"===e.params.version))throw new ge("Invalid cache record scheme.")},qe=e=>{if(!e||!e.items)throw new ge("Invalid api response to put in cache.")},$e=e=>(0,me.hj)(e)||(0,me.HD)(e),Ge=(e,t)=>{const n=Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled),s=!$e(e.clid)||e.clid===t.clid,i=!$e(e.referrerClid)||e.referrerClid===t.referrerClid,a=!(0,me.HD)(e.referrerPlace)||e.referrerPlace===t.referrerPlace,r=!(0,me.HD)(e.countryCode)||e.countryCode===t.countryCode;return n&&s&&i&&a&&r&&Ue()(e.feedFilter,t.feedFilter)},We=(e,t)=>e.userId&&t.userId&&e.userId===t.userId,Ye=(e,t,n)=>Ue()(e.zenFeatures&&(0,je.C)(e.zenFeatures,n),t.zenFeatures&&(0,je.C)(t.zenFeatures,n)),Ke=(e,t,n)=>{if(!Array.isArray(e.clientExperiments))return!0;const s=((e,t)=>{const n=[];e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments);const s=t.experimentsData;return s&&Object.keys(s).forEach((e=>{const t=s[e];(0,me.Kn)(t)&&t.exp&&n.push(e)})),n})(t,n);return e.clientExperiments.every((e=>s.includes(e)))},Xe=(e,t)=>Array.isArray(e.contentLangs)===Array.isArray(t.contentLangs)&&(!Array.isArray(e.contentLangs)||e.contentLangs.every((e=>t.contentLangs&&t.contentLangs.includes(e)))),Je=e=>{Qe(e),tt(e)},Qe=e=>{if(!et(e))throw new ze({message:"Validation error. No items in ApiResponse",ttl:e.ttl,type:e.errorType,rid:e.rid,receivedAt:e.receivedAt})},et=e=>Array.isArray(e.items)&&e.items.length>0,tt=e=>{if(!(e=>{var t,n;return Boolean(null==(t=e.more)?void 0:t.link)&&Boolean(null==(n=e.bulk)?void 0:n.link)})(e))throw new ze({message:"Validation error. No more/bulk links in ApiResponse",ttl:e.ttl,type:e.errorType,rid:e.rid,receivedAt:e.receivedAt})},nt=()=>({getNotShownPack(){throw new ge(be)},getLastShownPack(){throw new ge(be)},getNotShownOrLastShownPack(){throw new ge(be)},putNotShownPack:()=>Promise.resolve(),putLastShownPack:()=>Promise.resolve(),removeNotShownPack:()=>Promise.resolve(),removeLastShownPack:()=>Promise.resolve()}),st=({storage:e,cacheId:t,apiResponseValidator:n,validationParams:s})=>{const i=`not-shown-pack${t}`,a=`last-shown-pack${t}`,r=(e,{byStoreTtl:t,ignoredZenFeatures:i})=>{const a=(0,V.io)(e.apiResponse);return((e,t)=>{const{receivedAt:n,ttl:s,storeTtl:i}=e,a=t?i:s;if(!((0,me.hj)(n)&&(0,me.hj)(a)&&n+a>Date.now()))throw new ge(`Invalid cache ${t?"store-ttl":"ttl"}.`)})(a,t),((e,t,n,s)=>{if(!e)throw new ge("RequestCacheParams undefined");if(!t)throw new ge("Cache params undefined");if(!We(e,t))throw new ge("Invalid UserId");if(!Ge(e,t))throw new ge("Invalid AppParams");if(!Ye(e,t,s))throw new ge("Invalid ZenFeatures");if(!Ke(e,t,n))throw new ge("Invalid ClientExperiments");if(!Xe(e,t))throw new ge("Invalid ContentLangs")})(s,e.params,a,i),qe(a),n(a),a},o=(e,t,i)=>(qe(i),n(i),{type:e,apiResponse:t,params:s});return{getNotShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(i).then((t=>new Promise(((n,s)=>{try{He(t),n(t)}catch(t){e.remove(i).then((()=>s(t)),(()=>s(t)))}})))).then((e=>{const s=r(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:s})})),getLastShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(a).then((t=>new Promise(((n,s)=>{try{He(t),n(t)}catch(t){e.remove(a).then((()=>s(t)),(()=>s(t)))}})))).then((e=>{const s=r(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:s})})),getNotShownOrLastShownPack(e=!0){return this.getNotShownPack({byStoreTtl:e}).catch((()=>this.getLastShownPack({byStoreTtl:e})))},putNotShownPack:(t,n,s)=>Promise.resolve().then((()=>{const a=o(t,n,s);return e.put(i,a)})),putLastShownPack:(t,n,s)=>Promise.resolve().then((()=>{const i=o(t,n,s);return e.put(a,i)})),removeNotShownPack:()=>e.remove(i),removeLastShownPack:()=>e.remove(a)}};var it=n(46997);const at=["items"],rt=(0,Y.d_)("publisher","domain"),ot=(0,Y.d_)("subscribed","not_subscribed","blocked"),lt=(0,Y.d_)("active","sleeping","deleted","not_exist"),ct=(0,Y.d_)("promo","special"),dt=(0,Y.Ry)({type:ct,text:Y.Z_}),ut=(0,Y.Lb)({partner_stat_id:(0,Y.wY)(Y.Z_),from:Y.Z_,video_content_id:(0,Y.wY)(Y.Z_),puid:(0,Y.wY)(Y.Z_),from_block:(0,Y.wY)(Y.Z_),strongest_id:(0,Y.wY)(Y.Z_),item_id:(0,Y.wY)(Y.Z_),stream_block:(0,Y.wY)(Y.Z_),rid:(0,Y.wY)(Y.Z_),ppi:(0,Y.wY)(Y.Z_)}),mt=(0,Y.wY)((0,Y.Lb)({page_id:(0,Y.wY)(Y.Z_),category_id:(0,Y.wY)(Y.Rx)})),pt=(0,Y.Ry)({card:Y.Z_,text:Y.Z_}),ht=(0,Y.Lb)({has_sound:Y.O7,heartbeat_pos:(0,Y.IX)(Y.Rx),id:Y.Z_,loop:Y.O7,player:(0,Y.wY)(Y.Z_),provider:Y.Z_,userAgent:(0,Y.wY)(Y.Z_),video_info:(0,Y.wY)((0,Y.Lb)({video_content_id:Y.Z_})),additional_params:ut,replay_count:Y.Rx,autoplay:Y.O7,width:(0,Y.wY)(Y.Rx),height:(0,Y.wY)(Y.Rx),isShortVideo:Y.O7,duration:Y.Rx,ad:mt,views:(0,Y.wY)(Y.Rx),viewed_time:(0,Y.wY)(Y.Rx),video_feed_url:Y.Z_}),bt=(0,Y.Lb)({framed_100x128_1x:(0,Y.wY)(Y.Z_),framed_132x176_1x:(0,Y.wY)(Y.Z_),framed_202x260_1x:(0,Y.wY)(Y.Z_),framed_212x280_1x:(0,Y.wY)(Y.Z_)}),gt=(0,Y.Ry)({type:(0,Y.i0)("direct"),domElemId:Y.Z_,blockId:Y.Z_,partnerStatId:(0,Y.wY)(Y.Z_),isBig:(0,Y.wY)(Y.O7),bulkParams:Y.Z_,data:(0,Y.wY)(Y.AV)}),vt=(0,Y.kS)("type",{direct:gt}),_t=(0,Y.Ry)({isLiked:Y.O7,isDisliked:Y.O7}),ft=(0,Y.Ry)({ad:(0,Y.wY)(vt),topAd:(0,Y.wY)(vt),bidFloor:(0,Y.wY)(Y.Z_),domainTitle:Y.Z_,link:Y.Z_,shareLink:(0,Y.wY)(Y.Z_),urlHash:(0,Y.wY)(Y.Z_),cardColors:(0,Y.wY)(pt),mainColor:(0,Y.wY)(Y.Z_),similar:(0,Y.wY)((0,Y.Ry)({link:(0,Y.wY)(Y.Z_)})),read:Y.O7,feedbackInfo:(0,Y.wY)(_t),badges:(0,Y.wY)((0,Y.IX)(dt)),commentsDocumentId:(0,Y.wY)(Y.Z_),allCommentsLink:(0,Y.wY)(Y.Z_),oneCommentLink:(0,Y.wY)(Y.Z_),reactions:(0,Y.wY)((0,Y.Ry)({click:(0,Y.wY)((0,Y.Ry)({title:Y.Z_})),like:(0,Y.wY)((0,Y.Ry)({title:Y.Z_})),dislike:(0,Y.wY)((0,Y.Ry)({title:Y.Z_}))}))}),yt=(0,Y.Ry)({socialNetwork:Y.Z_,link:Y.Z_,name:Y.Z_,image:Y.Z_}),wt=(0,Y.Ry)({id:Y.Z_,strongestId:Y.Z_,type:rt,status:ot,title:Y.Z_,logo:Y.Z_,logoBackgroundColor:Y.Z_,feedLink:Y.Z_,feedApiLink:Y.Z_,subscriptionForbidden:(0,Y.wY)(Y.O7),titleBackgroundColor:Y.Z_,titleColor:Y.Z_,subtitle:(0,Y.wY)(Y.Z_),description:(0,Y.wY)(Y.Z_),socialLinks:(0,Y.wY)((0,Y.IX)(yt)),isVerified:(0,Y.wY)(Y.O7),isNirvana:(0,Y.wY)(Y.O7),subscribers:(0,Y.wY)(Y.Rx),socialProfileStatus:(0,Y.wY)(lt),logoSizes:(0,Y.wY)(bt)}),kt=(0,Y.Ry)({id:Y.Z_,title:(0,Y.wY)(Y.Z_),text:(0,Y.wY)(Y.Z_),bulkParams:Y.Z_,source:wt,creationTime:(0,Y.wY)(Y.Z_),actionTime:(0,Y.wY)(Y.Z_),requireUserData:(0,Y.wY)(Y.O7),pos:Y.Rx,covid_19:(0,Y.wY)(Y.O7)}),St=(0,Y.Ry)({id:Y.Z_,strongestId:Y.Z_,status:ot,type:(0,Y.i0)("interest"),title:Y.Z_,subtitle:(0,Y.wY)(Y.Z_),feedLink:Y.Z_,feedApiLink:Y.Z_,logo:Y.Z_,logoBackgroundColor:Y.Z_,bulkParams:Y.Z_}),Et=(0,Y.Ry)({id:Y.Z_,strongestId:Y.Z_,status:ot,type:(0,Y.d_)("publisher","domain","user"),isVerified:(0,Y.wY)(Y.O7),title:Y.Z_,subtitle:(0,Y.wY)(Y.Z_),description:(0,Y.wY)(Y.Z_),feedLink:Y.Z_,feedApiLink:Y.Z_,logo:(0,Y.wY)(Y.Z_),logoBackgroundColor:Y.Z_,bulkParams:Y.Z_}),Ct=(0,Y.Ry)({id:Y.Z_,type:(0,Y.d_)("card","post"),title:Y.Z_,text:Y.Z_,image:(0,Y.wY)(Y.Z_),imageSquared:(0,Y.wY)(Y.Z_),link:Y.Z_,source:(0,Y.Ry)({title:Y.Z_,isVerified:Y.O7,feedLink:Y.Z_}),creationTime:Y.Z_,bulkParams:Y.Z_}),It=(0,Y.wY)((0,Y.Ry)({buttonName:Y.Z_,description:(0,Y.wY)(Y.Z_),logo:(0,Y.wY)((0,Y.Ry)({url:Y.Z_,mainColor:Y.Z_})),title:Y.Z_,url:Y.Z_,urlType:(0,Y.wY)(Y.Z_),priceUrl:(0,Y.wY)(Y.Z_),linkInfoUrl:(0,Y.wY)(Y.Z_),marketModelId:(0,Y.wY)(Y.Z_),videoCallToActionTimestamp:(0,Y.wY)(Y.Rx),linkId:(0,Y.wY)(Y.Z_)})),Pt=(0,Y.jV)(kt,ft,(0,Y.Ry)({type:(0,Y.i0)("gif"),title:Y.Z_,video:ht,stats:(0,Y.wY)(Y.Z_),channelOwnerUid:Y.Rx,publisherId:Y.Z_,publicationId:Y.Z_,hasDescription:(0,Y.wY)(Y.O7),hasTags:(0,Y.wY)(Y.O7),commentsDocumentId:Y.Z_,callToAction:It,subscribeTriggerEvent:(0,Y.wY)((0,Y.d_)("click","feedback_more")),expandDelay:(0,Y.wY)(Y.Rx),stopAndGoExternalUrl:(0,Y.wY)(Y.Z_),flightId:(0,Y.wY)(Y.Z_),image:(0,Y.wY)(Y.Z_),blurredPreview:(0,Y.wY)(Y.Z_),imageSquared:(0,Y.wY)(Y.Z_),creationTime:Y.Z_,adDisable:(0,Y.wY)(Y.O7)})),Tt={post:Ct,card:Ct,gif:Pt,short_video:Pt,interest:St,publisher:Et,domain:Et},Rt=(0,Y.kS)("type",Tt),At=(0,Y.Ry)({title:Y.Z_,tabId:Y.Z_}),xt=(0,Y.Ry)({title:Y.Z_,type:(0,Y.i0)("list_container"),items:(0,Y.IX)(Rt),tabLink:(0,Y.wY)(At),bulkParams:Y.Z_}),Ot=(0,Y.kS)("type",Object.assign({list_container:xt},Tt)),Nt=(0,Y.Ry)({id:Y.Z_,name:Y.Z_,more:(0,Y.Ry)({link:(0,Y.wY)(Y.Z_)}),items:(0,Y.IX)(Ot),bulkParams:Y.Z_}),Mt=((0,Y.Ry)({id:Y.Z_,name:Y.Z_,more:(0,Y.Ry)({link:(0,Y.wY)(Y.Z_)}),items:(0,Y.IX)(xt),bulkParams:Y.Z_}),(0,Y.nn)((0,Y.Ry)({rid:Y.Z_,items:(0,Y.IX)(Nt)}),(e=>{let{items:t}=e,n=(0,it.Z)(e,at);const s=t.map((e=>Object.assign({},e,{items:e.items.map((e=>{switch(e.type){case"card":case"post":case"gif":return Object.assign({},e,{image:e.image});case"publisher":case"domain":return Object.assign({},e,{logo:e.logo});default:return e}}))})));return Object.assign({items:s},n)}))),Lt=e=>(0,Y.Qc)(Mt,e);var Dt=n(16347),Bt=n(45304),Ft=n(86758),Zt=n(3779);var Vt=n(7061),Ut=n(249),jt=n(88392),zt=n(51780),Ht=n(86826),qt=n(78147),$t=n(30373);const Gt=(0,zt.v)({link:Ht.Z_,title:(0,qt.w)(Ht.Z_),image:(0,qt.w)(Ht.Z_),publicationDate:(0,qt.w)(Ht.Z_),text:(0,qt.w)(Ht.Z_),richText:(0,qt.w)(jt.x),views:(0,qt.w)(Ht.Rx),type:Ht.Z_,source:Ut.Hw,bulkParams:Ht.Z_}),Wt=(0,zt.v)({items:(0,$t.I)(Gt)});var Yt=n(94626),Kt=n(89294);class Xt{constructor(){this.counters={},this.get=e=>this.counters[e]||0,this.add=(e,t)=>{this.counters[e]=(this.counters[e]||0)+t},this.getCountersList=()=>Object.keys(this.counters)}}class Jt{constructor(){this.statsCounter={},this.getCounter=e=>{const t=this.statsCounter[e]||new Xt;return this.statsCounter[e]=t,t},this.add=(e,t)=>{this.getCounter(t).add(e,1)},this.getCount=(e,t)=>this.getCounter(t).get(e),this.getAllCountByStatEvent=e=>{const t=this.getCounter(e);return t.getCountersList().reduce(((e,n)=>e+t.get(n)),0)}}}var Qt=n(37700);const en=(e,{bulkParams:t,bulkReplaceMap:n,payload:s})=>({id:tn(e),event:e,params:n?(0,Qt.n)(t,n):t,ts:Date.now(),payload:s}),tn=e=>`${e}_${Date.now()}`,nn=e=>({stats:e.map((({event:e,params:t,ts:n,payload:s})=>Object.assign({event:e,data:t,ts:n},s||{}))),bulk_ts:Date.now()});var sn=n(14307);const an=(0,Yt.s)();class rn extends class{constructor(e){this.config=l.bG,this.queue=Promise.resolve(),this.network=Ee,this.cache=nt(),this.eventEmitter=new N,this.lastUsedPackId=null,this.lastUsedPackShown=!1,this.configSubscribers=[],this.debouncedUpdateNotShownPack=(0,F.D)((e=>this.updateNotShownPack(e)),l.i4),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.off=this.eventEmitter.off.bind(this.eventEmitter),this.addListener=this.eventEmitter.on.bind(this.eventEmitter),this.removeListener=this.eventEmitter.off.bind(this.eventEmitter),this.configure(e)}configure(e){const t="function"==typeof e?e(this.config):e;this.config=t,this.configSubscribers.forEach((e=>{e&&e(this.config)})),this.config.clid&&this.config.cache?this.cache=this.getCacheApi():this.cache=nt()}subscribeToConfig(e){return e(this.config),this.configSubscribers.push(e)-1}unsubscribeFromConfig(e){delete this.configSubscribers[e]}setNetworkRequestProvider(e){this.network=e}getLastUsedPackId(){return this.lastUsedPackId}isPackAlreadySetAsFullyShown(e,t){return this.lastFullyShownPackId===e&&this.lastFullyShownCacheId===t}getCacheId(){const{cache:e}=this.config;return e&&e.idGenerator?e.idGenerator(this.config):""}getCacheStorage(){if(!this.config.cache)throw new ge("Cache options is not defined");return ve(this.config.cache)}getCacheApi(){const e=this.getCacheStorage(),t=this.getCacheId(),n=(e=>{if(!e.clid)throw new Error("ZenApi clid is not configured.");const{clid:t,referrerClid:n,referrerPlace:s,countryCode:i,contentLangs:a,clientExperiments:r,zenFeatures:o,userInfo:l,feedFilter:c,isAdblockEnabled:d}=e;return{clid:t,referrerClid:n,referrerPlace:s,countryCode:i,contentLangs:a,clientExperiments:r,zenFeatures:o,feedFilter:c,isAdblockEnabled:d,userId:Ze(l),version:"1.57.2"}})(this.config);return st({storage:e,cacheId:t,validationParams:n,apiResponseValidator:this.config.apiResponseValidator})}getApiRequestUrl(e){return Le(e,this.config,this.config.links)}getApiRequestUrlWithPublicId(e,t){return this.getApiRequestUrl(e).replace("__public_id__",t)}getApiRequestUrlWithIds(e,t,n){return this.getApiRequestUrl(e).replace("__publisher_id__",t).replace("__publication_id__",n)}extendHeadersWithWindowData(e,{includeXRetpath:t}){return window?Object.assign({},e,t?{"X-Retpath-Y":window.location.href}:{}):e}async getApiResponseFromNetworkAndMaybePutItToCache(e,t){const{cacheMode:n=se.q.Default,responseParser:s,responseValidator:i}=t,a=await this.getApiResponseFromNetwork(e,t),r=this.parseAndValidateApiResponse(a,s,i);return re(n)(ie.PutAfterNetwork)&&await this.updateCache(e,a,r),{apiResponse:r,source:l.Fb.Network}}async getApiRequestParams(e,t){const{body:n,headers:s,method:i,mode:a,params:r}=t;return{body:n,headers:this.extendHeadersWithWindowData(s,{includeXRetpath:e.indexOf("/activity-feed?")>0}),method:i,mode:a,params:r}}async getApiResponseFromNetwork(e,t){const n=t.apiRequestUrl||this.getApiRequestUrl(e),s=await this.makeApiRequestWithExtraHeaders(n,await this.getApiRequestParams(n,t));return Object.assign({},s,{received_at:Date.now()})}parseAndValidateApiResponse(e,t,n){const s=t(e,this.getCacheId());return n(s),s}async updateCache(e,t,n){this.cache.putNotShownPack(e,t,n).then((()=>{this.eventEmitter.emit(l.zW.NotShownPackUpdated,e,t)})).catch((()=>{})),this.eventEmitter.emit(l.zW.UpdatePreload,((e,t=10)=>{if(!e||!e.items)return[];const n=[];for(let s=0;s<e.items.length&&n.length<t;s++){const t=e.items[s];t.type!==B.qG.IMAGE&&t.type!==B.qG.TEXT||n.push(t.cardBackgroundWhiteImage)}return n})(n))}async makeApiRequestWithExtraHeaders(e,t={}){return this.network(e,t,Object.assign({},this.config,{zenFeatures:(n=this.config.zenFeatures,Object.assign({},n,{screen:Object.assign({},null==n?void 0:n.screen,{width:"undefined"!=typeof window?window.innerWidth:0,height:"undefined"!=typeof window?window.innerHeight:0})}))}));var n}async getExportApiResponse(e={}){const t=async()=>{if(re(e.cacheMode||se.q.Default)(ie.GetAfterNetwork))try{return{apiResponse:(await this.cache.getNotShownOrLastShownPack()).parsedApiResponse,source:l.Fb.CacheAfterNetwork}}catch(e){e instanceof ge||console.warn(`Failed to get cached pack after bad network request: '${(0,Zt.X)(e).message}'.`)}};try{return await this.getMoreApiResponse(l.Jl.Export,e)}catch(e){const n=await t();if(!n)throw e;return n}}async getMoreApiResponse(e,t={}){const n=re(t.cacheMode||se.q.Default);return await this.tryGetApiResponseBeforeNetwork(e,n)||await this.getApiResponseFromNetworkAndMaybePutItToCache(e,Object.assign({},t,{responseParser:V.io,responseValidator:this.config.apiResponseValidator}))}async tryGetApiResponseBeforeNetwork(e,t){if(t(ie.GetBeforeNetwork))try{return await this.getApiResponseFromCacheBeforeNetwork(e)}catch(e){e instanceof ge||console.warn(`Failed to get cached pack before network request: '${(0,Zt.X)(e).message}'.`)}}async getApiResponseFromCacheBeforeNetwork(e){const{parsedApiResponse:t,type:n}=await this.cache.getNotShownPack();if(e===l.Jl.More&&n===l.Jl.Export)throw new ge("Can not apply cache from export to more request.");if(this.lastUsedPackId===t.rid)throw new ge(`Pack '${t.rid}' has already been used.`);return{apiResponse:t,source:l.Fb.CacheBeforeNetwork}}async hasValidNotShownPackInCache(e){try{return await this.getApiResponseFromCacheBeforeNetwork(e),!0}catch(e){return!1}}updateNotShownPack({invalidate:e=!1,requestType:t=l.Jl.More,params:n,callback:s}={}){var i;if(null==(i=this.config.cache)||!i.isPrefetchEnabled)return;this.addToQueue((async()=>{if(e||!await this.hasValidNotShownPackInCache(t))try{await this.getApiResponseFromNetworkAndMaybePutItToCache(t,{responseParser:V.io,responseValidator:this.config.apiResponseValidator,params:n}),null==s||s()}catch(e){}}))}addToQueue(e){const t=this.queue=this.queue.then((()=>e()),(()=>e()));return t.catch((()=>{})),t}lockQueue(){const e={resolve:e=>{}},t=new Promise((t=>{e.resolve=t}));return this.addToQueue((()=>t)),e}getConfig(){return this.config}getExport(e){return this.addToQueue((async()=>{const t=await this.getExportApiResponse(e);return this.updateNotShownPack(),t}))}getMore(e){if(!this.config.suspendMore)return this.addToQueue((async()=>{const t=await this.getMoreApiResponse(l.Jl.More,e);return this.updateNotShownPack(),t}))}sendAppLinkSms(e){const t=this.getApiRequestUrl(l.Jl.SendAppLinkSms);return this.makeApiRequestWithExtraHeaders(t,{params:{phone:e}})}async getPublisherConfig(){const e=this.getApiRequestUrl(l.Jl.PublisherConfig),t=await this.makeApiRequestWithExtraHeaders(e);return(0,ne.K)(t)?t:(0,V.io)(t)}async getProfile(){const e=this.getApiRequestUrl(l.Jl.Profile);return(e=>{const t=e.items.reduce(((e,t)=>Object.assign({},e,$[t.type](t))),{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t})(await this.makeApiRequestWithExtraHeaders(e))}async getSuggest(e){const t=this.getApiRequestUrl(l.Jl.Suggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return(0,te.St)(n)}async getMultisearch(e){const t=this.getApiRequestUrl(l.Jl.Multisearch),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return Lt(n)}async getMultisearchMore(e){const t=await this.makeApiRequestWithExtraHeaders(e);return Lt(t)}async getZenSearch({searchTypes:e,searchQuery:t,referrerPageType:n}){const s=this.getApiRequestUrl(l.Jl.ZenSearch),i={query:t};e&&(i.types=e),n&&(i.referrer_page_type=n);const a=await this.makeApiRequestWithExtraHeaders(s,{params:i});return(0,V.io)(a)}async getBlockedSuggest(e){const t=this.getApiRequestUrl(l.Jl.BlockedSuggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return(0,te.St)(n)}async getPreferences(e,t){const n=this.getApiRequestUrlWithPublicId(l.Jl.Preferences,e),s=await this.makeApiRequestWithExtraHeaders(n,t);return(0,te.St)(s)}async getVideoRecommend(e){const{videoRelatedUrl:t,onlyShortVideo:n}=e,s=this.getApiRequestUrl(l.Jl.VideoRecommend),i={short_video_feed:Boolean(n).toString()},a=await this.makeApiRequestWithExtraHeaders(t||s,{params:i});return{recommends:(0,G.Z3)(a),moreRecommendsLink:(0,G.MU)(a),adPixelData:(0,G.dE)(a)}}async getVideoFeed(){const e=this.getApiRequestUrl(l.Jl.VideoFeed),t=await this.makeApiRequestWithExtraHeaders(e);return(0,V.io)(t)}async getVideoViewerData(e,t,n,s){const i=this.getApiRequestUrl(l.Jl.GetVideoViewerData),a=await this.makeApiRequestWithExtraHeaders(i,{params:{publisher_id:e,publication_id:t,flight_id:n,rid:s}});return(0,W.Wt)(a)}async getCountryLang(){const e=this.getApiRequestUrl(l.Jl.CountryLang);return(({country_id:e,language_ids:t,countries:n,languages:s})=>({countryId:e,languageIds:t.reduce(((e,t)=>(e[t]=!0,e)),{}),countries:n.map((({code:e,langs:t,name:n})=>({code:e,langs:t,name:n}))),languages:s}))(await this.makeApiRequestWithExtraHeaders(e))}async getCommentsCounters(e,t){const n=this.getApiRequestUrl(l.Jl.CommentsCounter);try{const s=await this.network(n,{body:{documentIds:e,withLikes:t},mode:"cors",method:"POST"});return(0,Z.Hj)(Q,s,"Счетчик комментариев")}catch(e){return}}async getSocialMeta(e,t){const n=this.getApiRequestUrl(l.Jl.CommentsCounter).replace("comment-count","social-meta"),s=await this.network(n,{body:{documentIds:e,withLikes:t},mode:"cors",method:"POST"});return(0,Z.Hj)(ee,s,"Количество комментов/лайков и аватары из комментов")}async setCountryLang(e,t){const n=this.getApiRequestUrl(l.Jl.CountryLang);await this.makeApiRequestWithExtraHeaders(n,{body:{country_id:e,language_ids:t}}),this.invalidateCache()}async getSocialProfile(e){const t=this.getApiRequestUrlWithPublicId(l.Jl.SocialProfile,e);return(e=>(0,ne.K)(e)?{type:e.type,captcha:e.captcha}:{status:e.status,uid:e.uid,avatarUrl:e.avatarUrl,name:e.name,about:e.about,followerCount:e.followerCount,subscriptionCount:e.subscriptionCount,backgroundColor:e.backgroundColor,textColor:e.textColor,interests:e.interests.map(te.P7),privacy:e.privacy?{hideInterests:e.privacy.hideInterests,hideActivity:e.privacy.hideActivity,hideSubscriptions:e.privacy.hideSubscriptions}:{hideInterests:!0,hideActivity:!0,hideSubscriptions:!0},isSleeping:e.isSleeping,onboardingRequired:e.onboardingRequired,csrfToken:e.csrfToken,passportRetPathPlaceholder:e.passportRetPathPlaceholder,regionalDomainPlaceholder:e.regionalDomainPlaceholder,passportAvatarEditLink:e.passportAvatarEditLink,passportDisplayNameEditLink:e.passportDisplayNameEditLink,source:(0,te.yV)(e.source),isDeactivated:"deleted"===e.status,isNotExist:"not_exist"===e.status})(await this.makeApiRequestWithExtraHeaders(t,{headers:this.extendHeadersWithWindowData({},{includeXRetpath:!0})}))}async getUserSubscribers(e){const t=this.getApiRequestUrlWithPublicId(l.Jl.Subscribers,e),n=await this.makeApiRequestWithExtraHeaders(t);return(0,te.St)(n)}async updateSocialProfile(e){const t=this.getApiRequestUrl(l.Jl.SocialProfileEdit);await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},method:"PUT",body:e})}prefetch(){this.debouncedUpdateNotShownPack()}async invalidateCache(){this.config.cache&&(await this.cache.removeNotShownPack(),this.debouncedUpdateNotShownPack())}async clearCache(){this.config.cache&&(await this.cache.removeNotShownPack(),await this.cache.removeLastShownPack())}packUsed(e){e&&(this.lastUsedPackId=e,this.lastUsedPackShown=!1)}packShown(e,t){this.packShownImpl(e,t)}packShownImpl(e,t){const n=this.lastShownPackId===e&&this.lastShownCacheId===t;if(!this.config.cache||n)return void this.eventEmitter.emit(l.zW.PackShown,e);this.setLastShownPack(e,t);const s=async e=>{try{await Promise.all([this.cache.removeNotShownPack(),this.cache.putLastShownPack(e.type,e.apiResponse,e.parsedApiResponse)]),this.eventEmitter.emit(l.zW.LastShownPackUpdated,e.type,e.apiResponse)}catch(e){}};this.addToQueue((async()=>{try{const t=await this.cache.getNotShownPack();t.apiResponse.rid===e&&await s(t)}catch(e){}finally{e===this.lastUsedPackId&&!this.lastUsedPackShown&&(this.lastUsedPackShown=!0,this.updateNotShownPack()),this.eventEmitter.emit(l.zW.PackShown,e)}}))}setLastShownPack(e,t){this.lastShownPackId=e,this.lastShownCacheId=t}setLastFullyShownPack(e,t){this.lastFullyShownPackId=e,this.lastFullyShownCacheId=t}async getNotShownPackFromCache(e){return(await this.cache.getNotShownPack(e)).parsedApiResponse}async getLastShownPackFromCache(e){return(await this.cache.getLastShownPack(e)).parsedApiResponse}getNetwork(){return this.network}getCache(){return this.cache}async completeProfileOnboarding(e){const t=this.getApiRequestUrl(l.Jl.ProfileCompleteOnboarding),n=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},body:{context:e.context,onboardingDocumentId:e.documentId},method:"PUT"});if(!n||"ok"!==n.status)throw new Error("complete onboarding failed");return n}async deactivateProfile(e,t){const n=this.getApiRequestUrl(l.Jl.ProfileDeactivate),{userInfo:s}=this.config,{deviceId:i}=s,{token:a}=t,r=await this.makeApiRequestWithExtraHeaders(n,{headers:{"x-csrf-token":a},body:{reason:e,deviceId:i,clientTs:Date.now()},method:"PUT"});if(!r||"ok"!==r.status)throw new Error("profile deactivate failed");return r}async cancelDeactivateProfile(e){const t=this.getApiRequestUrl(l.Jl.ProfileCancelDeactivate),{userInfo:n}=this.config,{deviceId:s}=n,{token:i}=e,a=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":i},body:{deviceId:s,clientTs:Date.now()},method:"PUT"});if(!a||"ok"!==a.status)throw new Error("cancel profile deactivate failed");return a}async clearCacheOverflow(){var e;this.config.cache&&this.config.cache.namespace&&this.config.cache.idGenerator&&await(e=this.getCacheStorage(),e.keys().then((t=>t.length<25?[]:ye(e,t))).then((t=>{const n=t.sort((({record:e},{record:t})=>t.apiResponse.received_at-e.apiResponse.received_at)).splice(11).map((({key:t})=>e.remove(t)));return Promise.all(n)})))}getCurrentUserInterests(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(l.Jl.CurrentUserInterests))}getCurrentUserSubscriptions(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(l.Jl.CurrentUserSubscriptions))}async getSubscriptionsMore(e){const t=await this.makeApiRequestWithExtraHeaders(e);return n=t,(0,Bt.Nl)(n),(0,Bt.ku)(Array.isArray(n.items)),n.items.reduce(((e,t)=>{(0,Bt.Nl)(t);try{const n=(0,Dt.J)(t);n&&e.push(Object.assign({},n,{packId:(0,Ft.H)("subscriptions_more"),cacheId:""}))}catch(e){console.error((0,Zt.X)(e).message,`itemId: ${t.id}, itemType: ${null==t?void 0:t.type}, itemCardType: ${t.card_type}`)}return e}),[]);var n}async getRecommendationsChannels(e){const t=await this.makeApiRequestWithExtraHeaders(e);if(t.items.length)return[(0,Vt.O)(t.items[0])]}async getPublicationEmbed(e,t){const n=this.getApiRequestUrlWithIds(l.Jl.GetFeedPublications,e,t),s=await this.makeApiRequestWithExtraHeaders(n);return i=s,(0,Z.Hj)(Wt,i,"Ручка с публикацией для вебвью страницы пожаловаться");var i}async getMoreChannelsList(e){return await this.makeApiRequestWithExtraHeaders(e)}async getDelayedLiveVideoSource(e){const t=this.getApiRequestUrlWithPublicId(l.Jl.Videos,e),n=await this.makeApiRequestWithExtraHeaders(t);return(0,W.pP)(n)}async toggleSavedPublication({url:e,publisherId:t,publicationId:n,method:s}){if(!e)return;return await this.makeApiRequestWithExtraHeaders(e,{body:{publisher_id:t,publication_id:n},method:s})}}{constructor(...e){return super(...e),this.bulkEvents=[],this.sendingTimeoutId=null,this.bulkEventBatch=null,this.timeLastSentBatch=0,this.statsCounter=new Jt,this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[],this.forceSendBulkEvents=()=>(this.bulkEventBatch=null,null!==this.sendingTimeoutId&&(window.clearTimeout(this.sendingTimeoutId),this.sendingTimeoutId=null),this.sendBulkEvents()),this}async getApiResponseFromNetwork(e,t={}){var n;if(an&&this.sendBulkEventsWithinQueue(),an||0===this.bulkEvents.length||t.body)return super.getApiResponseFromNetwork(e,t);if(null!=(n=this.config.parsedExperiments)&&n.statBeforeMore)return await this.forceSendBulkEvents(),super.getApiResponseFromNetwork(e,t);const{bulkEvents:s}=this,i=nn(s);this.bulkEvents=[];try{return super.getApiResponseFromNetwork(e,Object.assign({},t,{body:i}))}catch(e){throw this.bulkEvents=this.bulkEvents.concat(s),e}}addToQueue(e,t=!0){return t&&(this.bulkEventBatch=null),super.addToQueue(e)}queuedForceSendBulkEvents(){return this.addToQueue(this.forceSendBulkEvents.bind(this))}async queuedForceSendBulkEventsWithLock(){return await this.queuedForceSendBulkEvents(),super.lockQueue()}callInQueue(e){this.addToQueue((()=>(e(),Promise.resolve())))}async sendBulkEvents(){if(0===this.bulkEvents.length)return;const e=this.getApiRequestUrl(l.Jl.Bulk),{bulkEvents:t}=this,n=nn(t);this.bulkEvents=[];try{await this.makeApiRequestWithExtraHeaders(e,{body:n})}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}planBulkEventsSending(e){e>=Date.now()-this.timeLastSentBatch&&null!==this.sendingTimeoutId||(this.sendingTimeoutId&&clearTimeout(this.sendingTimeoutId),this.sendingTimeoutId=window.setTimeout((()=>{this.sendingTimeoutId=null,this.sendBulkEventsWithinQueue()}),e),this.timeLastSentBatch=Date.now())}sendBulkEventsWithinQueue(){if(!this.bulkEventBatch){const e=this.bulkEventBatch=(()=>{let e,t,n=0,s=0,i=!1;const a=new Promise((t=>{e=t})),r=new Promise((e=>{t=e})),o=()=>{i=!0,t()},l=()=>{s++,s===n&&o()};return{trigger:()=>(e(),s===n&&o(),r),extend:e=>{i||(n++,a.then(e).then(l,l))}}})();this.addToQueue((()=>e.trigger().then((()=>{this.bulkEventBatch===e&&(this.bulkEventBatch=null)}))),!1)}this.bulkEventBatch&&this.bulkEventBatch.extend((()=>this.sendBulkEvents().catch((e=>{console.warn("Error while sending bulk events",e)}))))}isBulkEventsLimitReached(){return!(0,me.o8)(this.config.bulkStatsQueueSize)&&this.bulkEvents.length>=this.config.bulkStatsQueueSize}oldLogBulkEvent(e){this.shoudDeferEvent(e.event)?this.deferredOldBulkLogParams.push(e):this.oldLogBulkEventInner(e)}oldLogBulkEventInner(e){const{event:t,bulkParams:n,statMeta:s}=e,i={id:tn(t),event:t,params:n,ts:Date.now()};this.bulkEvents.push(i),this.isBulkEventsLimitReached()?this.forceSendBulkEvents():this.planBulkEventsSending(this.config.bulkStatsTimeout||1e3),this.eventEmitter.emit(l.zW.BulkEventLogged,Object.assign({},i,{statMeta:s}))}logBulkEvents(e,t,n){n&&this.statsCounter.add(n,e),this.shoudDeferEvent(e)?this.deferredBulkLogParams.push({statEvent:e,params:t}):this.logBulkEventsInner(e,t)}makeReplaceMap(e){return(0,sn.h)(e)}logBulkEventsInner(e,{bulkParams:t,bulkReplaceMap:n,statMeta:s={},payload:i,maxSendTimeoutMs:a=this.config.bulkStatsTimeout||1e3}){const r=en(e,{bulkParams:t,bulkReplaceMap:n,payload:i});r&&(this.bulkEvents.push(r),this.isBulkEventsLimitReached()?this.forceSendBulkEvents():this.planBulkEventsSending(a),this.eventEmitter.emit(l.zW.BulkEventLogged,{event:e,statMeta:s}))}shoudDeferEvent(e){const{deferredEvents:t}=this.config;if(!t)return!1;const{shouldDeferEvents:n,notDeferredEvents:s}=t;return n&&!s.includes(e)}async getPreferences(e){if(an&&this.sendBulkEventsWithinQueue(),an||0===this.bulkEvents.length)return super.getPreferences(e);const{bulkEvents:t}=this,n={body:nn(t)};this.bulkEvents=[];try{return super.getPreferences(e,n)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}configureDeferredEvents(e){this.configure((t=>{if(!t.deferredEvents)throw new Error("Deferred events is not configured");return Object.assign({},t,{deferredEvents:Object.assign({},t.deferredEvents,e)})}))}async sendNewsStats(){var e;if(null!=(e=this.config.deferredEvents)&&e.shouldDeferEvents){await(0,Kt.D)(100);for(let e=this.deferredBulkLogParams.length-1;e>=0;e--){const{statEvent:t,params:n}=this.deferredBulkLogParams[e],{payload:s}=n;null!=s&&s.isNewsEvent&&(this.logBulkEventsInner(t,n),this.deferredBulkLogParams.splice(e,1))}}}stopDeferEvents(){var e;null!=(e=this.config.deferredEvents)&&e.shouldDeferEvents&&(this.configureDeferredEvents({shouldDeferEvents:!1}),this.deferredOldBulkLogParams.forEach((e=>{this.oldLogBulkEventInner(e)})),this.deferredBulkLogParams.forEach((({statEvent:e,params:t})=>{this.logBulkEventsInner(e,t)})),this.deferredPackShown.forEach((({packId:e,cacheId:t})=>{this.packShown(e,t)})),this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[])}startDeferEvents(){this.configureDeferredEvents({shouldDeferEvents:!0}),this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[]}packShown(e,t){var n;null!=(n=this.config.deferredEvents)&&n.shouldDeferEvents?this.deferredPackShown.push({packId:e,cacheId:t}):this.packShownImpl(e,t)}}const on=()=>{const e=Boolean(!0),t=e?{shouldDeferEvents:e,notDeferredEvents:["show_teaser","short","teethLayoutUsed","intro_user_agreement_show","intro_user_agreement_accept"]}:void 0;return new rn((e=>Object.assign({},e,{apiResponseValidator:Je,deferredEvents:t})))};var ln=n(49856),cn=n(81235),dn=n(13012),un=n(82610);let mn;!function(e){e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.Blocked="blocked",e.Unblocked="unblocked"}(mn||(mn={}));const pn={[c.SX]:mn.Blocked,[c.cT]:mn.Unblocked,[c.D7]:mn.Subscribed,[c.LU]:mn.Unsubscribed},hn=e=>()=>t=>n=>{const{type:s,payload:i}=n,{outputBus:a}=e,r=pn[s];if(r&&i&&a){const{id:e}=i;a.emit("sourceChange",{id:e,type:r})}return t(n)};var bn=n(1441),gn=n(21914);const vn=e=>t=>n=>s=>{const i=t.getState(),a=(0,g.MA)(i);return n(Object.assign({},s,{__data__:{selfUserId:a,modalRoutes:e.modalRoutes,location:i.router.location}}))},_n=e=>[vn(e),hn(e)],fn=(e,t,n="page")=>{const s=(i=t,(...e)=>t=>(...n)=>{let s=[],a=s,r=0;return(0,bn.md)((()=>e=>t=>{const n="function"==typeof t;let i;n&&r++;try{i=e(t)}finally{n&&r--}if(0===r){const e=s=a;for(let t=0;t<e.length;t++)e[t]()}return i}),gn.Z.withExtraArgument(i),...e)((e=>(...t)=>{const n=e(...t),i=()=>{a===s&&(a=s.slice())};return Object.assign({},n,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return i(),a.push(e),function(){if(!t)return;t=!1,i();const n=a.indexOf(e);a.splice(n,1)}}})})(t))(...n)});var i;return s(...e)};var yn=n(32034);const wn=(0,yn.P1)((e=>e.params.host),(e=>e.params.clid),(e=>e.params.countryCode),(e=>e.params.contentLangs),(e=>e.params.zenFeatures),(e=>e.params.clientExperiments),h.a,(e=>e.links),(e=>e.user),(e=>e.params.referrerClid),(e=>e.params.referrerPlace),((e,t,n,s,i,a,r,o,l,c,d)=>({host:e,clid:t,countryCode:n,contentLangs:s,zenFeatures:i,clientExperiments:a,parsedExperiments:r,links:o,userInfo:l,referrerClid:c,referrerPlace:d}))),kn=(e,t)=>{let n;const s=()=>{const s=t.getState(),i=wn(s);void 0!==n&&n===i||(n=i,e.configure((e=>Object.assign({},e,i))))};return s(),t.subscribe(s)};var Sn=n(38905),En=n(22796),Cn=n(4238);const In=()=>{const e=(()=>{let e,t;return n=>{const{itemsOrder:s}=(0,En.qx)(n);if(e===s)return t;const i=s.reduce(((e,t)=>{const s=(0,En.dK)(n,t);return s&&"packId"in s&&s.packId&&e.add(s.packId),e}),new Set);return e=s,t=i.size>20?Array.from(i).slice(i.size-20):Array.from(i),t}})();return(0,yn.P1)(e,(e=>(0,Cn.s)(e.params.experimentsData)),((e,t)=>({rids:e,experiments:t})))},Pn=(e,t)=>{const n=In();return t.subscribe((()=>{const s=t.getState(),i=n(s);e.setContext(i)}))};var Tn=n(37471),Rn=n(23268);const An=e=>(t,n)=>{const s=n(),i=(0,g.MA)(s);t((0,b.cn)(i)),t(((e,t)=>({type:c.Ue,payload:{id:e,state:t}}))(i,e))};var xn=n(92108),On=n(95164);class Nn{constructor(e,t){if(this.store=t,this.supportNotifications=!1,this.updateNotifications=e=>{var t;null==(t=this.store)||t.dispatch(An(e))},this.setNativeNavbar=e=>{var t;null==(t=this.store)||t.dispatch((0,xn.s7)(e))},this.store){const e=this.store.getState(),t=(0,k.yw)(e);this.supportNotifications=t.zenkitNotificaitons}this.handlers()}async handlers(){const e=await(0,On.vX)();if(!e)return;const{notifications:t,nativeNavBarEnabled:n}=e;this.supportNotifications&&(this.updateNotifications(t),(0,On.K)().then((e=>null==e||null==e.on?void 0:e.on("notifications",(e=>{this.updateNotifications(e.data)}))))),n&&this.setNativeNavbar(n)}async close(){const e=await(0,On.K)();return null==e||null==e.close?void 0:e.close()}async requestCookieAuthURL(e,t,n){const s=await(0,On.K)();return null==s||null==s.requestCookieAuthURL?void 0:s.requestCookieAuthURL(e,t,n)}async channelStatusChanged(...e){const t=await(0,On.K)();return null==t||null==t.channelStatusChanged?void 0:t.channelStatusChanged(...e)}async navigateBrowser(e){const t=await(0,On.K)();return null==t||null==t.navigate?void 0:t.navigate("BROWSER",e)}async navigateChannel(e){const t=await(0,On.K)();return null==t||null==t.navigate?void 0:t.navigate("CHANNEL",e)}async navigateSubscriptions(){const e=await(0,On.K)();return null==e||null==e.navigate?void 0:e.navigate("SUBSCRIPTIONS")}async navigateSettings(){const e=await(0,On.K)();return null==e||null==e.navigate?void 0:e.navigate("SETTINGS")}async navigateHistory(){const e=await(0,On.K)();return null==e||null==e.navigate?void 0:e.navigate("HISTORY")}async navigateEditor(){const e=await(0,On.K)();return null==e||null==e.navigate?void 0:e.navigate("EDITOR")}async navigateEditorPost(e){const t=await(0,On.K)();return null==t||null==t.navigate?void 0:t.navigate("EDITOR_POST",e)}async navigateNotifications(){const e=await(0,On.K)();return null==e||null==e.navigate?void 0:e.navigate("NOTIFICATIONS")}async navigateProfile(e){const t=await(0,On.K)();return null==t||null==t.navigate?void 0:t.navigate("PROFILE",e)}async onReady(){const e=await(0,On.K)();return null==e||null==e.onReady?void 0:e.onReady()}async onError(){const e=await(0,On.K)();return null==e||null==e.onError?void 0:e.onError()}}const Mn=e=>{const t="undefined"!=typeof window?window:void 0;if(t)return new Nn(t,e)};var Ln=n(60849),Dn=n(20971),Bn=n(51535),Fn=n(28899);const Zn=({children:e})=>{const t=(0,Tn.v9)(k.FS);return i().createElement(Fn.f6,{theme:t},e)},Vn=e=>(t,n)=>{if(n.type===c.nF){const{branchName:e,branchState:s}=n.payload,i=(0,v.u)(s).reduce(((e,t)=>(void 0!==s[t]&&(e[t]=s[t]),e)),{});return Object.assign({},t,{[e]:Object.assign({},t&&t[e],i)})}return e(t,n)},Un=(e,t)=>{switch(t.type){case c.su:{const{feedback:n}=t.payload;return Object.assign({},e,{feedback:n})}case c.rI:case c.Z:return Object.assign({},e,{feedback:"disliked"});case c.Wo:return Object.assign({},e,{feedback:"blocked"});case c.Cp:return Object.assign({},e,{feedback:null,complaintsState:null});case c.MX:return Object.assign({},e,{complaintsState:"opened"});case c.UF:return Object.assign({},e,{complaintsState:"sended",complaintsSentAt:e.feedback});case c.kB:return Object.assign({},e,{complaintsState:null,complaintsSentAt:null});case c.a7:{const t=Number(e.mittensJumpAnimationKey)+1;return Object.assign({},e,{mittensJumpAnimationKey:t})}case c.Yj:{const{answerId:n,questionId:s,value:i}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:a=[]}=e.customUserFeedbackData,r=a.findIndex((({id:e})=>e===s));if(-1===r||!a[r])return e;const l=a[r].answers.findIndex((({id:e})=>e===n));if(r<0)return e;const c=["customUserFeedbackData","questions",r,"answers",l,"isChecked"];return o.ZP.set(e,c,i)}case c.JN:{const{questionId:n}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:s=[]}=e.customUserFeedbackData,i=s.findIndex((({id:e})=>e===n));if(i<0)return e;const a=["customUserFeedbackData","questions",i,"answers"],r=(o.ZP.get(e,a)||[]).map((e=>Object.assign({},e,{isChecked:!1})));return o.ZP.set(e,a,r)}default:return e}};var jn=n(49090);const zn=(0,jn.v)(Un,((e,t)=>{switch(t.type){case c.hf:return Object.assign({},e,{read:!0});case c.kQ:return Object.assign({},e,{subscribeTriggerEvent:"click"});case c.su:return"liked"===t.payload.feedback?Object.assign({},e,{subscribeTriggerEvent:"feedback_more"}):e;default:return e}})),Hn=(0,jn.v)(Un,((e,t)=>{switch(t.type){case c.$n:return Object.assign({},e,{isCallToActionShown:!0});case c.Gp:return Object.assign({},e,{isCallToActionWrapped:!0});default:return e}})),qn=(0,jn.v)(Un),$n=(e,t)=>t.type===c.Q3?Object.assign({},e,{currentScreenId:t.payload.screenId}):e,Gn={[B.qG.TEXT]:zn,[B.qG.IMAGE]:zn,[B.qG.GALLERY]:zn,[B.qG.BRIEF]:zn,[B.qG.GALLERY_INTERLACED]:zn,[B.qG.GIF]:Hn,[B.qG.SHORT_VIDEO]:Hn,[B.qG.LIVE]:qn,[B.qG.LIVE_INTERLACED]:qn,[B.qG.INTERVIEW]:$n,[B.qG.SHOWCASE_CARD]:zn},Wn=(e,t)=>e.type in Gn?Gn[e.type](e,t):e,Yn=(e,t)=>t.reduce(((e,[t,...n])=>o.ZP[t](e,...n)),e);var Kn=n(73119);const Xn={gridType:B.tQ.ONE_COLUMN_BIG,gridTypeMap:{},items:{},replaceQueue:[],itemsOrder:[],initialDisplayedRowsNumber:0,isChildWindow:!1,isBlocked:!1,eulaWasShown:!1,flipKey:0,uniqItemIdCounterKostyl:0,topPackId:void 0,visibleFeedRows:{},moreRequestCount:1,rtbCountCache:{},subscribedInCurrrentSessionList:[],shouldHideRefreshSnackbar:!1,orderedIds:[],pinnedPublicationIds:[],isSubscriptionsHeadsVisible:!0,maxPinnedItems:1},Jn=(e=Xn,t)=>{switch(t.type){case c._q:{const{item:n,afterId:s}=t.payload;return Yn(e,[["set",["items",n.id],n],["set","itemsOrder",e=>es(e,[n.id],s)]])}case c.ns:{const{itemId:n}=t.payload,s=e.itemsOrder.indexOf(n),i=e.pinnedPublicationIds.indexOf(n),a=[["del",["items",n]],["del",["itemsOrder",s]]];return-1!==i&&a.push(["del",["pinnedPublicationIds",i]]),Yn(e,a)}case c.fF:{const{afterId:n,itemIdsList:s,insertOnTop:i}=t.payload;return Yn(e,[["set","itemsOrder",e=>i?Qn(e,s,e[0],!1):es(e,s,n)]])}case c.YZ:{if(t.payload.status!==Kn.L.Success)return e;const n=(0,v.u)(e.items);return Array.isArray(n)?((e,t,n)=>{const s=e.items,i={};let a=!1;for(let e=0;e<n.length;e++){const r=n[e];if("string"!=typeof r)continue;const o=s[r];o&&(i[r]=Wn(o,t),o!==i[r]&&(a=!0))}return a?Object.assign({},e,{items:Object.assign({},s,i)}):e})(e,t,n):e}case c.U4:{const{items:n,insertOnTop:s,shouldRefreshFeed:i,shouldAddToItemsOrder:a=!0}=t.payload,r=Object.keys(e.items),o={},l=[];let c=e.uniqItemIdCounterKostyl;const{replaceQueue:d}=e;let u=i?[]:[...d];if(n.forEach((t=>{let n;!r.includes(t.id)&&!l.includes(t.id)?n=t.id:(n=`${t.id}_${++c}`,console.warn(`Non unique item: ${t.id}, ${"title"in t?t.title:"no title"}, replaced to ${n}`));const s=(({item:e,itemId:t,nextReplaceQueue:n})=>{const{ad:s,topAd:i,type:a,image:r,bidFloor:o,packId:l,cacheId:c,pos:d}=e,u=`${t}_${a}`;if(s&&"direct"===s.type){const e=[...n].sort(((e,t)=>t.bidFloor-e.bidFloor)),a=e.length>0&&e[0],m=a&&a.bidFloor>(o||0);return{replacementId:u,newReplaceQueue:m?[...e.slice(1),{id:u,bidFloor:o||0}]:void 0,adCard:{ad:s,topAd:i,id:t,image:r,pos:d,packId:l,cacheId:c,type:B.qG.RTB,replaceWith:m&&a?a.id:u,bidFloor:m&&a?a.bidFloor:o}}}})({item:t,itemId:n,nextReplaceQueue:u});if(s){const{replacementId:i,adCard:a,newReplaceQueue:r}=s,{replaceWith:l}=a;r&&(u=[...r]),o[n]=Object.assign({},a),o[i]=Object.assign({},t,{id:i}),l!==i&&(o[l]=Object.assign({},e.items[l]||o[l],{pos:t.pos,packId:t.packId}))}else o[n]=Object.assign({},t,{id:n});if(t.placeholder){const e=`${n}_${t.type}`;o[n]=Object.assign({},t.placeholder,{id:n,packId:t.packId,cacheId:t.cacheId,replaceWith:e}),o[e]=Object.assign({},t,{id:e})}l.push(n)})),i)return Object.assign({},e,{items:o,itemsOrder:l,uniqItemIdCounterKostyl:c,replaceQueue:u});const m=Object.assign({},e.items,o),p=a?s?[...l,...e.itemsOrder]:[...e.itemsOrder,...l]:e.itemsOrder;return Object.assign({},e,{items:m,itemsOrder:p,uniqItemIdCounterKostyl:c,replaceQueue:u})}case c.IE:return Object.assign({},e,t.payload);case c.TP:{const{itemId:n,isPinned:s}=t.payload,{items:i}=e;return Object.assign({},e,{items:Object.assign({},i,{[n]:Object.assign({},i[n],{isPinned:s})})})}case c.az:{const{itemId:n,childItemId:s}=t.payload;return o.ZP.set(e,["items",n,"childItemId"],s)}case c.Yn:{const{newItemsOrder:n}=t.payload;return Object.assign({},e,{itemsOrder:n})}case c.XJ:{const{replaceQueue:n}=t.payload;return Object.assign({},e,{replaceQueue:n})}case c.eJ:{const{gridType:n,packId:s}=t.payload;return Object.assign({},e,{gridType:n,gridTypeMap:Object.assign({},e.gridTypeMap,{[s]:n})})}case c.Rf:{const{initialDisplayedRowsNumber:n}=t.payload;return Object.assign({},e,{initialDisplayedRowsNumber:n})}case c.PK:return Xn;case c._5:return Object.assign({},e,{flipKey:e.flipKey+1});case c.Ig:{const{packId:n}=t.payload;return Object.assign({},e,{topPackId:n})}case c.eS:{const{rowIndex:n,isVisible:s}=t.payload,i=Object.assign({},e.visibleFeedRows);return s?i[n]=!0:delete i[n],Object.assign({},e,{visibleFeedRows:i})}case c.Ep:return Object.assign({},e,{eulaWasShown:!0});case c.vd:{const{moreRequestCount:t}=e;return Object.assign({},e,{moreRequestCount:t+1})}case c.LX:{const{rtbCountCache:n}=e,{link:s}=t.payload;return Object.assign({},e,{rtbCountCache:Object.assign({},n,{[s]:!0})})}case c.bT:{const{subscribedInCurrrentSessionList:n}=e;return Object.assign({},e,{subscribedInCurrrentSessionList:[...n,t.payload],shouldHideRefreshSnackbar:!1})}case c.KU:{const{subscribedInCurrrentSessionList:n}=e,s=n.filter((e=>e.id!==t.payload));return Object.assign({},e,{subscribedInCurrrentSessionList:s},s.length&&{shouldHideRefreshSnackbar:!1})}case c.Bk:return Object.assign({},e,{subscribedInCurrrentSessionList:[]});case c.nw:return Object.assign({},e,{shouldHideRefreshSnackbar:t.payload});case c.T7:return Object.assign({},e,{isSubscriptionsHeadsVisible:t.payload});case c.Vk:{const{itemId:n}=t.payload,{items:s}=e;return Object.assign({},e,{items:Object.assign({},s,{[n]:Object.assign({},s[n],{isSavedToBookmarks:!0})})})}case c.pn:{const{itemId:n}=t.payload,{items:s}=e;return Object.assign({},e,{items:Object.assign({},s,{[n]:Object.assign({},s[n],{isSavedToBookmarks:!1})})})}case c.CI:return Object.assign({},e,{adPixelCommonData:t.payload});default:{if(!("payload"in t)||!t.payload||"object"!=typeof t.payload)return e;const n="id"in t.payload&&t.payload.id;if("string"==typeof n){const s=e.items[n];if(!s)return e;const i=Wn(s,t);return s!==i?o.ZP.set(e,["items",n],i):e}return e}}},Qn=(e,t,n,s=!0)=>{const i=e.indexOf(n),a=Number(s);if(-1===i)throw new Error("Array not contains item.");return e.slice(0,i+a).concat(...t,e.slice(i+a))},es=(e,t,n)=>Qn(e,t,n,!0),ts=(e=0,t)=>{if(t.type===c.gc){const{displayedRowsNumber:e}=t.payload;return e}return e};var ns=n(69396);const ss={isBodyScrollEnabled:!0,isVideoAutoplayEnabled:void 0,isOpenCardScrollEnabled:!0,canUnmuteAfterClick:!0,isVideoMuted:void 0,videoQuality:n(45476).$,playbackRate:ns.mw,feedLoadingProgressVisible:!1,isChildWindow:!1,nativeNavBarEnabled:!1,shownReaction:{like:!1,dislike:!1,click:!1},shouldShowFeedStubCounter:0},is=(e=ss,t)=>{switch(t.type){case c.Yf:return Object.assign({},e,{isChildWindow:t.payload});case c.T4:return Object.assign({},e,{isBodyScrollEnabled:t.payload});case c.Mb:return Object.assign({},e,{isVideoAutoplayEnabled:t.payload});case c.e:return Object.assign({},e,{isVideoMuted:t.payload.isMuted,canUnmuteAfterClick:Boolean(t.payload.canUnmuteAfterClick)});case c._$:return Object.assign({},e,{videoQuality:t.payload});case c.or:return Object.assign({},e,{playbackRate:t.payload});case c.XQ:return Object.assign({},e,{isOpenCardScrollEnabled:t.payload});case c.fJ:{const{payload:n}=t;return Object.assign({},e,{feedLoadingProgressVisible:Boolean(n)})}case c.ab:{const{enabled:n}=t.payload;return Object.assign({},e,{nativeNavBarEnabled:n})}case c.me:return Object.assign({},e,{shownReaction:Object.assign({},e.shownReaction,{[t.payload]:!0})});case c.YO:return Object.assign({},e,{shouldShowFeedStubCounter:Math.max(t.payload?e.shouldShowFeedStubCounter+1:e.shouldShowFeedStubCounter-1,0)});default:return e}},as={notifiersOffsetModeTop:cn.HS.Header,currentNotifierButton:null,moreButtonParams:null,isNotifiersDisabled:!1,isAppButtonTimeout:!0},rs=(e=as,t)=>{switch(t.type){case c.kF:return Object.assign({},e,{currentNotifierButton:t.payload.button,moreButtonParams:t.payload.moreButtonParams});case c.H9:return Object.assign({},e,{notifiersOffsetModeTop:t.payload});case c.JI:return Object.assign({},e,{isAppButtonTimeout:t.payload});case c.Hr:return Object.assign({},e,{isNotifiersDisabled:t.payload});default:return e}},os={status:cn.UW.Feed},ls=(e=os,t)=>{switch(t.type){case c.nr:return t.payload;case c.wJ:{if(t.payload.status!==Kn.L.Success)return e;const n=t.payload.value.source,{status:s}=e,i=e.source&&e.source.id,a=e.source&&e.source.type;return s===cn.UW.Ok&&i===n.id&&"user"===a?{status:s,source:n}:e}default:return e}};var cs=n(96553);var ds;!function(e){e.increment="increment",e.decrement="decrement"}(ds||(ds={}));const us=(e,t,n)=>{const s=e.items.findIndex((e=>e.id===t));if(!e.items.length||-1===s)return e;const{publicationsCount:i}=e.items[s],a=n===ds.increment?i+1:Math.max(i-1,0),r=Object.assign({},e.items[s],{publicationsCount:a}),o=[...e.items.slice(0,s),Object.assign({},r),...e.items.slice(s+1)];return Object.assign({},e,{items:[...o]})},ms=(e,{suites:t,publicationCounts:n})=>Object.assign({},e,{items:t.slice(0,e.items.length).map((e=>{var t;return(0,cs.j)(e,(null==(t=n.find((({suiteId:t})=>t===e.suiteId)))?void 0:t.count)||0)}))});let ps;!function(e){e.shown="true",e.notShown="false"}(ps||(ps={}));const hs={isLoadingNewPackAfterOnboarding:!1,interests:[],itTooltipVisible:!1,itemWithTooltipId:"",isTooltipShowed:!1},bs=(e=hs,t)=>{switch(t.type){case c.BC:return Object.assign({},e,{isLoadingNewPackAfterOnboarding:t.payload});case c.mr:return Object.assign({},e,{interests:t.payload});default:return e}};var gs=n(54565);const vs=(e,t)=>(n={},s)=>{const i=e(s);if(void 0===i)return n;const a=t(n[i],s);return n[i]!==a?Object.assign({},n,{[i]:a}):n};var _s=n(38266),fs=n(79382);var ys=n(13354);const ws=(e,t,n=!0)=>(0,v.u)(t).reduce(((e,s)=>{const i=((e,t)=>{const n=e[t];if(void 0!==n)return n;for(const n of Object.values(e))if(n&&[n.id,n.publicId].includes(t))return n})(e,s),a=i&&i.id||s,r=n?["status","isUnsubscribedInCurrentSession","isSubscribedInCurrentSession","isUnblockedInCurrentSession"]:[];return e[a]=["id","publicId","subscribers","feedback","feedLink","feedApiLink","logo","logoBackgroundColor","title","type","complaintReasons","subscriptionForbidden",...r].reduce(((e,n)=>void 0!==t[a][n]?Object.assign({},e,{[n]:t[a][n]}):e),Object.assign({},e[a])),e}),Object.assign({},e)),ks=(0,fs.g)((0,jn.v)(((e,t)=>{switch(t.type){case c.$6:{const{payload:n}=t;return ws(e,{[n.strongestId]:n.data})}case c.nr:{const{payload:n}=t;return n&&n.status===cn.UW.Ok?ws(e,{[n.source.id]:n.source}):e}case c.RA:case c.xl:case c.eB:{if(t.payload.status!==Kn.L.Success)return e;const n=t.payload.value,s=t.__data__&&t.__data__.selfUserId,i=!([c.RA,c.eB].includes(t.type)&&t.payload.id===s),a=i?e:(0,gs.O)(e,(e=>"not_subscribed"===e.status?e:Object.assign({},e,{status:"not_subscribed"})));if(n){const e=n.map((e=>{const t=i?a[e.id]?a[e.id].status:"not_subscribed":e.status;return Object.assign({},e,{status:t})})),t=(0,_s.pc)(e,(e=>e.id));return ws(a,t)}return a}case c.wJ:{if(t.payload.status!==Kn.L.Success)return e;if((0,ne.K)(t.payload.value))return e;const{source:n}=t.payload.value,s=e[n.id]?e[n.id].status:"not_subscribed";return ws(e,{[n.id]:Object.assign({},n,{status:s})})}case c.X3:{const n=t.payload;if(n){const t=(0,_s.pc)(n,(e=>e.id));return ws(e,t)}return e}case c.JX:{const{exportData:n}=t.payload,{channel:s,currentUserSubscriptions:i}=n,a=[];"ok"===(null==s?void 0:s.status)&&a.push(s.source),i&&"complete"===i.status&&a.push(...i.result.map((e=>e)));const r=(0,_s.pc)(a,(e=>e.id));return ws(e,r)}case c.pF:{const{sources:n={}}=t.payload;return ws(e,n,!1)}case c.U4:{const{items:n=[]}=t.payload,s=n.reduce(((t,n)=>{if(n.type===B.qG.IMAGE||n.type===B.qG.TEXT)return t;if(n.type===B.qG.SHOWCASE_CARD)switch(n.item_type){case ys.j.PUBLICATIONS:return n.items.forEach((({item:e})=>{if("brief"===e.type)return t;const{source:n,bulkParams:s}=e;n&&(t[n.id]=Object.assign({},n,{bulkParams:s}))})),t;case ys.j.PUBLISHERS:return n.items.forEach((({source:e,bulk_params:n})=>{e&&(t[e.id]=Object.assign({},e,{bulkParams:n}))})),t;case ys.j.REPOST:if(n.source){const{source:e,bulk_params:s}=n;t[e.id]=Object.assign({},e,{bulkParams:s})}return t}return n.type===B.qG.SHOWCASE_CARD&&n.item_type===ys.j.SHOWCASE_SEARCH_RECENT||!("source"in n)||!n.source||e[n.source.id]||t[n.source.id]||(t[n.source.id]=Object.assign({},n.source,{bulkParams:"bulkParams"in n.source&&n.source.bulkParams||n.bulkParams})),t}),{});return ws(e,s)}default:return e}}),vs((e=>"isSourceAction"in e&&e.isSourceAction?e.payload.id:void 0),((e,t)=>{switch(t.type){case c.D7:return Object.assign({},e,{status:"subscribed",subscribers:Math.max((e&&e.subscribers||0)+1,0),isSubscribedInCurrentSession:!0,isUnsubscribedInCurrentSession:!1});case c.LU:return Object.assign({},e,{status:"not_subscribed",subscribers:Math.max((e&&e.subscribers||0)-1,0),isSubscribedInCurrentSession:!1,isUnsubscribedInCurrentSession:!0});case c.SX:{const t=e&&"subscribed"===e.status?Math.max((e&&e.subscribers||0)-1,0):e&&e.subscribers;return Object.assign({},e,{status:"blocked",subscribers:t})}case c.cT:return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case c.r7:return Object.assign({},e,{feedback:"disliked"});case c.jf:return Object.assign({},e,{complaintReasons:t.payload.reasons});default:return e}}))),{});var Ss=n(36444),Es=n(16001);const Cs={status:Kn.L.Initial,openedItemId:void 0,comments:{id:null,isVisible:!1},description:{isVisible:!1},doc2docReady:{},items:{},isRecommendsError:!1,videoViewerDataMap:{},itemsOrder:[],isCollapsedChat:!0,displayedRowsNumber:1,moreRecommendsLink:void 0,packNumber:0,playedItemsId:[]},Is=(e=Cs,t)=>{switch(t.type){case Ss.nk:case c.mI:{const{videoId:n}=t.payload.location.state||{};if(e.openedItemId===n)return e;if(!n||e.items&&e.items[n]){const s=(0,Es.YK)(t.payload.location.hash||"");return Object.assign({},e,{openedItemId:n,startPosition:void 0,packNumber:0,itemsOrder:n?[n]:e.itemsOrder,scrollToCommentsOnOpen:Boolean(s),moreRecommendsLink:void 0})}return e}case c.io:{if(t.meta.isPublic||!t.payload.video)return e;const{video:n}=t.payload,s=n.id;return Object.assign({},e,{openedItemId:n.id,items:s?{[s]:n}:e.items,itemsOrder:s?[s]:e.itemsOrder,startPosition:0,status:n?Kn.L.Success:e.status,isCollapsedChat:!0,comments:{},moreRecommendsLink:void 0})}case c.JY:{const{openedItem:n,startPosition:s,playerRect:i,scrollToCommentsOnOpen:a}=t.payload,r=n&&n.id,o=r?[...e.playedItemsId,r]:e.playedItemsId;return r&&e.openedItemId&&e.items[r]?Object.assign({},e,{openedItemId:r,comments:{},startPosition:void 0,scrollToCommentsOnOpen:!1,moreRecommendsLink:void 0,playedItemsId:o}):Object.assign({},e,{openedItemId:r,startPosition:s,comments:{},items:r?{[r]:n}:e.items,itemsOrder:r?[r]:e.itemsOrder,isRecommendsError:!1,doc2docReady:{},playerRect:i,isCollapsedChat:!0,displayedRowsNumber:r?e.displayedRowsNumber:Cs.displayedRowsNumber,status:n?Kn.L.Success:e.status,scrollToCommentsOnOpen:a,moreRecommendsLink:void 0,packNumber:0,playedItemsId:o})}case c.sd:{const{isCollapsedChat:n}=t.payload;return Object.assign({},e,{isCollapsedChat:n})}case c.K9:return Object.assign({},e,{comments:t.payload,scrollToCommentsOnOpen:!1});case c.Q1:return Object.assign({},e,{description:t.payload});case c.YB:return Object.assign({},e,{isDrawAd:!0});case c.H1:{const{items:n,itemsOrder:s,moreRecommendsLink:i}=t.payload,a=s.filter((t=>!e.itemsOrder.includes(t))),r=Object.assign({},n,e.items);return Object.assign({},e,{items:r,isRecommendsError:!1,itemsOrder:[...e.itemsOrder,...a],moreRecommendsLink:i,packNumber:e.packNumber+1})}case c.GH:return Object.assign({},e,{isRecommendsError:!0});case c.G4:return Object.assign({},e,{isPlayerAutoplayIsWaitingForPermission:t.payload});case c.gC:return Object.assign({},e,{isLoadAdFinished:!0});case c.Z5:return Object.assign({},e,{doc2docReady:Object.assign({},e.doc2docReady,{[e.openedItemId||""]:t.payload})});case c.RJ:{const{id:n}=t.payload,s={[n]:e.items[n]};return Object.assign({},e,{displayedRowsNumber:Cs.displayedRowsNumber,itemsOrder:[n],items:s,packNumber:0,doc2docReady:{}})}case c.CM:{const{videoViewerData:n,publicationId:s}=t.payload,i={[s]:n};return Object.assign({},e,{videoViewerDataMap:i})}case c.vB:return Object.assign({},e,{comments:Object.assign({},e.comments,t.payload)});case c.gT:{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}case c.am:{const{startPosition:n}=t.payload;return Object.assign({},e,{startPosition:n})}case c.sJ:return Object.assign({},e,{status:Kn.L.Pending});case c.S5:return Object.assign({},e,{status:Kn.L.Error});case c.gb:{const{scheduledTimeInfo:n,video:{videoInfo:{videoContentId:s},id:i}}=t.payload,a=i||e.openedItemId;if(!a)return e;const[r]=Object.values(e.items);return Object.assign({},e,{comments:Object.assign({},e.comments,{id:a}),itemsOrder:[a],openedItemId:a,playedItemsId:[a],items:{[a]:Object.assign({},r,{id:a,videoInfo:{videoContentId:s},scheduledTimeInfo:n,additionalParams:Object.assign({},r.additionalParams,{"video-content-id":s})})}})}case c.Ns:return Object.assign({},e,{isDelayedLiveCancelled:!0});case c.LA:return Object.assign({},e,{adBlocks:t.payload});case c.ex:return Object.assign({},e,{adPixelsCommonData:t.payload});default:{if(!("payload"in t)||!t.payload||"object"!=typeof t.payload)return e;const n="id"in t.payload&&t.payload.id;if("string"!=typeof n)return e;if(!n||!e.items[n])return e;const s=e.items[n],i=Wn(s,t);return s!==i?o.ZP.set(e,["items",n],i):e}}},Ps={commentsInfo:{}},Ts=(e=Ps,t)=>{switch(t.type){case c.Vw:{const n={};return Object.entries(t.payload.counts).forEach((([e,t])=>{n[e]=Object.assign({},n[e],{commentsCount:t})})),Object.entries(t.payload.likes).forEach((([e,t])=>{n[e]=Object.assign({},n[e],{publisherLike:t})})),Object.assign({},e,{commentsInfo:Object.assign({},e.commentsInfo,n)})}case c.Yk:return Object.assign({},e,{commentsContent:t.payload});default:return e}};var Rs=n(73246);const As=e=>t=>void 0===t?(0,me.mf)(e)?e():e:t;var xs=n(37991),Os=n(85548);const Ns=As({login:null,logout:null,login_tmpl:null,logout_tmpl:null,change_account_tmpl:null,registration_tmpl:null,passport:null,add_video:null,[l.Jl.Export]:null,[l.Jl.Layout]:null,[l.Jl.More]:null,[l.Jl.Bulk]:null,[l.Jl.Subs]:null,[l.Jl.Profile]:null,[l.Jl.Blocked]:null,[l.Jl.Preferences]:null,[l.Jl.Subscribers]:null,[l.Jl.Categories]:null,[l.Jl.Category]:null,[l.Jl.Suggest]:null,[l.Jl.Multisearch]:null,[l.Jl.BlockedSuggest]:null,[l.Jl.VideoRecommend]:null,[l.Jl.VideoRelated]:null,[l.Jl.VideoFeed]:null,[l.Jl.GetVideoViewerData]:null,[l.Jl.CountryLang]:null,[l.Jl.CommentsCounter]:null,[l.Jl.PublisherConfig]:null,[l.Jl.SendAppLinkSms]:null,[l.Jl.SendNativeComplainStats]:null,[l.Jl.SocialProfile]:null,[l.Jl.SocialProfileEdit]:null,[l.Jl.ProfileCompleteOnboarding]:null,[l.Jl.ProfileDeactivate]:null,[l.Jl.ProfileCancelDeactivate]:null,[l.Jl.CurrentUserInterests]:null,[l.Jl.CurrentUserSubscriptions]:null,[l.Jl.Teasers]:null,[l.Jl.SupportLink]:null,[l.Jl.AllChannelsLink]:null,[l.Jl.ArticleRelated]:null,[l.Jl.ZenSearch]:null,[l.Jl.Videos]:null,[l.Jl.GetFeedPublications]:null}),Ms=As({serpLink:null,msid:null}),Ls=As({value:""}),Ds=As({host:`https://${Os.Y}/`,clid:void 0,countryCode:"ru",integration:null,product:"",tld:"ru",lang:"ru",isIceStart:!1,shouldCleanCacheOnFeedback:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},feedFeatureConfig:{},clientDefinition:{},complaints:{reasons:[],link:xs.w},bulk:{bulk_params:""},isMobile:void 0,isWebview:void 0,areLinksDisabled:void 0,currentUrl:void 0,isSpaApp:!1,groupIds:"",feedType:cn.u5.Main,isSsrFallbackPack:!1,isAdblock:!1,loginLink:"",zenUserData:{}}),Bs=As({scrollToID:void 0,shouldHideInterestHeader:!1}),Fs=As({}),Zs=(e={},t)=>{if(t.type===c.wJ){if(t.payload.status!==Kn.L.Success||!e.info)return e;const{value:n}=t.payload;return n&&String(n.uid)===e.info.uid?{info:Object.assign({},e.info,{avatar:n.avatarUrl,displayName:n.name})}:e}return e},Vs=As({}),Us={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null,subscriptionsCount:null},js=(e=Us,t)=>{switch(t.type){case c.JX:{const{exportData:n,currentTime:s}=t.payload,{user:i}=n,{serverTime:a,subscriptionsCount:r}=i;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,i.lastSawFeed),serverTime:a,serverTimeDiff:a?a-s:0,subscriptionsCount:r,avatar:e.avatar||i.avatar})}case c.HB:{const{currentTime:n}=t.payload,{serverTime:s}=e;return Object.assign({},e,{serverTimeDiff:s?s-n:0})}case c.D7:return Object.assign({},e,{subscriptionsCount:Number(e.subscriptionsCount)+1});case c.LU:return Object.assign({},e,{subscriptionsCount:Math.max(0,Number(e.subscriptionsCount)-1)});default:return e}},zs={meta:{}},Hs=(e=zs,t)=>{switch(t.type){case c.rw:{const{meta:n,userAvatar:s}=t.payload,i={};return Object.entries(n).forEach((([e,t])=>{i[e]=Object.assign({},i[e],t)})),Object.assign({},e,{meta:Object.assign({},e.meta,i),userAvatar:s})}case c.oA:{const{diff:n,documentId:s}=t.payload,i=e.meta[s];if(i&&!1===i.commentsEnabled){const t=(i.likeCount||0)+n;return Yn(e,[["set",["meta",s,"likeCount"],t]])}return e}default:return e}},qs=(e,t)=>`${e}__${t}`,$s=e=>({isShown:!1,currentScreenId:e.initialScreenId}),Gs={currentInterviewId:null,interviewsMap:{}},Ws=(e=Gs,t)=>{switch(t.type){case c.bj:{const{interview:n,packId:s,pos:i,itemBasedPosition:a}=t.payload,r=a?a.itemId:qs(s,i);return Object.assign({},e,{interviewsMap:Object.assign({},e.interviewsMap,{[r]:Object.assign({},n,$s(n))})})}case c.hb:{const{interviewId:n}=t.payload;if(null===n)return Object.assign({},e,{currentInterviewId:null});const s=e.interviewsMap[n];return s?Object.assign({},e,{currentInterviewId:n,interviewsMap:Object.assign({},e.interviewsMap,{[n]:Object.assign({},s,{isShown:!0})})}):e}case c.dI:{const{interviewId:n,screenId:s}=t.payload,i=e.interviewsMap[n];return i?Object.assign({},e,{currentInterviewId:n,interviewsMap:Object.assign({},e.interviewsMap,{[n]:Object.assign({},i,{currentScreenId:s})})}):e}default:return e}},Ys=(e=null,t)=>{switch(t.type){case c.JX:{const{liveData:n}=t.payload.exportData;return n||e}case c.Ex:{if(!e)return e;const{scheduledTimeInfo:n,video:{videoInfo:s}}=t.payload;return Object.assign({},e,{scheduledTimeInfo:{serverTime:+((null==n?void 0:n.serverTime)||""),scheduledTime:+((null==n?void 0:n.scheduledTime)||"")}},s)}case c.Wl:return e?Object.assign({},e,{isDelayedLiveCancelled:!0}):e}return e},Ks=(e={isOpen:!1},t)=>{switch(t.type){case c.Ps:return Object.assign({},e,{data:t.payload,isOpen:!0});case c.et:case c.YY:return Object.assign({},e,{isOpen:!1});default:return e}};var Xs=n(89432);const Js={closeModalPath:null,forcedModalRoute:null},Qs=(e=Js,t)=>{switch(t.type){case Ss.nk:{const{forcedModalRoute:n}=e,{modalRoutes:s}=t.__data__,i=t.__data__.location,a=t.payload.location,r=(0,Xs.o)({location:a,forcedModalRoute:n,modalRoutes:s});return!e.closeModalPath&&r?Object.assign({},e,{closeModalPath:i.pathname}):e.closeModalPath&&!r?Object.assign({},e,{closeModalPath:null}):e}case c.WX:{const{closeModalPath:n}=t.payload;return Object.assign({},e,{closeModalPath:n})}case c.kK:{const n=t.payload;return Object.assign({},e,{forcedModalRoute:n})}case c.et:case c.Qj:return Object.assign({},e);default:return e}},ei={source:void 0},ti=(e=ei,t)=>{if(t.type===c.JX){const{exportData:n}=t.payload,{currentUserSourceInfo:s}=n;return s?Object.assign({},e,{source:s}):Object.assign({},e)}return e},ni=(e=null,t)=>{switch(t.type){case c.ym:return Object.assign({},t.payload,{isOpen:!0});case c._W:return null}return e},si=(e=null,t)=>{switch(t.type){case c.Ds:return t.payload;case c.TX:return e?Object.assign({},e,{publicationsCount:Math.max(e.publicationsCount-1,0)}):e;case c.SX:return e&&e.source&&t.payload.id===e.source.id?o.ZP.modify(e,"source.status",(()=>t.payload.status)):e;default:return e}},ii={},ai=(e=ii,t)=>{if(t.type===c.JX){const{exportData:n}=t.payload,{distribution:s}=n;return s||e}return e},ri=(e=null,t)=>t.type===c.JX?t.payload.exportData.geoblock:e,oi={feed:Jn,displayedRowsNumber:ts,iface:is,notifiers:rs,channel:ls,suites:(e={items:[],more:"",addSuiteLink:"",allSuiteLink:""},t)=>{switch(t.type){case c.dK:return t.payload;case c.o0:return Object.assign({},e,{items:[t.payload,...e.items]});case c.kb:return us(e,t.payload,ds.increment);case c.Cv:return us(e,t.payload,ds.decrement);case c.km:return ms(e,t.payload);default:return e}},suite:si,channelPixels:(e=null,t)=>t.type===c.aC?t.payload:e,icefeed:bs,links:Ns,serpLinks:Ms,serpClid:Ls,params:Ds,shared:Bs,context:Fs,auth:Zs,user:js,interview:Ws,geoblock:ri,sources:ks,currentUserSourceInfo:ti,request:Vs,videoViewer:Is,commentsData:Ts,socialMetaData:Hs,users:Rs.rC,liveStream:Ys,loginPopup:Ks,modal:Qs,channelsListModal:ni,distribution:ai,channelTabs:(e=[],t)=>t.type===c.QC?t.payload:e},li=(e,t)=>{const{cache:n,userInfo:s,precache:i,feedFilter:a,suiteId:r,apiResponseValidator:o}=e,l=t===cn.u5.Video,c=i&&i.key,d=i&&i.rid,u={apiRequestParams:{},cacheMode:se.q.Default},m=Object.assign({},(({precacheKey:e,feedFilter:t,suiteId:n})=>{const s={};if(e&&(s.key=e),t){const{tags:e,itemId:n,itemType:i,filterType:a,filterSource:r}=t;e&&Array.isArray(e)&&1===e.length&&(s.topic_id=e[0]),n&&(s.item_id=n),i&&(s.item_type=i),a&&(s.feed_filter_type=a),r&&(s.feed_filter_source=r)}return n&&(s.suite_id=n),0===Object.keys(s).length?{}:s})({precacheKey:c,feedFilter:a,suiteId:r}),u.apiRequestParams),p=on();return p.configure((t=>Object.assign({},t,e,{apiResponseValidator:o||t.apiResponseValidator,cache:n&&Object.assign({},n,{isPrefetchEnabled:!1}),userInfo:Object.assign({},t.userInfo,s)}))),l?p.getVideoFeed():p.getExport({params:m,cacheMode:u.cacheMode,headers:d?{"zen-request-id":d}:{},apiRequestUrl:e.apiRequestUrl}).then((({apiResponse:e})=>e))};var ci=n(6191),di=n(93187);const ui=e=>()=>t=>n=>{const{outputBus:s}=e;if(n.meta&&n.meta.isPublic&&s)switch(n.type){case c.D7:s.emit("sourceSubscribe",n.payload);break;case c.LU:s.emit("sourceUnsubscribe",n.payload);break;case c.SX:s.emit("sourceBlock",n.payload);break;case c.cT:s.emit("sourceUnblock",n.payload);break;case c.r7:s.emit("sourceDislike",n.payload);break;case c.jf:s.emit("sourceSetComplaintResons",n.payload.id,n.payload.reasons);break;case c.wJ:s.emit("sourceUpdate",n.payload);break;case c.io:s.emit("syncVideoViewerItem",n.payload.video)}else n.type===Ss.nk&&s&&s.emit("forwardLocationChange",n.payload.location);return t(n)},mi=(e,t)=>{const n=[e.subscribe("sourceSubscribe",(e=>t.emit("sourceSubscribe",e))),e.subscribe("sourceUnsubscribe",(e=>t.emit("sourceUnsubscribe",e))),e.subscribe("sourceBlock",(e=>t.emit("sourceBlock",e))),e.subscribe("sourceUnblock",(e=>t.emit("sourceUnblock",e))),e.subscribe("sourceDislike",(e=>t.emit("sourceDislike",e))),e.subscribe("sourceSetComplaintResons",((e,n)=>t.emit("sourceSetComplaintResons",e,n))),e.subscribe("sourceUpdate",(e=>t.emit("sourceUpdate",e))),e.subscribe("forwardLocationChange",(e=>t.emit("forwardLocationChange",e))),e.subscribe("syncVideoViewerItem",(e=>t.emit("syncVideoViewerItem",e))),e.subscribe("addSuite",(e=>t.emit("addSuite",e))),e.subscribe("setSuite",(e=>t.emit("setSuite",e))),e.subscribe("reorderSuites",(e=>t.emit("reorderSuites",e))),e.subscribe("setZenUserDataTheme",((e,n)=>t.emit("setZenUserDataTheme",e,n)))];return()=>n.forEach((e=>e()))},pi=(e,t)=>{const n={isPublic:!1},s=[e.subscribe("sourceSubscribe",(e=>{t.dispatch((0,m.Iz)(e,n)),t.dispatch((0,d.pA)({id:e.id,logo:e.logo,logoBackgroundColor:e.logoBackgroundColor,title:e.title,feedLink:e.feedLink}))})),e.subscribe("sourceUnsubscribe",(e=>{t.dispatch((0,m.Xk)(e,n)),t.dispatch((0,d.Lc)({id:e.id}))})),e.subscribe("sourceBlock",(e=>{t.dispatch((0,m.ls)(e,n)),t.dispatch((0,d.Lc)({id:e.id}))})),e.subscribe("sourceUnblock",(e=>t.dispatch((0,m.hh)(e,n)))),e.subscribe("sourceDislike",(e=>t.dispatch((0,m.og)(e,n)))),e.subscribe("sourceSetComplaintResons",((e,s)=>t.dispatch((0,m.qu)(e,s,n)))),e.subscribe("sourceUpdate",(e=>{var s,i;const a=String(e.value.uid);return String(null==(s=t.getState().channel)||null==(i=s.source)?void 0:i.id)===a&&t.dispatch((0,m.Bg)(e,n)),t.dispatch((0,m.H8)(e,n))})),e.subscribe("forwardLocationChange",(e=>t.dispatch((0,ci.t_)(e)))),e.subscribe("syncVideoViewerItem",(e=>t.dispatch((0,di.G5)(e,n)))),e.subscribe("addSuite",(e=>t.dispatch((0,E.xk)(e)))),e.subscribe("setSuite",(e=>t.dispatch((0,C.I)(e)))),e.subscribe("reorderSuites",(e=>t.dispatch((0,E.Q2)(e)))),e.subscribe("setZenUserDataTheme",((e,n)=>t.dispatch((0,u.Hu)(e,n))))];return()=>s.forEach((e=>e()))},hi=(e,t)=>e?{source:e.channel,sources:e.sources,status:t,suites:e.suites,suite:e.suite,channelPixels:e.channelPixels,channelTabs:e.channelTabs}:{source:null,sources:null,status:t,suites:null,suite:null,channelPixels:null,channelTabs:[]};var bi=n(42955),gi=n(3625),vi=n(53854),_i=n(33836),fi=n(77880),yi=n(23136),wi=n(78517),ki=n(96943),Si=n(71183),Ei=n(63064);var Ci;!function(e){e.WAIT="WAIT",e.LOADING="LOADING",e.FINISHED="FINISHED"}(Ci||(Ci={}));const Ii={},Pi={},Ti=[...[e=>e.pipe((0,gi.h)(Ei.E3.match),(0,vi.zg)((e=>{const{payload:{id:t,timeout:n,taskQueue:s}}=e;Ii[t]&&Ii[t].complete(),Ii[t]=new bi.X(0),Pi[t]=new Array(s.length).fill(null).map(((e,n)=>Pi[t]&&Pi[t][n]||Ci.WAIT));let i=-1;return Ii[t].pipe((0,_i.x)(),(0,gi.h)((e=>e>i&&Boolean(s[e])&&-1===Pi[t].lastIndexOf(Ci.LOADING,e))),(0,fi.V)(n),(0,yi.K)(((e,n)=>(Pi[t]||(Pi[t]=[]),Pi[t][i]=Ci.FINISHED,Ii[t].next(i+1),n))),(0,wi.q)(s.length),(0,ki.X)(s.length),(0,Si.U)((()=>(i=Pi[t].indexOf(Ci.WAIT),Pi[t][i]=Ci.LOADING,((e,t)=>{const n={"desktop-viewer":{comments:di.cQ,meta:di.fJ,doc2doc:di.ar,doc2docNextPrefetch:di.RM,playerIsReady:di.cU,ad:di.F7}};if(!n[e])throw new Error(`Нужно добавить мапу с экшенами по айди ${e} в getQueueTaskForLoadResource`);return n[e][t]})(t,s[i])()))))}))),e=>e.pipe((0,gi.h)(Ei.W2.match),(0,Si.U)((e=>{const{payload:{id:t,positionQueue:n}}=e;return Pi[t]||(Pi[t]=[]),Pi[t][n]=Ci.FINISHED,Ii[t]&&Ii[t].next(n+1),(0,Ei.Ze)()}))),e=>e.pipe((0,gi.h)(Ei.aJ.match),(0,Si.U)((({payload:e})=>(Ii[e]&&(Ii[e].complete(),Pi[e]=[]),(0,Ei.Ze)()))))]];var Ri=n(40266);class Ai{constructor(){this.app=null,this.bus=new N,this.inputBus=L(),this.type=null,this.zenContext=null,this.store=null,this.feedId=null,this.reloadCount=0,this.needRefresh=!1,this.status=Kn.L.Pending,this.disposables=[],this.subscribe=this.bus.subscribe.bind(this.bus),this.emit=this.inputBus.emit.bind(this.inputBus),this.onRequestRefresh=e=>{this.feedId===e&&(this.needRefresh=!0,this.emitChanged())},this.initSync=({settings:e,translations:t,Component:n,feedId:s,feedType:a,globalBus:r,videoPlayersPool:o,videoPlayersManager:c,shouldDeferEvents$:u,feedFilter:m})=>{this.type=a,this.feedId=this.feedId||s,this.globalBus=this.globalBus||r;const p=on();s===ln.oO&&p.configure((e=>Object.assign({},e,{feedFilter:m,apiResponseValidator:Qe})));const h=(0,Sn.vV)(),{inputBus:b}=this,g=M(),v=(0,Ri.c)({zenApi:p,existingShouldDeferEvents$:u}),_=(0,Rn.jj)({zenApi:p,zenLogger:h,inputBus:b,outputBus:g,privateBus:D(),globalBus:r,videoPlayersPool:o,videoPlayersManager:c,shouldDeferEvents$:v,feedId:s});this.zenContext=_;const f=(0,dn.k)({dependencies:_}),y=(e=>[hn(e)])(_).concat([f,ui(_)]),w=this.store=(({reducer:e,middlewares:t=[],zenContext:n,feedId:s})=>(0,Dn.MT)(e,fn(t,n,s)))({reducer:Vn((0,Dn.UY)(Object.assign({},oi))),middlewares:y,feedId:s,zenContext:_});f.run((0,un.l)(...Ti)),((e,t)=>{const n=t.getState(),{isWebview:s}=n.params;s&&(e.zenkitApi=Mn(t))})(_,w);this.app=(({App:e,translations:t,zenContext:n,nativeZenApiMethods:s={},store:a})=>i().createElement(Rn.vh.Provider,{value:n},i().createElement(Bn.v.Provider,{value:n.zenLogger},i().createElement(Ln.y.Provider,{value:t},i().createElement(Tn.zt,{store:a},i().createElement(Zn,null,i().createElement(e,{nativeZenApiMethods:s})))))))({settings:e,App:n,translations:t,zenContext:_,store:w});w.dispatch(x(e,_)),this.disposables.push(this.globalBus.subscribe("requestFeedRefresh",this.onRequestRefresh)),pi(b,w),mi(g,this.bus);{Pn(h,w),kn(p,w),p.configure((e=>Object.assign({},e,{cache:{type:l.Ys.SessionCache,namespace:s,isPrefetchEnabled:!0}})));const{rid:e}=w.getState().request;if(!e)throw new Error("Request id is undefined");p.packUsed(e),b.on("zen-reload-feed",(e=>{w.dispatch((0,d.JJ)({insertOnTop:!0,onAfterPackInsert:e,shouldRefreshFeed:!0}))}))}((e,t,n)=>{let s;const i=()=>{const i=t.getState(),a=hi(i,null);void 0!==s&&s===a||(s=a,e.emit("feedStateChanged",n))};i(),t.subscribe(i)})(r,w,s),this.setStatus(Kn.L.Success)},this.initAsync=async({clid:e,host:t,countryCode:n,channelName:s,channelId:i,suiteId:a,interestName:r,socialProfileId:o,zenFeatures:c,feedId:d,translations:u,Component:m,branches:p,feedType:h,feedApiUrl:b,feedFilter:g,globalBus:v,disableCache:_=!1,videoPlayersPool:f,videoPlayersManager:y,searchQuery:w,searchTypes:k,referrerPageType:S})=>{this.reloadCount++,this.setStatus(Kn.L.Pending);const E=Boolean(s||i||r||o||a)?tt:void 0,C=async({exportParams:e,feedType:t,searchQuery:n,searchTypes:s,referrerPageType:i})=>t===cn.u5.Serp&&n?await(({exportConfig:e,searchQuery:t,searchTypes:n,referrerPageType:s})=>{const i=on();return i.configure((t=>Object.assign({},t,e))),i.getZenSearch({searchQuery:t,searchTypes:n,referrerPageType:s}).then((e=>Object.assign({},e)))})({exportConfig:e,searchQuery:n,searchTypes:s,referrerPageType:i}):await li(e,t||void 0),I={clid:e,host:t,countryCode:n,channelName:s,channelId:i,suiteId:a,interestName:r,socialProfileId:o,zenFeatures:c,feedFilter:g,apiRequestUrl:b,cache:_?void 0:{type:l.Ys.SessionCache,namespace:d,isPrefetchEnabled:!0},apiResponseValidator:E,userInfo:p.user};this.globalBus=v,this.feedId=d;try{var P;const s=await C({exportParams:I,searchQuery:w,searchTypes:k,feedType:h,referrerPageType:S});var T;if(null!=p&&null!=(P=p.auth)&&P.info)p.auth=Object.assign({},p.auth,{info:Object.assign({},p.auth.info,{socialToken:null==(T=s.auth)?void 0:T.social_token})});const i=Object.assign({exportData:s},p,{params:Object.assign({},p.params,{clid:e,host:t,countryCode:n,zenFeatures:c,feedType:h})});this.initSync({feedFilter:g,settings:i,translations:u,Component:m,feedId:d,feedType:h,globalBus:v,videoPlayersPool:f,videoPlayersManager:y})}catch(e){console.warn(e),this.setStatus(Kn.L.Error)}}}setStatus(e){this.status=e,this.emitChanged()}getState(){return hi(this.store?this.store.getState():null,this.status)}emitChanged(){this.globalBus&&this.feedId&&this.globalBus.emit("feedStateChanged",this.feedId)}dispose(){this.disposables.forEach((e=>e()))}}var xi=n(76117);const Oi=({settings:e,globalBus:t,historyBaseName:n,currentUrl:s,translations:i,modalRoutes:a,FeedComponent:r,videoPlayersPool:o,videoPlayersManager:l,dzenSearchInlineScript:c})=>{const d=on(),u=M(),m=(0,Sn.vV)(),p=(0,O.lX)({basename:n}),h=(0,Ri.c)({zenApi:d}),{feed:b,feedId:g}=(({FeedComponent:e,translations:t,globalBus:n,settings:s,videoPlayersManager:i,videoPlayersPool:a,shouldDeferEvents$:r})=>{let o=s.params&&s.params.feedType;const l=new Ai,c=(0,ln.In)(s);if("undefined"!=typeof window&&window.location.pathname===xi.IX&&c===ln.ed&&(o=cn.u5.Main),!o)throw new Error("feedType is null or undefined");return l.initSync({Component:e,settings:s,translations:t,feedId:c,feedType:o,globalBus:n,videoPlayersPool:a,videoPlayersManager:i,shouldDeferEvents$:r,feedFilter:c===ln.oO?{filterType:"showcase"}:void 0}),{feed:l,feedId:c}})({FeedComponent:r,settings:e,globalBus:t,translations:i,videoPlayersPool:o,videoPlayersManager:l,shouldDeferEvents$:h});return(0,Rn.jj)({zenApi:d,zenLogger:m,inputBus:L(),outputBus:u,privateBus:D(),globalBus:t,modalRoutes:a,history:p,feeds:{[g]:b},videoPlayersPool:o,videoPlayersManager:l,shouldDeferEvents$:h,dzenSearchInlineScript:c})};var Ni=n(96005),Mi=n(88388),Li=n(85170),Di=n(65288),Bi=n(84082),Fi=n(95340),Zi=n(2748),Vi=n.n(Zi),Ui=(n(61101),n(80831)),ji=n(5443);const zi=(0,s.createContext)(void 0);function Hi({children:e}){const t=(0,s.useRef)(new Map),n=(0,Fi.k6)(),a=(0,Fi.TH)(),r=(0,s.useCallback)((e=>{const n=t.current,s=n.get(e)||0;n.set(e,s+1)}),[]),o=(0,s.useCallback)((e=>{const n=t.current,s=(n.get(e)||1)-1;s?n.set(e,s):n.delete(e)}),[]),l=(0,s.useMemo)((()=>{const e=t.current,n=(0,Es.pf)(a.search),s=new Map;return Array.from(e.keys()).forEach((e=>{const t={};for(const s of(0,ji.u)(e)){const i=n[`${s}`]||"",{parse:a,defaultValue:r}=e[s];t[s]=a(i,r,n)}s.set(e,t)})),s}),[a.search]),c=(0,s.useCallback)((e=>{const t=l.get(e);if(t)return t;const n=(0,Es.pf)(a.search),s=(0,Es.pf)("undefined"!=typeof document?document.location.search:"?"),i=Object.assign({});for(const t of(0,ji.u)(e)){const a=String(t),r=n[a]||s[a]||"",{parse:o,defaultValue:l}=e[t];i[t]=o(r,l,n)}return l.set(e,i),i}),[l,a.search]),d=(0,Ui.Z)(),u=(0,s.useCallback)(((e,t)=>{const s={};(0,ji.u)(t).forEach((n=>{const{defaultValue:i,compare:a,stringify:r}=e[n];a(i,t[n])||(s[String(n)]=r(t[n],i))})),n.replace(`${a.pathname}?${(0,Es.cn)(Object.assign({},Vi()((0,Es.pf)(a.search),Object.keys(t)),s))}`),d()}),[n,a.pathname,a.search,d]),m=(0,s.useMemo)((()=>({subscribe:r,unsubscribe:o,getValues:c,setValues:u})),[r,o,c,u]);return i().createElement(zi.Provider,{value:m},e)}const qi=(e,t)=>e?i().createElement(Bi.xI,{history:e},i().createElement(Hi,null,t)):t;var $i=n(29585),Gi=n(82915);const{hasOwnProperty:Wi}=Object.prototype,Yi=(e,t,n=[])=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(let i=0;i<s.length;i++)if(!(n&&n.includes(s[i])||Wi.call(t,s[i])&&Object.is(e[s[i]],t[s[i]])))return!1;return!0};var Ki=n(32006);const Xi=({children:e})=>{const{auth:t,passportLinks:n}=(0,Tn.v9)((e=>({auth:(0,k.IG)(e),passportLinks:(0,k.Ly)(e)})),Yi),a=(0,s.useMemo)((()=>{const e=(null==t?void 0:t.yandexuid)||(0,$i.Zg)({passportLinks:n}),s=(0,Ki.jx)(n),i=(0,Ki.J_)(n);return t?{isAuthorized:!0,uid:String(t.uid),yandexuid:e,passportConnectionId:s,passportRetpathTemplate:i}:{isAuthorized:!1,yandexuid:e,passportConnectionId:s,passportRetpathTemplate:i}}),[t,n]);return i().createElement(Gi.V.Provider,{value:a},e)};var Ji=n(49847),Qi=n(2604);const ea=({children:e})=>{const t=(0,Tn.v9)(k.FS);return i().createElement(Fn.f6,{theme:t},e)},ta=({app:e,store:t,translations:n,zenContext:s})=>{const a=(0,Rn.jj)(s),{shouldDeferEvents$:r}=a;return(0,Qi.n)((()=>{var e,n;const s=null==(e=t.getState().auth)||null==(n=e.info)?void 0:n.uid,i=(0,Ji.m9)({sendImmediately:!Ji.d,shouldDeferEvents$:r,customHitParams:{passportUid:s}});return()=>{null==i||i.unsubscribe()}})),i().createElement(Rn.vh.Provider,{value:a},i().createElement(Bn.v.Provider,{value:a.zenLogger},i().createElement(Ln.y.Provider,{value:n},i().createElement(Tn.zt,{store:t},i().createElement(Xi,null,i().createElement(ea,null,i().createElement(Di.w,null,i().createElement(Li.hq,null,qi(s.history,e)))))))))},na=["action"],sa=e=>e,ia=(e,t,n)=>{let s;const i=`${e=e.toUpperCase()}_REQUEST`,a=`${e}_SUCCEED`,r=`${e}_FAILURE`,o={status:Kn.L.Pending,data:void 0};return{action:(...e)=>(n,o,l)=>{n({type:i,meta:e});const c=s=t(l,...e).then((t=>{c===s&&n({type:a,payload:t,meta:e})}),(()=>{c===s&&n({type:r,meta:e})}))},reducer:(e=o,t)=>{switch(t.type){case i:return Object.assign({},e,{status:Kn.L.Pending});case a:{const s=t.payload;return Object.assign({},e,{status:Kn.L.Success,data:n(s)})}case r:return Object.assign({},e,{status:Kn.L.Error});default:return e}},request:i,succeed:a,failure:r}},aa=(e,t=1e3)=>{const n=((e,t)=>{let n=null,s=null,i=null;return(...a)=>(i=a,Promise.resolve(n).then((()=>(i&&(n=(0,Kt.D)(t),s=e(...i),i=null),s))))})(((t,...n)=>t(e(...n))),t);return(...e)=>t=>n(t,...e)},ra=(e,t,n,s=sa,i=1e3)=>{const a=ia(e,t,s),{action:r}=a,o=(0,it.Z)(a,na),l=aa(r,i),c=((e,t)=>(...n)=>(s,i)=>{const{status:a,data:r}=t(i(),...n);return a!==Kn.L.Success?s(e(...n)):Promise.resolve(r)})(l,n);return Object.assign({action:c,forceAction:l},o)},oa=ra("profile",(({zenApi:e})=>e.getProfile()),(e=>e.profile)),la=(aa((()=>async(e,t,{zenApi:n})=>{const s=await n.getProfile();e({type:oa.succeed,payload:s})})),(0,fs.g)((0,jn.v)(oa.reducer,((e,t)=>{if(e.status!==Kn.L.Success)return e;switch(t.type){case c.SX:return o.ZP.modify(e,"data.blockedCount.count",(e=>e+1));case c.cT:return o.ZP.modify(e,"data.blockedCount.count",(e=>e-1));case c.TZ:{const{name:n}=t.payload;return o.ZP.set(e,"data.language.country",n)}default:return e}})),{status:Kn.L.Initial,data:void 0})),ca={status:Kn.L.Success,data:void 0},da=(0,Dn.UY)({filter:(e="",t)=>t.type===c.PT?t.payload:e,search:(e=ca,t)=>{switch(t.type){case c.CV:return Object.assign({},e,{status:Kn.L.Pending});case c.X3:{const n=t.payload;return Object.assign({},e,{status:Kn.L.Success,data:n})}case c.AJ:return Object.assign({},e,{status:Kn.L.Error});default:return e}}}),ua=ra("country-lang",(({zenApi:e})=>e.getCountryLang()),(e=>e.countryLang)),ma=(0,fs.g)((0,jn.v)(ua.reducer,((e,t)=>{if(e.status!==Kn.L.Success)return e;switch(t.type){case c.JF:{const{data:n}=e,s=t.payload,i=Object.assign({},n.languageIds,{[s]:!n.languageIds[s]}),a=Object.keys(i).filter((e=>i[e])).length;return 0===a?e:Object.assign({},e,{data:Object.assign({},e.data,{languageIds:i})})}case c.TZ:{const{countryId:n,languageIds:s}=t.payload;return Object.assign({},e,{data:Object.assign({},e.data,{countryId:n,languageIds:s})})}default:return e}})),{status:Kn.L.Initial,data:void 0}),pa={status:Kn.L.Initial,data:void 0},ha=vs((e=>"categoryId"in e?e.categoryId:void 0),((e=pa)=>e)),ba=["domain","publisher"],ga={status:"pending"},va={items:[]},_a={items:[],subscriptions:[]},fa={feed:Jn,displayedRowsNumber:ts,iface:is,notifiers:rs,channel:ls,suite:si,icefeed:bs,links:Ns,serpLinks:Ms,serpClid:Ls,params:Ds,shared:Bs,context:Fs,auth:Zs,user:js,interview:Ws,sources:ks,category:ha,search:da,profile:la,countryLang:ma,request:Vs,videoViewer:Is,commentsData:Ts,sidebar:(e=va,t)=>{if(t.type===c.Vc){const{items:n}=t.payload;return Object.assign({},e,{items:n})}return e},leftSidebar:(e=_a,t)=>{switch(t.type){case c.AG:{const{items:n}=t.payload;return Object.assign({},e,{items:n})}case c.LV:{const{subscriptions:n}=t.payload;return Object.assign({},e,{subscriptions:n})}case c.D7:{const{id:n}=t.payload,{subscriptions:s}=e,i={source:t.payload,unreadPostsCount:0,hasLive:!1};return s.some((e=>e.source.id===n))?e:Object.assign({},e,{subscriptions:[i,...s]})}case c.SX:case c.LU:{const{id:n}=t.payload,{subscriptions:s}=e;return Object.assign({},e,{subscriptions:[...s].filter((e=>e.source.id!==n))})}default:return e}},socialMetaData:Hs,modal:Qs,users:Rs.rC,geoblock:ri,currentUserSubscriptions:(e=ga,t)=>{switch(t.type){case c.JX:{const{exportData:n}=t.payload,{currentUserSubscriptions:s}=n;return s||e}case c.D7:if("complete"===e.status){const{id:n,type:s}=t.payload;if(ba.includes(s))return Object.assign({},e,{result:[t.payload,...e.result.filter((({id:e})=>e!==n))]})}return e;case c.LU:if("complete"===e.status){const{id:n,type:s}=t.payload;if("interest"!==s)return Object.assign({},e,{result:[...e.result.filter((e=>e.id!==n))]})}break;case c.rl:return t.payload}return e},currentUserSourceInfo:ti,loginPopup:Ks,newSearchPopup:(e=null,t)=>{if(t.type===c.JX){const{newSearchPopup:n}=t.payload.exportData;return n||e}return e},liveStream:Ys,channelsListModal:ni,distribution:ai,bannerMain:(e="",t)=>{if(t.type===c.JX){const{exportData:n}=t.payload,{bannerMain:s}=n;return s||e}return e}};var ya=n(76271);const wa=e=>({dispatch:t})=>n=>s=>{const{type:i,payload:a,fromBroadcast:r}=s;if(![ya.H7,c.D7,c.LU].includes(i))return n(s);const o=null==a?void 0:a.id;return o?(i===ya.H7&&s.tabId!==e&&(a.isSubscribed?(t({type:c.D7,payload:{id:o,logo:a.logo,logoBackgroundColor:a.logoBackgroundColor},meta:{isPublic:!0},isSourceAction:!0,fromBroadcast:!0}),t((0,d.KK)({id:o,logo:a.logo,logoBackgroundColor:a.logoBackgroundColor,status:cn.aF.SUBSCRIBED,title:a.title,feedLink:a.feedLink}))):(t({type:c.LU,payload:{id:o},meta:{isPublic:!0},isSourceAction:!0,fromBroadcast:!0}),t((0,d.KK)({id:o,status:cn.aF.NOT_SUBSCRIBED})))),i!==c.D7||r||t({type:ya.H7,tabId:e,broadcastable:!0,payload:{id:o,isSubscribed:!0,logo:null==a?void 0:a.logo,logoBackgroundColor:null==a?void 0:a.logoBackgroundColor}}),i!==c.LU||r||t({type:ya.H7,tabId:e,broadcastable:!0,payload:{id:o,isSubscribed:!1}}),n(s)):void 0};const ka=({zenContext:e,tabId:t,epics:n,initialState:s})=>{if(!e.history)throw Error("SiteApp should have history in zenContext");const i=(0,dn.k)({dependencies:e}),a=(e=>{const t=(0,Bi.iz)(e);return Vn((0,Dn.UY)(Object.assign({},fa,{router:t})))})(e.history),r=((e,t)=>{if(!e.history)throw Error("SiteApp should have history in zenContext");const n=[(0,Dn.zk)(e.history)];return n.push((0,Ni.qO)(t),wa(t)),[..._n(e),...n,ui(e)]})(e,t).concat(i),o=fn(r,e,"site-app"),l=s?(0,Dn.MT)(a,s,o):(0,Dn.MT)(a,o);return i.run((0,un.l)(...n)),l};var Sa=n(96497);var Ea=n(51556);const Ca=["forceRefresh"],Ia=({globalBus:e,store:t,zenContext:n,tabId:s})=>{const{outputBus:i,feeds:a,zenApi:r,zenLogger:o}=n;(0,v.u)(a).forEach((e=>{pi(a[e],t),mi(i,a[e])}));const{rid:c}=t.getState().request;c&&r.packUsed(c),e.subscribe("requestSourceOpen",(n=>{const{router:s}=t.getState(),{location:i}=s,{forceRefresh:a=!1}=n,r=((e,t)=>({pathname:((0,Sa.en)(e.feedLink)||{pathname:e.feedLink,search:""}).pathname,search:t||window.location.search,state:{source:e}}))((0,it.Z)(n,Ca),i&&i.search);if(a){const t=(0,ln.fQ)(r.pathname);e.emit("requestFeedRefresh",t)}t.dispatch(i&&i.pathname===r.pathname?(0,ci.V1)(r):(0,ci.Kv)(r))})),e.subscribe("requestSearchOpen",(()=>{t.dispatch((0,ci.Kv)(xi.IX))})),e.subscribe("requestLinkOpen",(e=>{const{router:n}=t.getState(),{location:s}=n,i={pathname:((0,Sa.en)(e)||{pathname:e,search:""}).pathname,search:s.search||window.location.search};t.dispatch(s&&s.pathname===i.pathname?(0,ci.V1)(i):(0,ci.Kv)(i))})),e.subscribe("showPopup",(e=>{t.dispatch((0,Ea.U)(e))})),(0,Ni.m)(s,t),kn(r,t),Pn(o,t),r.configure((e=>Object.assign({},e,{cache:{type:l.Ys.SessionCache,namespace:"dzen-desktop",isPrefetchEnabled:!0}})))};var Pa=n(44564),Ta=n(47273),Ra=n(66715);var Aa=n(51749);const xa={feed_header_login:"1",feed_header_registration:"2"};var Oa=n(7760);var Na=n(28494),Ma=n(75653),La=n(40929),Da=n(81309),Ba=n(33337),Fa=n(90392),Za=n(37147);const Va={[Ma.E]:{forced:!0},[La.r]:{forced:!0},[Da.U]:{forced:!0},[Ba.n]:{forced:!0},[Fa.iZ]:{forced:!0},[xi.tA]:{path:xi.tA,exact:!0},[xi.Yk]:{path:xi.Yk,exact:!0,backgroundFromLocation:!0},[Na.qx]:{path:Na.qx,exact:!0},[Za.k]:{forced:!0,backgroundFromLocation:!0},[xi.TR]:{path:xi.TR,exact:!0},[xi.qB]:{path:xi.qB,exact:!0},[xi.Yz]:{path:xi.Yz,exact:!0},[xi.vv]:{path:xi.vv},[xi.w$]:{path:xi.w$}};var Ua=n(71102),ja=n.n(Ua);const za="dzen-desktop__feedContent-3o",Ha="dzen-desktop__bannerMain-1i",qa="dzen-desktop__feed-3W",$a="dzen-desktop__link_bro-32",Ga="dzen-desktop__teaser-3u",Wa="dzen-desktop__isScrolled-dk",Ya=(e,t)=>e?t(e.getState()):null;var Ka=n(13974);const Xa=(0,Ka.N)("feed"),Ja=({columnCount:e=3})=>i().createElement("div",{className:Xa({columnCount:e})},(0,_s.a$)(2).map(((t,n)=>i().createElement("div",{key:n,className:Xa("row")},(0,_s.a$)(e).map(((e,t)=>i().createElement("div",{key:t,className:Xa("item-wrap",{size:"small"})},i().createElement("div",{className:Xa("item",{isStab:!0})})))))))),Qa={[xi.tA]:cn.u5.Main,[xi.IX]:cn.u5.Serp,[xi.TR]:cn.u5.Main,[xi.Yz]:cn.u5.Main,[xi.qB]:cn.u5.Main,[xi._k]:cn.u5.Main,[xi.lK]:cn.u5.Showcase,[xi.$W]:cn.u5.Suite,[xi.In]:cn.u5.Saved,[xi.Tu]:cn.u5.Main,[xi.vM]:cn.u5.Main,[xi.Sq]:cn.u5.Main,[xi.ck]:cn.u5.Interest,[xi.g6]:cn.u5.Channel,[xi.Yk]:cn.u5.Channel,[xi.vv]:cn.u5.Channel,[xi.w$]:cn.u5.Channel,[xi.cA]:cn.u5.Channel,[xi.HV]:cn.u5.Channel,[xi.Wj]:cn.u5.Channel,[xi._g]:cn.u5.Channel,[Na.qx]:cn.u5.Main,[Na.UK]:cn.u5.Main},er=(e,t)=>{var n,i;const a=(0,Dn.oR)(),{outputBus:r,feeds:o,globalBus:l,videoPlayersManager:c,videoPlayersPool:d}=(0,Rn.vv)(),u=(0,s.useContext)(Ln.y),{location:m}=(0,Tn.v9)((e=>e.router)),{feedId:p,additionalInitParams:h}=(0,s.useMemo)((()=>(e=>{switch(e.feedType){case null:return{feedId:(0,ln.fQ)(e.url),additionalInitParams:{}};case cn.u5.Main:return{feedId:ln.ed,additionalInitParams:{}};case cn.u5.Showcase:return{feedId:ln.oO,additionalInitParams:{feedFilter:{filterType:"showcase",filterSource:e.filterSource}}};case cn.u5.Suite:return{feedId:ln.tn,additionalInitParams:{suiteId:e.suiteId}};case cn.u5.Video:return{feedId:ln.Jp,additionalInitParams:{}};case cn.u5.Channel:return e.useSourceId?{feedId:(0,ln.ji)(e.sourceId),additionalInitParams:{channelId:e.sourceId}}:e.useSocialProfileId?{feedId:(0,ln.D1)(e.socialProfileId),additionalInitParams:{socialProfileId:e.socialProfileId}}:{feedId:(0,ln.ex)(e.sourceName),additionalInitParams:{channelName:e.sourceName}};case cn.u5.Interest:return{feedId:(0,ln._I)(e.sourceName),additionalInitParams:{interestName:e.sourceName}};case cn.u5.Serp:return{feedId:ln.fN,additionalInitParams:{searchQuery:e.searchQuery,searchTypes:e.searchTypes,referrerPageType:e.referrerPageType}};case cn.u5.Saved:return{feedId:ln.N2,additionalInitParams:{feedFilter:{filterType:"bookmarks"}}}}})(e)),[e]),[b,g]=(0,s.useState)(p);b!==p&&g(p);const _=(0,Tn.v9)(En.$b,Tn.wU),f=(0,s.useCallback)((({disableCache:e}={disableCache:!1})=>{const n=new Ai,{clid:s,host:i,countryCode:b,zenFeatures:g,links:f,params:y,shared:k,context:S,auth:E,user:C,feedApiUrl:I}=_;o[p]=n;const P=((e,t)=>{const n=(0,v.u)(Qa).find((t=>(0,Fi.LX)(e,{path:String(t),exact:!0})));return t===ln.Jp?cn.u5.Video:n?Qa[n]:null})(m.pathname,p);return n.initAsync(Object.assign({feedId:p},h,{clid:s,feedApiUrl:I,host:i,countryCode:b,zenFeatures:g,translations:u,feedType:P,globalBus:l,Component:t,branches:{links:f,params:y,shared:k,context:S,auth:E,user:C},disableCache:e,videoPlayersManager:c,videoPlayersPool:d})),pi(n,a),mi(r,n),w(),n}),[_,o,p,m.pathname,h,u,l,a,r,c,d,t]),y=null==(n=o[p])?void 0:n.needRefresh,[,w]=(0,s.useReducer)((e=>e+1),0);return(0,s.useEffect)((()=>(o[p]?y&&f({disableCache:!0}):f(),l.subscribe("feedStateChanged",(e=>{e===p&&w()})))),[f,o,p,y,l]),{feeds:o,feedId:p,feedReloadCount:null==(i=o[p])?void 0:i.reloadCount,createMissingFeed:f}};var tr=n(92503),nr=n(17306),sr=n(73928),ir=n(99769),ar=n(88211),rr=n(32286);const or=(0,Ka.N)("feed-loading-progress"),lr=()=>100,cr=(0,s.memo)((()=>{const{l10n:e}=(0,ar.$)(),t=(0,Tn.v9)((e=>e.iface.feedLoadingProgressVisible)),[n,a]=(0,s.useState)(!1),r=(0,s.useRef)(null),o=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation()}),[]),l=(0,s.useCallback)((()=>a(t)),[t]),c=(0,s.useCallback)((()=>a(!0)),[]);(0,s.useEffect)((()=>{const e=r.current;if(e)return e.addEventListener("wheel",o,!!ir.Z.hasSupport&&{passive:!0}),e.addEventListener("touchmove",o,!!ir.Z.hasSupport&&{passive:!0}),()=>{e.removeEventListener("wheel",o),e.removeEventListener("touchmove",o)}}),[o]);const d=(0,nr.dD)();return i().createElement("div",{className:or("container"),ref:r},i().createElement(rr.n,{triggerKey:t,type:t?"in":"out",onBeforeStart:c,onComplete:l,getDuration:lr},(({ref:s,style:a})=>i().createElement("div",{className:or({isMobile:d,isVisible:t||n}),ref:s,style:a},i().createElement(sr.$,{className:or("spinner"),size:34}),i().createElement("div",{className:or("text")},e("desktop.feed.updating"))))))}));var dr=n(33566),ur=n(79538),mr=n(18326);const pr=e=>e,hr=(0,s.memo)((({onFeedEndReach:e,updateLimit:t=5,withLimit:n=!0})=>{const a=(0,s.useRef)(),r=(0,s.useRef)(),{zenLogger:o}=(0,Rn.vv)(),{moreMarkHeightOnStart:l}=(0,Tn.v9)(h.a),[c,d]=(0,s.useState)(l||600),[u,,m]=(0,dr.O)(void 0,pr),p=(0,s.useCallback)(((s=(a.current=Math.random()),i=1)=>{if(r.current&&s===a.current)if(i<=t||!n){mr.K.getSubpage("feed","mainFeed").startLoading();e().then((e=>{e&&setTimeout((()=>{p(s,i+1)}),200)}))}else o.error(`More mark iteration limit reached. Limit: ${t}. Iterations: ${i}`)}),[e,t,n,o]);(0,Qi.n)(p),(0,ur.m)((()=>m),(e=>{r.current=e,p()}));const b=(0,s.useCallback)((()=>{d(600),window.removeEventListener("scroll",b)}),[]);return(0,s.useEffect)((()=>{if(l)return window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)}}),[l,b]),i().createElement("div",{className:"more-mark-wrapper"},i().createElement("div",{className:"more-mark",ref:u,style:{height:`${c}px`}}))}));var br=n(35847),gr=n(88583);const vr=()=>{const e=(0,Dn.oR)(),t=(0,Tn.I0)(),[n,i]=(()=>{const e=(0,s.useRef)({}),t=(0,s.useRef)({});return[(0,s.useCallback)((n=>(e.current[n]||(e.current[n]=s=>{s?t.current[n]=s:(delete e.current[n],delete t.current[n])}),e.current[n])),[]),(0,s.useCallback)((()=>Object.keys(t.current).reduce(((e,n)=>Object.assign({},e,{[n]:t.current[n].getBoundingClientRect()})),{})),[])]})(),a=(0,s.useCallback)((()=>{const{rows:n}=(0,En.O5)(e.getState()),s=window.innerHeight,a=i(),r=(0,v.u)(a).filter((e=>{const{top:t,bottom:n}=a[e];return(([e,t],[n,s])=>e<=s&&n<=t)([t,n],[0,s])})).reduce(((e,t)=>Math.max(e,Number(t))),-1),o=n[r];if(!o)return;const l=o[o.length-1].id;t((0,d.Yu)(l))}),[t,i,e]);return{getRowRef:n,handleSafeClearFeed:a}};var _r=n(14395),fr=n(83137),yr=n(60290),wr=n(84091),kr=n(80575),Sr=n(5059),Er=n.n(Sr),Cr=n(71037),Ir=n(14052),Pr=n(35029),Tr=n(759);const Rr=e=>{const{interviewsMap:t,currentInterviewId:n}=e.interview;return null!==n?t[n]:void 0};var Ar=n(10703);const xr="desktop-interview-modal__wrapper-1q",Or="desktop-interview-modal__container-8e",Nr="desktop-interview-modal__closeButton-2y",Mr="desktop-interview-modal__crossIcon-zb",Lr="desktop-interview-modal__modal-2C",Dr={id:"EMPTY_SCREEN_ID",type:"EMPTY_SCREEN_TYPE"},Br=(e,t)=>Math.max(Math.min(Math.abs(t),100),600),Fr=()=>300,Zr=(0,Cr.Z)(wr.W),Vr=(0,s.memo)((()=>{const[e,t]=(0,s.useState)(!1),n=(0,Tn.v9)((e=>Rr(e)),Tn.wU),a=(0,Dn.oR)(),r=(null==n?void 0:n.screenMap[n.currentScreenId])||Dr,o=(0,s.useCallback)((e=>{const{currentInterviewId:t}=a.getState().interview;t&&a.dispatch((0,f.lT)({interviewId:t,screenId:e}))}),[a]),l=(0,s.useCallback)((()=>{a.dispatch((0,f.C0)(null))}),[a]);(0,Qi.n)((()=>{wr.W.load().then((()=>{t(!0)})).catch((e=>{console.error(e),l()}))})),(0,yr.z)((()=>{l()}));return i().createElement(Er(),{component:"div",className:xr,transitionName:{enter:"_enter",enterActive:"_enter-active",leave:"_leave"},transitionEnterTimeout:500,transitionLeaveTimeout:500},e&&r.type!==Dr.type?i().createElement("div",{className:Lr},i().createElement(kr.F,{triggerKey:r.id,getResizeDuration:Br,getFadeDuration:Fr,fadeTimingFunction:"ease-in-out",resizeTimingFunction:"ease-in-out"},(({ref:e})=>i().createElement("div",{className:Or,ref:e},i().createElement(Zr,{screen:r,onSetScreen:o,onClose:l,viewType:Ar.t.desktop})))),i().createElement("div",{className:Nr},i().createElement(Ir.Su,{icon:i().createElement(fr.P,{symbol:Tr.Z,className:Mr,width:24,height:24}),onClick:l,size:Pr.u.m}))):null)}));var Ur=n(21770),jr=n(73386),zr=n(12910);var Hr=n(87765),qr=n(69133),$r=n(73515),Gr=n(89295);var Wr=n(51684);var Yr=n(85207),Kr=n(20095),Xr=n(37884),Jr=n(71373);const Qr=()=>{const{id:e,isVideoViewerRubberSize:t,videoDesktopNewModal:n,isFullscreen:s,isScrollToSiteVideo:a,isEmptyFeed:r,packNumber:o,displayedRowsNumber:l,separateVideoBundlePreloadInit:c}=(0,Tn.v9)((e=>{const{items:t,openedItemId:n,itemsOrder:s,packNumber:i,displayedRowsNumber:a}=e.videoViewer,r=n&&t[n],o=(0,Pa.A8)(e),{isVideoViewerRubberSize:l,videoFeedPerformanceTweaks:c,videoDesktopNewModal:d}=(0,h.a)(e),u=s.length<=1;return{isFullscreen:r&&(0,Yr.P)(r),id:n,isVideoViewerRubberSize:l,isScrollToSiteVideo:o,isEmptyFeed:u,packNumber:i,videoDesktopNewModal:d,displayedRowsNumber:c.prefetchPacks?a:s.length,separateVideoBundlePreloadInit:(0,Xr.zk)(e)}}),Tn.wU);c&&Jr.f.preload();const d=(0,Kr.Z)(e),u=Boolean(void 0===d&&e);return e?i().createElement(Jr.Z,{id:e,isVideoViewerRubberSize:t,videoDesktopNewModal:n,isFullscreen:s,isScrollToSiteVideo:a,isEmptyFeed:r,packNumber:o,displayedRowsNumber:l,isFirstStickedCard:u}):null};var eo=n(52108),to=n(73950),no=n(72361),so=n(36520),io=n(37739);const ao=()=>{};var ro=n(55796),oo=n(1910),lo=n(87340),co=n(99498),uo=n(32976);const mo={promo:{ru:"Промо-блок"}},po=((0,uo.Wh)(mo),(0,uo.bN)(mo)),ho=(0,Ka.N)("feed-subscription-promo-content"),bo=({isMobile:e=!1,channelAvatarUrl:t,userAvatarUrl:n,onSubscribeClick:s,isSubscribed:a,style:r,elementRef:o,shouldDegradateSubscriptions:l})=>{const{l10n:c,lang:d}=(0,ar.$)();let u;return u=a?lo.FG.alwaysTransparent:e?lo.FG.roundedCarrot:lo.FG.roundedDarkGrey,l?null:i().createElement("div",{ref:o,className:ho(),style:r,"aria-label":po.promo(d)},i().createElement("div",{className:ho("avatar")},i().createElement(co.qE,{src:t,iconSize:48})),i().createElement("div",{className:ho("text-primary")},c("channel.subscribe_promo.primary")),i().createElement("div",{className:ho("text-secondary")},c(e?"channel.subscribe_promo.secondary_mobile":"channel.subscribe_promo.secondary")),i().createElement(lo.zx,{className:ho("subscribe"),viewType:u,size:"new-xl",onClick:s,layoutType:"wide",widthType:"regular",borderType:"slight-roundness",disabled:a},n&&a?i().createElement("div",{className:ho("user-avatar")},i().createElement(co.qE,{src:n,iconSize:32})):null,c(a?"feedback.subscribed":"channel.source_subscribe")))},go=(0,Ka.N)("feed-subscription-promo"),vo=({margin:e})=>{const[t,n]=(0,s.useState)(0),i=(0,s.useRef)(null);return(0,oo.L)((()=>{(0,ro.W)().then((()=>{const{current:e}=i;if(!e)return;const{height:t}=e.getBoundingClientRect();n(t)}))}),[]),{contentRef:i,height:t?t+2*e:0}},_o=({margin:e,isExpanded:t,height:n,contentRef:s,isMobile:a,channelAvatarUrl:r,userAvatarUrl:o,onSubscribeClick:l,isSubscribed:c,shouldDegradateSubscriptions:d})=>{const u=t&&n?n:0;return i().createElement("div",{className:go(),style:{maxHeight:u}},i().createElement(bo,{elementRef:s,isMobile:a,channelAvatarUrl:r,userAvatarUrl:o,onSubscribeClick:l,isSubscribed:c,style:{marginTop:e,marginBottom:e},shouldDegradateSubscriptions:d}))};var fo=n(85466);const yo={},wo=(e,t={})=>{const{root:n,rootMargin:i,threshold:a}=t,r=(0,fo.m)(((t,n)=>{(0,Tn.dC)((()=>{e(t,n)}))}));return(e=>{const t=(0,s.useRef)(null);return(0,s.useCallback)((n=>{t.current&&(t.current(),t.current=null),n&&(e.observe(n),t.current=()=>{e.unobserve(n)})}),[e])})((0,s.useMemo)((()=>"undefined"!=typeof window?new IntersectionObserver(r,{root:n,rootMargin:i,threshold:a}):yo),[n,i].concat(a)))},ko=({isSubscribed:e,margin:t,isMobile:n,channelAvatarUrl:a,userAvatarUrl:r,onSubscribeClick:o})=>{const[l,c]=(0,s.useState)(!1),d=wo((t=>{t.some((e=>e.isIntersecting))&&!e&&c(!0)})),{shouldDegradateSubscriptions:u}=(0,Tn.v9)((e=>{const{shouldDegradateSubscriptions:t}=(0,h.a)(e);return{shouldDegradateSubscriptions:t}}),Tn.wU),{height:m,contentRef:p}=vo({margin:t});return i().createElement(i().Fragment,null,m?i().createElement("div",{ref:d,style:{position:"relative",top:m}}):null,i().createElement(_o,{contentRef:p,isMobile:n,channelAvatarUrl:a,userAvatarUrl:r,onSubscribeClick:o,isSubscribed:e,isExpanded:l,margin:t,height:m,shouldDegradateSubscriptions:u}))};var So=n(1654),Eo=n(92316),Co=n(46726);const Io=({isMobile:e=!1,userAvatarUrl:t,channelSource:n,channelSourceModifiedStatus:a})=>{const r=(0,s.useMemo)((()=>n.status===a?n:Object.assign({},n,{status:a})),[n,a]),o=(0,So.j)(Eo.F),l=(0,to.I)({bulkParams:r.bulkParams}),c=(0,no.F)({bulkParams:r.bulkParams}),d=(0,so.m)({bulkParams:r.bulkParams}),u=(e=>{const t=(0,Tn.I0)();return(0,s.useCallback)((n=>{switch(n){case"subscribed":if("subscribed"!==e.status)return t((0,m.KE)(cn.aF.SUBSCRIBED,e));break;case"blocked":"blocked"!==e.status&&(t((0,m.KE)(cn.aF.BLOCKED,e)),t((0,io.Yi)(e)));break;case"not_subscribed":if("blocked"===e.status){t((0,m.hh)(e)),t((0,io.Yi)(e));break}if("subscribed"===e.status){t((0,m.KE)(cn.aF.NOT_SUBSCRIBED,e)),t((0,io.Yi)(e));break}}}),[t,e])})(r),{vacuumCounterId:p}=n,h=(({status:e,setStatus:t=ao,onUnsubscribe:n=ao,onSubscribe:i=ao,onUnblock:a=ao,setStatusWithCondition:r})=>(0,s.useCallback)((()=>{switch(e){case"subscribed":n(),t(cn.aF.NOT_SUBSCRIBED);break;case"blocked":a(),t(cn.aF.NOT_SUBSCRIBED);break;case"not_subscribed":r?r(cn.aF.SUBSCRIBED)&&i():t(cn.aF.SUBSCRIBED)&&i()}}),[i,a,n,t,e,r]))({onSubscribe:(0,s.useCallback)((()=>{c(),o(),(0,Co.jM)(Co.rs.subscribe,{vacuumCounterId:p})}),[o,c,p]),onUnsubscribe:l,onUnblock:d,setStatus:u,status:r.status});return i().createElement(ko,{isMobile:e,userAvatarUrl:t,channelAvatarUrl:null==r?void 0:r.logo,isSubscribed:a===cn.aF.SUBSCRIBED,onSubscribeClick:h,margin:32})};var Po=n(91209),To=n(39676),Ro=n(72331),Ao=n(44762),xo=n(48650),Oo=n(15433);var No=n(25933);const Mo=(0,Ka.N)("feed"),Lo=(0,s.memo)((({force16x9ImageAspectRatio:e,getComponent:t,id:n,type:a,rezenFeedRedesignGridType:r,nativeZenApiMethods:o,rowIndex:l,itemIndexInRow:c,scrollToID:d,scrollToOffsetY:u,onRender:m,onError:p,needToScroll:h,shouldFixCardImageOneColumnLcp:b,shouldFocusOnCardHeader:g})=>{const v=b&&a===B.qG.IMAGE,_=!v&&"fixed"===r&&a!==B.qG.RTB&&a!==B.qG.BRIEF&&a!==B.qG.GALLERY,{handleSettingsClick:f}=o||{},y=(0,s.useRef)(null),w=(0,s.useRef)(null),{shouldHighlight:k,scrollTo:S}=(({containerRef:e,offsetTop:t=0})=>{const[n,i]=(0,s.useState)(!1);return{shouldHighlight:n,scrollTo:(0,s.useCallback)((async({animate:n=!1,highlight:s=!1,shouldScrollIfElementTopIsVisible:a=!0}={})=>{if(i(!1),!e||!e.current)return Promise.resolve();const r=(0,Oo.u)(e.current)-t;(a||r<window.pageYOffset||r>window.pageYOffset+window.innerHeight)&&await xo.O.scrollTo({animate:n,top:r}),s&&(await(0,Kt.D)(250),i(!0))}),[])}})({containerRef:y,offsetTop:u});(0,s.useEffect)((()=>{h&&S({animate:!0})}),[S,h]);const[E,C]=(0,s.useState)(!1),[I,P]=(0,s.useState)(!1),[T,R]=(0,s.useState)();(0,Qi.n)((()=>{_&&P(!0)})),(0,No.Y)((()=>{_&&C(!0)}));const A=Boolean(T);if(!A&&E&&I&&w.current&&w.current.clientHeight){const{clientHeight:e}=w.current;R(e)}const{Component:x,Stub:O}=t(a);if(!x)return console.error(`Component doesn't exist for type ${a}`),i().createElement(O,null);const N=i().createElement(x,{containerRef:y,itemHasFixedHeight:A||v,id:n,force16x9ImageAspectRatio:e,rowIndex:l,itemIndexInRow:c,onSettingsClick:f,scrollTo:S,onRender:m,onError:p,shouldFocusOnCardHeader:g}),M={zenScrollToTarget:d===n,animationHighlight:k},L=i().createElement("div",{className:Mo("item",M),id:n,ref:y},N);return i().createElement("div",{className:Mo("item-wrap"),ref:w},i().createElement(Ao.S,{errorView:i().createElement(O,null)},L))}));var Do=n(10308);const Bo=(0,s.memo)((({className:e,onVisibilityChange:t,threshold:n})=>{const[s,a]=(0,Do.O)(n);return(0,ur.m)((()=>a),(e=>{t&&t(Boolean(e))})),i().createElement("div",{className:e,ref:s})})),Fo=(0,yn.PW)((e=>({interviewsMap:e.interview&&e.interview.interviewsMap}))),Zo=(0,s.memo)((({shouldUseMobileModal:e,pos:t,packId:n,itemId:a,rowIndex:r,interviewPosRef:o})=>{const{zenApi:l}=(0,Rn.vv)(),{statsCounter:c}=l,{interviewsMap:d}=(0,Tn.v9)(Fo,Tn.wU);let u="";const m=void 0!==n&&void 0!==t?qs(n,t):void 0;d&&m&&d[m]&&m&&(u=m);const p=d&&d[a];if(p&&p.itemBasedPosition&&r){const{offset:e}=p.itemBasedPosition;o.current.set(r+e,a)}const h=o.current.get(r);h&&(u=h);const b=""!==u&&d[u],g=Boolean(b&&!b.isShown),v=b&&b.eventConditionsShow;(0,Qi.n)((()=>{g&&wr.W.preload()}));const _=(0,s.useCallback)((()=>!v||v.every((e=>{const{itemId:t,eventName:n,count:s=1}=e,i=t?c.getCount(t,n):c.getAllCountByStatEvent(n);return 0===s&&0===i||s>0&&i>=s}))),[v,c]),y=(0,Tn.I0)(),w=(0,s.useCallback)((t=>{t&&void 0!==u&&_()&&y(e?(0,f._P)(u):(0,f.C0)(u))}),[u,_,e,y]);return g?i().createElement(Bo,{onVisibilityChange:w}):null})),Vo=JSON.parse('{"Fs":{"C":166},"F":{"F":{"C":74}}}');var Uo=n(588);const jo=(0,Ka.N)("feed"),zo=Vo.Fs.C,Ho=Vo.F.F.C,qo=e=>(e?Ho:zo)+4,$o=({row:e,rowIndex:t,nativeZenApiMethods:n,rowRef:a,getComponent:r,rezenFeedRedesignGridType:o,isSmallItemsRow:l,onMount:c,interviewPosRef:d,scrollToID:u,isZenOneEnabled:m,contentVisibilityEnabled:p,needToScroll:h,shouldFixCardImageOneColumnLcp:b,isMobile:g})=>{const{packId:v,pos:_,id:f,type:y}=e[0],w=(0,s.useRef)(null),k=(0,Ur.e)(a,w),S=`zen-row-${t}`;(0,oo.L)((()=>{var e,n,s;if(!w.current)return;const i=null==(e=window[Uo.A])||null==(n=e.loader)||null==(s=n.store)?void 0:s.mountedRows;Array.isArray(i)&&i.includes(t)||c({container:w.current,grid:[{row:t,type:y}],index:t})}),[]);const[E,C]=(0,s.useState)(!0),I=(0,s.useCallback)((()=>{C(!0)}),[]),P=(0,s.useCallback)((()=>{C(!1)}),[]),{handleInteract:T,handleInteractWithNews:R}=(0,Ri.M2)();if(0===e.length)return null;const A=e.some((e=>e.type===B.qG.RTB)),x=qo(m),O=A&&!E;return i().createElement("div",{className:jo("row",{isContentVisExp:p,isSmallItemsRow:l,shouldHideMargin:O}),id:S,ref:k,onClickCapture:()=>{y===B.qG.NEWS?R():T()}},i().createElement(Po.X.Provider,{value:t},i().createElement(To.xE.Provider,{value:_},i().createElement(Ro.o.Provider,{value:f},i().createElement(Lo,{needToScroll:h,getComponent:r,id:f,type:y,rowIndex:t,itemIndexInRow:0,scrollToID:u,nativeZenApiMethods:n,rezenFeedRedesignGridType:o,scrollToOffsetY:x,onRender:I,onError:P,shouldFixCardImageOneColumnLcp:b,isMobile:g}),i().createElement(Zo,{shouldUseMobileModal:!1,pos:_,packId:v,itemId:f,rowIndex:t,interviewPosRef:d})))))},Go=(0,Ka.N)("feed"),Wo=({row:e,rowIndex:t,nativeZenApiMethods:n,rowRef:a,getComponent:r,isRightColHasVerticalVideo:o,onMount:l,interviewPosRef:c,scrollToID:d,isZenOneEnabled:u,isMobile:m})=>{const p=qo(u),h=(0,s.useRef)(null),b=(0,Ur.e)(a,h),g=`zen-row-${t}`;return(0,oo.L)((()=>{h.current&&l({container:h.current,grid:e.reduce(((e,n)=>e.concat(n.map((({type:e})=>({row:t,type:e}))))),[]),index:t})}),[]),i().createElement("div",{className:Go("row",{itemsCount:e.length,type:"float-grid"}),id:g,ref:b},e.map(((e,s)=>i().createElement("div",{className:Go("col"),key:s},e.map((e=>{const{packId:a,pos:l,id:u,type:h}=e;return i().createElement(Po.X.Provider,{value:t,key:e.id},i().createElement(To.xE.Provider,{value:l,key:e.id},i().createElement(Ro.o.Provider,{value:e.id},i().createElement(Lo,{force16x9ImageAspectRatio:o&&1===s,getComponent:r,id:u,type:h,rowIndex:t,itemIndexInRow:s,scrollToID:d,nativeZenApiMethods:n,scrollToOffsetY:p,isMobile:m}),i().createElement(Zo,{shouldUseMobileModal:!1,pos:l,packId:a,itemId:u,rowIndex:t,interviewPosRef:c}))))}))))))};var Yo=n(45506);const Ko=e=>{const{gridType:t}=e.feed;return B.Ct[t].initialDisplayedRowsNumber},Xo=(0,s.memo)((({displayedRows:e})=>(e>(0,Tn.v9)(Ko)&&mr.K.getSubpage("feed","mainFeed").renderStart(),null))),Jo=e=>{const{rezenFeedRedesign:t,isVideoAutoplayAfterStartZenSession:n,requestMoreMargin:s,playersPoolDeferUpdateAfterScroll:i,contentVisibilityEnabled:a,channelSubscribePromo:r,shouldFixCardImageOneColumnLcp:o}=(0,h.a)(e),{feedLoadingProgressVisible:l}=e.iface;return Object.assign({shouldCleanCacheOnFeedback:e.params.shouldCleanCacheOnFeedback,scrollToID:e.shared.scrollToID},(0,En.Sg)(e),{isReloading:l,isChannelFeed:(0,k.Fr)(e),channelSource:e.channel.source,channelStatus:(0,En._l)(e),channelSubscribePromo:e.shared.channelSubscribePromo||r,userAvatarUrl:(0,k.uX)(e),rezenFeedRedesignGridType:t.gridType,isVideoAutoplayAfterStartZenSession:n,requestMoreMargin:s,playersPoolDeferUpdateAfterScroll:i,isZenOneEnabled:(0,k.oy)(e),contentVisibilityEnabled:a,shouldFixCardImageOneColumnLcp:o,isMobile:Boolean(e.context.isMobile)})},Qo=({grid:e,displayedRowsNumber:t,getRowRef:n,nativeZenApiMethods:a})=>{const{outputBus:r}=(0,Rn.vv)(),{scrollToID:o,isZenOneEnabled:l,contentVisibilityEnabled:c,isChannelFeed:u,channelSource:m,channelStatus:p,channelSubscribePromo:h,userAvatarUrl:b,rezenFeedRedesignGridType:g,isMobile:v,shouldFixCardImageOneColumnLcp:_}=(0,Tn.v9)(Jo,Tn.wU),f=(0,s.useCallback)((e=>{r.emit("rowMounted",e)}),[r]),y=(0,Yo.m)(d.mz),w=(0,s.useCallback)(((e,t,s)=>{const r=e.reduce(((e,t)=>t.reduce(((e,{id:t,replaceWith:n})=>e+(n||t)),"")),""),c=n(String(t));return i().createElement(Wo,{isRightColHasVerticalVideo:s,key:r,row:e,rowIndex:t,rowRef:c,getComponent:eo.I,onMount:f,interviewPosRef:C,scrollToID:o,isZenOneEnabled:l,onUpdateVisibleRows:y,nativeZenApiMethods:a,isMobile:v})}),[n,f,o,l,y,a,v]),[S,E]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=(0,Es.pf)(window.location.href);E("svf"===e.zenf)}),[]);const C=(0,s.useRef)(new Map),I=(0,s.useCallback)(((e,t,s)=>{const r=1===e.length,d=e.reduce(((e,{id:t,replaceWith:n})=>e+(r?t:n||t)),""),u=n(String(t));return i().createElement($o,{needToScroll:S,key:d,row:e,rowIndex:t,rowRef:u,interviewPosRef:C,rezenFeedRedesignGridType:g,getComponent:eo.I,isSmallItemsRow:null==s?void 0:s.isSmallItemsRow,onMount:f,scrollToID:o,isZenOneEnabled:l,contentVisibilityEnabled:c,onUpdateVisibleRows:y,nativeZenApiMethods:a,shouldFixCardImageOneColumnLcp:_,isMobile:v})}),[S,n,g,f,o,l,c,y,a,v,_]),P=(0,s.useMemo)((()=>{if("float"===g){let n=0;return e.rows.slice(0,t).reduce(((t,s,i)=>{if(2!==s.length)return t.push(I(s,i)),t;if(i<n)return t;let a=!0,r=i,o=e.rows[r];const l=[],c=[];let d=!1;for(;o&&a;){const t=o[1];l.push(o[0]),c.push(t),t.video&&(d=t.video.height>t.video.width),r++,o=e.rows[r];const s=r-i==5;o&&2===o.length&&!s||(a=!1,n=r)}return t.push(w([l,c],i,d)),t}),[])}return"fixed"===g?e.rows.slice(0,t).map(((e,t)=>I(e,t,{isSmallItemsRow:v}))):e.rows.slice(0,t).map(((e,t)=>I(e,t)))}),[g,e.rows,t,v,w,I]),T=(({isMobile:e=!1,channelSubscribePromo:t,userAvatarUrl:n,renderedRows:a,isChannelFeed:r,channelSource:o,channelStatus:l})=>{const{isEnabled:c,position:d}=t,{isMyChannelFeed:u,isMySuiteFeed:m}=(0,Tn.v9)((e=>({isMyChannelFeed:(0,k.jA)(e),isMySuiteFeed:(0,k.tE)(e)}))),p=u||m;return(0,s.useMemo)((()=>{if(!o||!l)return a;if(!(c&&a.length>=d&&r&&l!==cn.aF.BLOCKED)||p)return a;const t=i().createElement(Io,{key:"subscriptionPromo",isMobile:e,userAvatarUrl:n,channelSource:o,channelSourceModifiedStatus:cn.Df[l]});return a.slice(0,d).concat([t],a.slice(d))}),[e,n,a,r,o,l,c,d,p])})({channelSubscribePromo:h,userAvatarUrl:b,renderedRows:P,isChannelFeed:u,channelSource:m,channelStatus:p});return i().createElement(i().Fragment,null,i().createElement(Xo,{displayedRows:P.length}),T)},el=(0,Ka.N)("feed-stub"),tl=()=>i().createElement("div",{className:el()});var nl=n(97125);const sl=()=>{const{isOpen:e,isMobile:t}=(0,Tn.v9)((e=>{const{loginPopup:t,params:n}=e,s=(null==t?void 0:t.isOpen)||!1,{isMobile:i}=n||!1;return{isOpen:s,isMobile:i}}),Tn.wU),n=(0,Yo.m)(Ea.IU),s={isOpen:e,isMobileMenu:t,close:n,shouldCloseOnEscClick:!0,scrollableContainerRef:null,withScrollbarFix:!0,withVerticalAlign:!0,viewType:"login-popup-rounded-fixed-thin"};return i().createElement(nl.u,s,i().createElement(Ma.G,{handleClose:n}))};var il=n(25203),al=n(40789);const rl="onboarding-spinner__wrapper-1S",ol="onboarding-spinner__wrapper_theme_black-KT",ll="onboarding-spinner__container-1w",cl="onboarding-spinner__wrapper_theme_portal-3K",dl="onboarding-spinner__text-1O",ul="onboarding-spinner__loader-2u",ml="onboarding-spinner__wrapper_is_mobile-1_",pl=({isLoading:e})=>{const{l10n:t}=(0,ar.$)(),n=(0,nr.dD)(),s=(0,Tn.v9)((e=>(0,k.FS)(e))),a=s===al.D.black,r=s===al.D.portal;return e?i().createElement("div",{className:ja()(rl,n&&ml,a&&ol,r&&cl)},i().createElement("div",{className:ll},i().createElement("div",{className:ul}),i().createElement("div",{className:dl,"aria-live":"polite"},t("api.v3.launcher.loading_new_pack_text")))):null};var hl=n(53445);const bl={items:new class{constructor(){this.collection=new Map}isEmpty(){return Boolean(this.collection.values().next().done)}set(e,t){const n={prev:null,next:null,value:t};if(this.isEmpty())this.collection.set("first",n);else{const e=this.collection.get("last");(0,Bt.cW)(e),n.prev=e,e.next=n}this.collection.set(e,n),this.collection.set("last",n)}get(e){return this.collection.get(e)}first(){return this.collection.get("first")}last(){return this.collection.get("last")}delete(e){const t=this.collection.get(e);if(!t)return;const{prev:n,next:s}=t;n?n.next=s:s&&this.collection.set("first",s),s?s.prev=n:n&&this.collection.set("last",n),n||s||(this.collection.delete("first"),this.collection.delete("last")),this.collection.delete(e)}},visibilityChanges$:new tr.xQ},gl=(0,s.createContext)(bl);var vl=n(21937),_l=n(10213);const fl=["xmlhttprequest","fetch"],yl=e=>e.getEntries().filter((e=>{return fl.includes(e.initiatorType)&&(t=e.name,null==(n=(0,Sa.en)(t))?void 0:n.pathname.startsWith("/api/"));var t,n})),wl=e=>{const t=(0,s.useMemo)((()=>{var e;return"undefined"!=typeof window?null==(e=window.Ya)?void 0:e.Rum:void 0}),[]);(({onFetch:e,isEnabled:t})=>{const n=(0,s.useCallback)((t=>{t.forEach((t=>{const n=(0,Sa.en)(t.name),s=null==n?void 0:n.pathname;s&&e(s,t)}))}),[e]),i=(0,s.useCallback)((e=>{if(!t)return;const s=yl(e);s&&n(s)}),[t,n]);(0,_l.B)(i,"resource")})({onFetch:(0,s.useCallback)(((n,s)=>{if(!e||!n)return;const i=encodeURIComponent(n.replace(/\//g,"_")).slice(1);t&&t.sendResTiming&&t.sendResTiming(i,s.name)}),[t,e]),isEnabled:e})};var kl=n(29649),Sl=n(49549);const El=e=>e?e.scrollTop:window.scrollY||window.pageYOffset||document.body.scrollTop||document.documentElement&&document.documentElement.scrollTop||0,Cl=e=>e?e.scrollLeft:window.scrollX||window.pageXOffset||document.body.scrollLeft||document.documentElement&&document.documentElement.scrollLeft||0;function Il({shouldDisableHook:e,target:t}){const[n,i]=(0,s.useState)(),[a,r]=(0,s.useState)(),[o,l]=(0,s.useState)(null),c=a||n,d=null!==o,u="LEFT"===o||"RIGHT"===o,m="UP"===o||"DOWN"===o,p="UP"===o,h="DOWN"===o,b="LEFT"===o,g="RIGHT"===o,v=(0,s.useCallback)((t=>{e||i(t)}),[e]);return(0,s.useEffect)((()=>{e||r(t)}),[t,e]),(0,s.useEffect)((()=>{if("undefined"!=typeof window&&!e){let e,t=El(c),n=Cl(c);const s=()=>{window.clearTimeout(e),e=window.setTimeout((()=>{l(null)}),66);const s=El(c);s>t?l("DOWN"):s<t&&l("UP"),t=s;const i=Cl(c);i>n?l("RIGHT"):i<n&&l("LEFT"),n=i};return((e,t=document)=>{t.addEventListener("scroll",e)})(s,c),()=>((e,t=document)=>t.removeEventListener("scroll",e))(s,c)}}),[c,e]),{isScrolling:d,isScrollingX:u,isScrollingY:m,isScrollingUp:p,isScrollingDown:h,isScrollingLeft:b,isScrollingRight:g,scrollDirection:o,scrollTargetRef:v}}const Pl="refresh-feed-snackbar__container-1t",Tl="refresh-feed-snackbar__container_theme_black-3v",Rl="refresh-feed-snackbar__container_theme_portal-2C",Al="refresh-feed-snackbar__container_is_mobile-3Q",xl="refresh-feed-snackbar__text-39",Ol="refresh-feed-snackbar__text_theme_black-3L",Nl="refresh-feed-snackbar__text_theme_portal-oB",Ml="refresh-feed-snackbar__avatarWrapper-2q",Ll="refresh-feed-snackbar__avatar-3z",Dl="refresh-feed-snackbar__avatar_theme_black-1z",Bl="refresh-feed-snackbar__avatar_theme_portal-38",Fl="refresh-feed-snackbar__enter-2B",Zl="refresh-feed-snackbar__enter_is_mobile-3i",Vl="refresh-feed-snackbar__leave-3f",Ul="refresh-feed-snackbar__leave_is_mobile-1h",jl=()=>{const{subscriptions:e,shouldHide:t,theme:n}=(0,Tn.v9)((e=>({subscriptions:(0,En.iY)(e),shouldHide:(0,En.sE)(e),theme:(0,k.FS)(e)})),Tn.wU),a=(0,nr.dD)(),[r,o]=(0,s.useState)(0),l=(0,kl.Z)(r),c=(0,Sl.Z)(),{l10n:u}=(0,ar.$)(),m=(0,Yo.m)(d.cV),p=(0,Yo.m)(d.pq),h=(0,Yo.m)(d.MO),b=Boolean(e.length)&&!t,g=n===al.D.black,v=n===al.D.portal,_=(e=>{switch(e){case 1:return"28px";case 2:return"46px";case 3:return"66px";default:return"4px"}})(Math.min(e.length,3)),{isScrollingUp:f,isScrollingDown:y}=Il({}),w=(0,s.useCallback)((()=>{p(!0)}),[p]),[S,E]=(0,s.useState)([]),[C,I]=(0,s.useState)(!1);return((e,t)=>{const n=(0,s.useRef)(null);(0,s.useEffect)((()=>{n.current=e}),[e]),(0,s.useEffect)((()=>{if(null!==t){const e=setInterval((function(){null!==n.current&&n.current()}),t);return()=>clearInterval(e)}}),[t])})((()=>{var e;null==(e=S[0])||e.call(S),E([]),I(!1)}),C?3e3:null),(0,s.useEffect)((()=>{o(e.length)}),[e.length]),(0,s.useEffect)((()=>{b&&y&&(E([w]),I(!0))}),[w,y,b]),(0,s.useEffect)((()=>{f&&(E([]),I(!1))}),[f]),(0,s.useEffect)((()=>{b&&r!==l&&(E([]),I(!1))}),[b,l,r]),c()?i().createElement(Er(),{component:s.Fragment,transitionName:{enter:a?Zl:Fl,leave:a?Ul:Vl},transitionEnterTimeout:300,transitionLeaveTimeout:300},b&&i().createElement("button",{className:ja()(Pl,a&&Al,g&&Tl,v&&Rl),onClick:()=>{m(),h()},type:"button"},i().createElement("span",{className:ja()(xl,g&&Ol,v&&Nl)},u("zen_subscriptions.refresh_feed_button.show_new")),i().createElement("div",{className:Ml,style:{width:_}},e.map(((e,t)=>t+1>3?null:i().createElement(co.qE,{key:e.id,src:e.logo,className:ja()(Ll,g&&Dl,v&&Bl),backgroundColor:e.logoBackgroundColor,iconSize:28,style:Object.assign({zIndex:3-t,left:18*t+"px"},false)})))))):null};let zl;!function(e){e.empty="empty",e.blocked="blocked",e.loadingError="loading_error"}(zl||(zl={}));const Hl="channel-feed-illustration__content-hs",ql="channel-feed-illustration__platformDesktop-o5",$l="channel-feed-illustration__platformMobile--o",Gl="channel-feed-illustration__image-33",Wl="channel-feed-illustration__title-2M",Yl="channel-feed-illustration__text-1p",Kl={blockedChannel:{ru:"Вы заблокировали этот канал и не видите его публикаций",_context:""},emptyChannel:{ru:"Тут пока ничего нет, но скоро будет интересно",_context:""},loadingError:{ru:"Проблемы с подключением",_context:""},errorDesctiption:{ru:"Что-то пошло не так, и нам не удалось загрузить ролики",_context:""},retryTitle:{ru:"Попробовать еще раз",_context:""},image:{ru:"Картинка",_context:""}},Xl=(0,uo.Wh)(Kl),Jl=(0,uo.bN)(Kl);var Ql=n(12836);const ec=(0,s.memo)((({channelType:e,onRetryClick:t})=>{const{lang:n}=(0,ar.$)(),s=(0,nr.dD)(),a=(0,Fn.Fg)(),r=e===zl.loadingError?100:210,o=e===zl.loadingError?100:150;return i().createElement("div",{className:ja()(Hl,{[$l]:s,[ql]:!s})},i().createElement("img",{className:Gl,src:`https://s3.dzeninfra.ru/zen/channel/illustrations/${e}_${a}.png`,alt:Jl.image(n),width:r,height:o}),i().createElement("h3",{className:Wl},e===zl.blocked&&i().createElement(Xl.blockedChannel,null),e===zl.empty&&i().createElement(Xl.emptyChannel,null),e===zl.loadingError&&i().createElement(Xl.loadingError,null)),e===zl.loadingError&&i().createElement(i().Fragment,null,i().createElement("p",{className:Yl},i().createElement(Xl.errorDesctiption,null)),i().createElement(Ql.z,{view:"default",onClick:t,"aria-label":Jl.retryTitle(n)},i().createElement(Xl.retryTitle,null))))}));var tc=n(9273);const nc="channels-list-modal-loader__container-ac",sc="channels-list-modal-loader__container_mobile-2a",ic="channels-list-modal-loader__itemMobile-Qj",ac="channels-list-modal-loader__logo-l4",rc="channels-list-modal-loader__lineMobile-1y",oc="channels-list-modal-loader__line-2g",lc="channels-list-modal-loader__innerContainer-2K",cc="channels-list-modal-loader__item-2h",dc=[...Array(10).keys()],uc=(0,s.memo)((()=>{const e=(0,nr.dD)();return i().createElement("div",{className:ja()(nc,e&&sc)},dc.map((t=>e?i().createElement("div",{key:t,className:ic},i().createElement("div",{className:ac}),i().createElement("div",{className:lc},i().createElement("div",{className:rc}),i().createElement("div",{className:rc}),i().createElement("div",{className:rc}))):i().createElement("div",{key:t,className:cc},i().createElement("div",{className:oc}),i().createElement("div",{className:oc})))))}));var mc=n(87168),pc=n(49147),hc=n(46764),bc=n(62041),gc=n(39941),vc=n(95184),_c=n(31610);const fc="channels-list-modal-item__item-1r",yc="channels-list-modal-item__link-1i",wc="channels-list-modal-item__avatar-RZ",kc="channels-list-modal-item__container-2k",Sc="channels-list-modal-item__header-3j",Ec="channels-list-modal-item__buttons-20",Cc="channels-list-modal-item__title-1r",Ic="channels-list-modal-item__description-2g",Pc="channels-list-modal-item__subsCount-6u",Tc="channels-list-modal-item__subscribeButton-3h",Rc="channels-list-modal-item__subscribeButton_pressed-3G",Ac="channels-list-modal-item__crossButton-2V",xc="channels-list-modal-item__icon-2d",Oc=(0,s.memo)((({item:e,cardType:t,loadMoreAfterLastItemShown:n,onMuteChannel:a})=>{const{l10n:r,lang:o}=(0,ar.$)(),l=(0,nr.dD)(),c=(0,Fn.tD)(),d=(0,s.useCallback)((()=>{n(e.source.id)}),[e.source.id,n]),{rootRef:u,setCarouselItemMuted:m,connectedSource:p,toggleSubscribe:h,handleOpenSourceLink:b}=(0,vc.k)({cardType:t,bulkParams:e.bulkParams,initialSource:e.source,shouldLogShowCardSource:!1,onShow:d}),g=()=>{l||null==a||a(e.source.id),m(!0)},v=()=>m(!1);if(l)return i().createElement(gc.Q,{l10n:r,theme:c,rootRef:u,source:p,toggleSubscribe:h,handleOpenSourceLink:b,handleMute:a?g:void 0,handleUnmute:a?v:void 0,isInMobileList:!0,hasLightDescription:!0});const{status:_,logo:f,logoBackgroundColor:y,feedLink:w,subscribers:k,title:S,description:E,isVerified:C,freshChannelTitle:I}=p,P=_===mc.a.SUBSCRIBED,T=r(P?"desktop.unsubscribe":"desktop.subscribe"),R=Boolean(I||k),A=I||(0,bc.Oo)({l10n:r,lang:o,count:k,format:bc.gv.SUBSCRIBERS});return i().createElement("div",{ref:u,className:fc},i().createElement(pc.P,{href:w,onClick:b,className:yc},i().createElement(co.qE,{src:f,iconSize:56,backgroundColor:y,className:wc}),i().createElement("div",{className:kc},i().createElement("div",{className:Sc},i().createElement("div",{className:Cc},S),C&&i().createElement(hc.$,{size:12})),(E||R)&&i().createElement("div",{className:Ic},R&&i().createElement("span",{className:Pc},A),E&&i().createElement("span",null,R&&" · ",E)))),i().createElement("div",{className:Ec},i().createElement("button",{className:ja()(Tc,P&&Rc),onClick:h,type:"button"},T),a&&i().createElement("button",{className:Ac,onClick:g,type:"button"},i().createElement(fr.P,{symbol:_c.Z,className:xc,width:16,height:16}))))}));var Nc=n(62552);const Mc="channels-list-modal__modal-3r",Lc="channels-list-modal__modal_mobile-2L",Dc="channels-list-modal__modalContainer-1u",Bc="channels-list-modal__modalContainer_theme_black-23",Fc="channels-list-modal__modalContainer_theme_portal-1d",Zc="channels-list-modal__list-nV",Vc="channels-list-modal__list_mobile-1u",Uc=(0,s.memo)((()=>{var e;const t=(0,nr.dD)(),n=(0,Tn.I0)(),a=(0,Fn.tD)(),{isOpen:r,moreLink:o,title:l,parentType:c,items:d,hasCrosses:u}=(0,Tn.v9)((e=>{const{channelsListModalCrosses:t}=(0,h.a)(e),{isOpen:n,moreLink:s,title:i,parentType:a,items:r}=e.channelsListModal||{};return{title:i,parentType:a,isOpen:n,moreLink:s,items:r,hasCrosses:t}}),Tn.wU),[m,p]=(0,s.useState)(!0),[b,g]=(0,s.useState)(!1),[v,_]=(0,s.useState)(null);(0,s.useEffect)((()=>_(null)),[r]),(0,s.useEffect)((()=>{d&&!o&&_({items:d})}),[d,o]),(0,s.useEffect)((()=>{o&&n((0,tc.tM)({moreLink:o,setIsLoading:p,setModal:_}))}),[n,o]);const f=(0,s.useCallback)((e=>{var t;if(!o)return;e===(null==v?void 0:v.items[(null==v?void 0:v.items.length)-1].source.id)&&null!=v&&null!=(t=v.more)&&t.link&&n((0,tc.x)({moreLink:v.more.link,setIsLoading:p,setModal:_}))}),[n,null==v?void 0:v.items,null==v||null==(e=v.more)?void 0:e.link,o]),y=(0,s.useCallback)((()=>{n((0,tc.Z_)())}),[n]);(0,s.useEffect)((()=>{0===(null==v?void 0:v.items.length)&&y()}),[y,null==v?void 0:v.items.length]);const w=(0,s.useRef)(null),k=(0,s.useRef)(null),S=(0,Ur.e)(w,k);(0,s.useEffect)((()=>{const e=k.current;if(!(t&&v&&r&&e))return;const n=()=>{e.scrollTop>0&&!b&&g(!0),0===e.scrollTop&&b&&g(!1)};return e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n)}}),[t,v,b,r]);const E=e=>{_((t=>Object.assign({},t,{items:(null==t?void 0:t.items.filter((t=>t.source.id!==e)))||[]})))};return v&&c?i().createElement(vl.g,{item:void 0,log:void 0,forceSendBulkEvents:void 0},i().createElement(nl.u,{className:ja()(Mc,t&&Lc),theme:a,isOpen:r,close:y,withVerticalAlign:!0,withFixedHeight:!0,scrollableContainerRef:w,viewType:t?"mobile-fullscreen-small-arrow":"inner-close-s-rounded",overlayClassName:t?ja()(Dc,a===al.D.black&&Bc,a===al.D.portal&&Fc):""},l&&i().createElement(Nc.x,{title:l,withBorder:b}),i().createElement("div",{className:ja()(Zc,t&&Vc),ref:S},null==v?void 0:v.items.map((e=>i().createElement(Oc,{item:e,key:e.source.id,cardType:c,loadMoreAfterLastItemShown:f,onMuteChannel:u?E:void 0}))),m&&o&&i().createElement(uc,null)))):null}));var jc=n(11328);const zc="saved-page-empty-feed__savedPageContent-3C",Hc="saved-page-empty-feed__savedButton-3n",qc="saved-page-empty-feed__savedText-1Q";var $c=n(19456);const Gc=(0,s.memo)((()=>{const{l10n:e}=(0,ar.$)();return i().createElement("div",{className:ja()(zc)},i().createElement("img",{src:"https://s3.dzeninfra.ru/zen-misc/images/empty-saved.png",alt:e("saved.empty.text"),width:225,height:150}),i().createElement("p",{className:qc},e("saved.empty.text")),i().createElement(Ir.X4,{className:Hc,viewType:$c.c.light,size:Pr.u.m,theme:al.D.white,href:"/"},e("saved.empty.button_text")))}));var Wc=n(42265),Yc=n(89499),Kc=n(10748),Xc=n(95737);const Jc="card-no-feed-data__cardWrapper-1D",Qc="card-no-feed-data__button-2J",ed="card-no-feed-data__text-19",td="card-no-feed-data__text_isMobile-1D",nd="card-no-feed-data__icon-2-",sd=({onClick:e})=>{const{l10n:t}=(0,ar.$)(),n=(0,Fn.tD)(),s=(0,nr.dD)();return i().createElement(Xc.U,{theme:n,className:Jc},i().createElement(fr.P,{symbol:n===al.D.black?Yc.Z:Wc.Z,width:140,height:140}),i().createElement("h2",{className:ja()(ed,s&&td)},t("common.data_was_not_loaded")),i().createElement("button",{className:Qc,type:"button",onClick:e},t("common.retry_load_zenlib"),i().createElement(fr.P,{symbol:Kc.Z,className:nd,width:24,height:24})))},id=(0,Ka.N)("feed"),ad="undefined"!=typeof window&&window.location.pathname===xi.IX,rd=e=>{var t,n;const{rezenFeedRedesign:s,isVideoAutoplayAfterStartZenSession:i,isMoreMarkLimitEnabled:a,playersPoolDeferUpdateAfterScroll:r,isShadowsDisabled:o,isHoverShadowsDisabled:l,isZenApiFetchRum:c,spaMetricsSubpages:d}=(0,h.a)(e),{feedLoadingProgressVisible:u}=e.iface,m=Rr(e);return Object.assign({shouldCleanCacheOnFeedback:e.params.shouldCleanCacheOnFeedback,scrollToID:e.shared.scrollToID,displayedRowsNumber:e.displayedRowsNumber,grid:(0,En.O5)(e)},(0,En.Sg)(e),{isReloading:u,rezenFeedRedesignGridType:s.gridType,isVideoAutoplayAfterStartZenSession:i,isMoreMarkLimitEnabled:a,playersPoolDeferUpdateAfterScroll:r,isShadowsDisabled:o,isHoverShadowsDisabled:l,shouldShowStub:e.iface.shouldShowFeedStubCounter>0,currentInterview:m,isLoadingNewPackAfterOnboarding:(0,il.KS)(e),isZenApiFetchRum:c,getSpaMetricsManager:(0,En.Qw)(e),spaMetricsSubpages:d,isChannelFeed:(0,k.Fr)(e),isSuiteFeed:(0,k.jY)(e),isMyChannelFeed:(0,k.jA)(e),isLivesTab:(0,Pa.Ei)(e),isMySuiteFeed:(0,k.tE)(e),suiteName:null!=(t=null==(n=e.suite)?void 0:n.name)?t:"",isShowcaseFeed:(0,k.d8)(e),isSavedFeed:(0,k.fH)(e),isSearchFeed:(0,k.vq)(e)})},od=(0,s.memo)((({setFeedListContainer:e,isInFrame:t,nativeZenApiMethods:n})=>{const{globalBus:a,privateBus:r,videoPlayersPool:o,shouldDeferEvents$:l,zenApi:c,feedId:u}=(0,Rn.vv)(),m=(0,Tn.I0)(),p=(0,s.useRef)(null),{scrollToID:b,displayedRowsNumber:g,grid:v,columnCount:_,isRedesign:f,isDesktopRedesign:y,shouldCleanCacheOnFeedback:w,rezenFeedRedesignGridType:k,isVideoAutoplayAfterStartZenSession:S,isMoreMarkLimitEnabled:E,playersPoolDeferUpdateAfterScroll:C,isHoverShadowsDisabled:I,shouldShowStub:P,isLivesTab:T,currentInterview:R,isLoadingNewPackAfterOnboarding:A,isZenApiFetchRum:x,getSpaMetricsManager:O,spaMetricsSubpages:N,isChannelFeed:M,isSuiteFeed:L,isMyChannelFeed:D,isMySuiteFeed:B,suiteName:F,isShowcaseFeed:Z,isSavedFeed:V,isSearchFeed:U}=(0,Tn.v9)(rd,Tn.wU);(({isActiveByZenSession:e,isStartedZenSession$:t,videoPlayersPool:n,playersPoolDeferUpdateAfterScroll:i})=>{const a=(0,s.useRef)(!1);(0,jr.m)((()=>t),(t=>{e&&(a.current=t,t?n.freeze():n.unfreeze())}));const r=(0,s.useCallback)((()=>{"none"===i||a.current||n.freeze(i)}),[n,i]),o=(0,s.useCallback)((()=>{"none"===i||a.current||n.unfreeze()}),[n,i]);(0,zr.a)({onStart:r,onEnd:o})})({isActiveByZenSession:S,videoPlayersPool:o,isStartedZenSession$:l||new tr.xQ,playersPoolDeferUpdateAfterScroll:C}),wl(x);const{rows:j}=v;(0,s.useEffect)((()=>{mr.K.init(N,O)}),[O,N]);const z=(0,s.useCallback)((({recommendationsChannelsLink:e,currentFeedId:t})=>{j[0]&&j[0][0]&&"recommendations_channels"===j[0][0].type||u!==t||m((0,d.gv)({isChannelPage:!0,url:e})),a.off("requestInsertRecBlock",z)}),[m,u,a,j]);(0,Qi.n)((()=>{if((0,gr.zY)(),b){const e=30;(0,gr.XR)({delta:e,direction:1,once:!0},(()=>{m((0,br.QH)(cn.HS.Normal))}))}b&&m((0,br.QH)(cn.HS.Header)),y&&a.on("requestInsertRecBlock",z)})),(0,yr.z)((()=>{y&&a.off("requestInsertRecBlock",z)})),(0,s.useEffect)((()=>{r.emit("feedChanged",v,g)}),[v,g,r]),(0,s.useEffect)((()=>{if("undefined"!=typeof window){const e=()=>{c.forceSendBulkEvents()};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}}),[c]);const H=(0,s.useCallback)((()=>m((0,d.jK)())),[m]),q=id({isDzen:Ji.fY,columnCount:_,isInFrame:t,isDesktopRedesign:y,gridType:k,isRedesign:f,isVideoSite:!1,isRedesignDesktopCardsHasShadows:Boolean(!1),isRedesignDesktopCardsHasHoverShadows:y&&!I,withoutIndent:!1}),{getRowRef:$,handleSafeClearFeed:G}=vr(),W=(0,s.useCallback)((()=>{w&&G()}),[w,G]),Y=(0,s.useMemo)((()=>({handleFeedback:W,handleSafeClearFeed:G})),[W,G]),K=(0,Ur.e)(e,p),X=i().createElement(Qo,{grid:v,displayedRowsNumber:g,getRowRef:$,nativeZenApiMethods:n}),J=(0,Wr.N)(p),Q=(0,s.useState)((()=>new tr.xQ))[0],ee=(0,s.useMemo)((()=>i().createElement(hr,{onFeedEndReach:H,updateLimit:5,withLimit:E})),[E,H]);((e,t)=>{const n=(0,Tn.I0)(),{preliminaryDraw:i}=(0,Tn.v9)(h.a),{isEnabled:a,triggerTime:r,interaval:o}=i,l=(0,s.useRef)(0),c=(0,s.useRef)(0);(0,s.useEffect)((()=>{if(!a&&r>0)return;const s=Math.min(o,r),i=new bi.X(Date.now()),u=(0,Hr.T)(i,e).subscribe((()=>{l.current=l.current+1})),m=(0,Hr.T)(i,t).subscribe((()=>{c.current=c.current+1})),p=(0,qr.R)(document,"scroll").pipe((0,Si.U)((()=>Date.now()))),h=(0,Hr.T)(i,p),b=(0,$r.F)(s).pipe((0,Si.U)((()=>Date.now()))),g=(0,Gr.aj)(b,h).subscribe((([e,s])=>{const i=c.current===l.current;e-s>r&&i&&n((0,d.he)())&&t.next()}));return()=>{g.unsubscribe(),u.unsubscribe(),m.unsubscribe()}}),[n,t,e,o,a,r])})(J,Q);const te=(()=>{const e=(0,s.useRef)(),{renderRange:t}=(0,Tn.v9)((e=>{const{virtualizationRange:t}=(0,h.a)(e);return{renderRange:t}}),Tn.wU);return e.current||(bl.visibilityChanges$.pipe((0,hl.b)(100)).subscribe((e=>{const{items:n}=bl,s=n.get(e);(0,Bt.cW)(s);const{firstVisible:i,lastVisible:a}=((e,t)=>{t(e);let n=e,s=e;for(;n.prev&&n.value.isVisible;)n=n.prev,t(n);for(;s.next&&s.next.value.isVisible;)s=s.next,t(s);return{firstVisible:n,lastVisible:s}})(s,(e=>{e.value.isVirtualized=!1,e.value.setIsVirtualized(!1)}));let r=0;((e,t)=>{let n=e;for(;n.prev;)n=n.prev,t(n)})(i,(e=>{r++,r<=t||e.value.isVisible?(e.value.isVirtualized=!1,e.value.setIsVirtualized(!1)):(e.value.isVirtualized=!0,e.value.setIsVirtualized(!0))})),r=0,((e,t)=>{let n=e;for(;n.next;)n=n.next,t(n)})(a,(e=>{r++,r<=t?(e.value.isVirtualized=!1,e.value.setIsVirtualized(!1)):(e.value.isVirtualized=!0,e.value.setIsVirtualized(!0))}))})),e.current=bl),e.current})(),ne=(0,s.useMemo)((()=>({isMyChannelFeed:D,isMySuiteFeed:B,suiteName:F,isSavedFeed:V,hasVerticalThreeDots:M||U||V})),[D,B,F,V,M,U]),se=(0,Yo.m)(d.cV),ie=!(M||Z||L||V||T||ad);return i().createElement(jc.M.Provider,{value:ne},i().createElement(_r.f.Provider,{value:Y},i().createElement(gl.Provider,{value:te},i().createElement("div",{ref:K,className:q},0===j.length?M||L?i().createElement(ec,{channelType:zl.empty}):V?i().createElement(Gc,null):i().createElement(sd,{onClick:se}):X,ie&&i().createElement(jl,null)),(({interview:e})=>{if(e)return i().createElement(Vr,null)})({interview:R}),i().createElement(sl,null),i().createElement(Uc,null),A?null:ee,P&&i().createElement(tl,null),i().createElement(pl,{isLoading:A}),i().createElement(vl.g,{item:void 0,log:void 0,forceSendBulkEvents:void 0},i().createElement(Qr,null)),i().createElement(cr,null))))}));var ld=n(80777),cd=n(72602);const dd=(0,Ka.N)("error-button-view"),ud=({theme:e="black",onClick:t})=>{const{l10n:n}=(0,ar.$)();return i().createElement("div",{className:dd({theme:e}),onClick:t},i().createElement("div",{className:dd("icon")}),i().createElement("div",{className:dd("text")},n("header.empty")))},md=(0,Ka.N)("notifier-view"),pd=({text:e,withPulsing:t,leftIcon:n,rightIcon:s,theme:a})=>i().createElement("div",{className:md({withPulsing:t,theme:a})},i().createElement("div",{className:md("content")},n,i().createElement("div",{className:md("text")},e),s));var hd=n(24575),bd=n(19670);var gd=n(22262);const vd=Vo.Fs.C,_d=Vo.F.F.C,fd=(0,Ka.N)("notifiers"),yd="ScrollOffsetEventName";class wd extends s.PureComponent{constructor(...e){return super(...e),this.state={lastButton:void 0,currentButton:void 0},this.onErrorMessageClick=()=>{const{getMore:e,hideErrorMessage:t,clientClick:n,moreButtonParams:s,shouldShowLoadNotifier:i}=this.props;n("notifiers.error"),e(Object.assign({},s,{onAfterPackInsert:e=>{null!=s&&s.insertOnTop&&(0,cd.k)(!i&&e)}})),t()},this}_addOffsetScrollEvents(){const{switchNotifiersOffsetModeTop:e,isZenOneEnabled:t}=this.props,n=(t?vd:_d)-30;(0,gr.LW)({name:yd,scroll:n,precise:!0},(({state:t})=>{e(0===t?cn.HS.Header:cn.HS.Normal)}))}_addOffsetScrollEventsForRedesign(){const{switchNotifiersOffsetModeTop:e}=this.props;(0,gr.LW)({name:yd,scroll:0,precise:!0},(()=>{e(cn.HS.Normal)}))}_removeMoreButtonScrollEvents(){(0,gr.XV)("ScrollUpEventName"),(0,gr.XV)("ScrollDownEventName"),(0,gr.Dr)(yd)}static getDerivedStateFromProps(e,t){const n=void 0;return n!==t.currentButton?{currentButton:n,lastButton:t.currentButton}:null}componentDidMount(){const{setNotifiersEnabled:e,inputBus:t}=this.props;this._addOffsetScrollEventsForRedesign(),t.on("zen-feed-show",(()=>{e(!0)})),t.on("zen-feed-hide",(()=>{e(!1)}))}componentWillUnmount(){this._removeMoreButtonScrollEvents()}componentDidUpdate(e){const{needNotifiers:t}=this.props;t!==e.needNotifiers&&(t||this._removeMoreButtonScrollEvents())}render(){const{position:e,withScrollbarFix:t,offsetModeTop:n,offsetModeBottom:s,theme:a,needNotifiers:r,wrapperComponent:o,l10n:l,safeArea:c}=this.props,{currentButton:d,lastButton:u}=this.state,m={[cn.j3.Error]:i().createElement(ud,{theme:a,onClick:this.onErrorMessageClick}),[cn.j3.Load]:i().createElement(pd,{theme:a,text:l("common.loading"),withPulsing:!0})},p=o,h=Object.keys(m).map((t=>i().createElement(p,{key:t,isDisabled:!r,isVisible:d===t,isSwitchAnimation:d===t?Boolean(u):Boolean(d&&u===t),position:e,offsetModeTop:n,offsetModeBottom:s,safeArea:c},m[t])));return t?i().createElement(ld.i,{className:fd()},h):h}}wd.defaultProps={theme:cn.dH.Black,position:cn.nh.Top,offsetModeTop:cn.HS.Normal,offsetModeBottom:cn.Ft.Normal,moreButtonResponsiveness:30,needNotifiers:!0,isAppButtonEnabled:!1,needInfoButton:!1};const kd={getMore:d.JJ,showLoadButton:br.bM,hideLoadButton:br.JP,switchNotifiersOffsetModeTop:br.QH,hideErrorMessage:br._X,setNotifiersEnabled:br.$2},Sd=(e=>{const t=(0,s.forwardRef)(((t,n)=>{const{clientClick:s}=(0,gd.n)();return i().createElement(e,(0,bd.Z)({},t,{ref:n,clientClick:s}))}));return t.displayName=((e,t)=>{return`${e}(${n=t,n.displayName||n.name||"Component"})`;var n})("WithErrorHoc",e),t})((0,Rn.L7)((({inputBus:e})=>({inputBus:e})))((0,Tn.$j)((()=>(e,{forcedTheme:t})=>{const n=(0,k.oy)(e),{notifiersOffsetModeTop:s,currentNotifierButton:i,moreButtonParams:a}=e.notifiers,r=(0,k.Z4)(e),{shouldRefreshFeed:o,notifiers:l}=(0,h.a)(e),c=(0,k.Bw)(e),d=t||l.theme;return{shouldShowLoadNotifier:Boolean(!0),theme:d,offsetModeTop:s,offsetModeBottom:r,needNotifiers:c,currentButton:i,moreButtonParams:a,isZenOneEnabled:n,shouldRefreshFeed:o}}),kd)((0,hd.Z)(wd)))),Ed=(0,Ka.N)("notifier-wrapper2"),Cd=!!ir.Z.hasSupport&&{passive:!0},Id=({isVisible:e,isSwitchAnimation:t,safeArea:n,children:a})=>{const r=(0,s.useRef)(null),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(!1),m=(0,s.useRef)((()=>{})),p=(0,s.useRef)((()=>{}));return(0,s.useEffect)((()=>{if(r.current&&(r.current.style.marginBottom=`-${r.current.clientHeight}px`,!(()=>{const e=document.createElement("div");return["","-webkit-","-moz-","-ms-"].some((t=>{try{e.style.position=`${t}sticky`}catch(e){}return""!==e.style.position}))})())){const[e,t]=(e=>{const t=e.parentNode;if(null===t||!(t instanceof HTMLElement))return console.error("Failed to init sticky polyfill"),[()=>{},()=>{}];const n=getComputedStyle(e),s=n.transform&&n.transform.match(/matrix\(.*,\s*(-?\d+)\)/)||null,i=s&&parseInt(s[1],10)||0,a=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=a.left-r.left,l=()=>{e.style.top="";const n=getComputedStyle(e).top,s=n?parseInt(n,10):0,r=t.getBoundingClientRect().left+o;window.pageYOffset<=a.top-(s+i)?(e.style.position="absolute",e.style.left=`${o}px`,e.style.top="0px"):(e.style.position="fixed",e.style.left=`${r}px`,e.style.width=`${a.width}px`,e.style.top=n)};l();const c=()=>{requestAnimationFrame(l)};return[()=>{window.addEventListener("scroll",c,Cd),window.addEventListener("resize",l,Cd),window.addEventListener("orientationchange",l,Cd)},()=>{window.removeEventListener("scroll",c),window.removeEventListener("resize",l),window.removeEventListener("orientationchange",l)}]})(r.current);return u.current=!0,m.current=e,p.current=t,t}}),[]),(0,s.useEffect)((()=>{o&&(e&&!c&&d(!0),u.current&&(e?m.current():p.current()))}),[o,e,c]),(0,s.useEffect)((()=>{l(!0)}),[]),i().createElement("div",{ref:r,className:Ed({isShow:c&&e,isHide:c&&!e,isSwitchAnimation:t,isMounted:o}),style:{paddingBottom:n}},a)},Pd=()=>i().createElement(i().Fragment,null,i().createElement(Sd,{forcedTheme:cn.dH.White,wrapperComponent:Id}),i().createElement(od,null)),Td="dzen-header-desktop__header-ST",Rd="dzen-header-desktop__rightItems-3y",Ad="dzen-header-desktop__isSearchUnfolded-1k",xd="dzen-header-desktop__content-39",Od="dzen-header-desktop__logoContainer-1Y",Nd="dzen-header-desktop__logo-1L",Md="dzen-header-desktop__logoWithText-1_",Ld="dzen-header-desktop__logoVisible-RG",Dd="dzen-header-desktop__profileMenu-3q",Bd="dzen-header-desktop__profileMenuButton-3D",Fd="dzen-header-desktop__isUnauthorized-2e",Zd="dzen-header-desktop__leftItems-2n",Vd="dzen-header-desktop__search-fO",Ud="dzen-header-desktop__searchVisible-2g",jd="dzen-header-desktop__bellButtonContainer-1P",zd="dzen-header-desktop__discoverLinkContainer-Ln",Hd="dzen-header-desktop__discoverLinkContainer_on_top-1A",qd="dzen-header-desktop__discoverLink-1m",$d="dzen-header-desktop__magnifierSymbol-7l";var Gd=n(54500),Wd=n(43738),Yd=n(61557);var Kd=n(12437),Xd=n(77933),Jd=n(10475),Qd=n(57227),eu=n(67726),tu=n(81919),nu=n(98014),su=n(25013);const iu=(e,t)=>{const n=(0,s.useRef)(t);(0,Wd.Z)((()=>{n.current=t}),[t]),(0,s.useEffect)((()=>{const t=e=>{13===(e.which||e.keyCode)&&n.current(e)};return e?document.addEventListener("keydown",t,!0):document.removeEventListener("keydown",t,!0),()=>document.removeEventListener("keydown",t,!0)}),[e])};var au=n(6810);const ru=(0,Ka.N)("suggest-item-container-desktop"),ou=({host:e,link:t,target:n="_blank",onClick:a,isActive:r,isHoverable:o,children:l})=>{const{isHovered:c,onMouseEnter:d,onMouseLeave:u}=(0,su.C)(),m=(0,s.useRef)(null);return iu(r,(e=>{a&&a(),(0,me.HD)(t)&&(e.preventDefault(),m.current&&m.current.focus(),(0,au.M)(t,n,{noOpener:!0}))})),i().createElement(nu._5,{rootRef:m,className:ru({isHovered:c&&o,isActive:r}),href:t,host:e,target:n,onClick:a,onMouseEnter:d,onMouseLeave:u},l({isHovered:c&&o}))},lu=(0,s.memo)((({log:e,host:t,isActive:n,isHoverable:a,onOpenItem:r,item:o})=>{const[l,c]=(0,Do.O)(),[d]=(0,s.useState)((()=>(0,tu.JL)(o,e)));(0,eu.D)({isVisible$:c,onShow:d.show});const u=(0,s.useCallback)((()=>{d.click(),r()}),[d,r]);return"interest"===o.type?i().createElement(ou,{host:t,isActive:n,isHoverable:a,link:o.feedLink,onClick:u},(({isHovered:e})=>i().createElement(Qd.D,{type:"interest",size:"m",rootRef:l,title:o.title,subtitle:o.subtitle,isActive:n||e}))):"publisher"===o.type||"domain"===o.type||"user"===o.type?i().createElement(ou,{host:t,isActive:n,isHoverable:a,link:o.feedLink,onClick:u},(()=>i().createElement(Qd.D,{type:"publisher",size:"m",rootRef:l,title:o.title,isVerified:o.isVerified,logoSrc:o.logo,logoBackgroundColor:o.logoBackgroundColor}))):(console.error(`unknown suggest-item with type ${o.type}`),null)})),cu={allResults:{ru:"Все результаты",en:"All results"}},du=(0,uo.Wh)(cu),uu=((0,uo.bN)(cu),(0,Ka.N)("suggest-all-results-item-desktop")),mu=(0,s.memo)((({serpLink:e,host:t,onOpenItem:n,isActive:s,isHoverable:a})=>i().createElement(ou,{host:t,link:e,target:"_self",onClick:n,isActive:s,isHoverable:a},(({isHovered:e})=>i().createElement("div",{className:uu({isHovered:e,isActive:s})},i().createElement("div",{className:uu("title")},i().createElement(du.allResults,null))))))),pu=e=>({interest:e.filter((({type:e})=>"interest"===e)).slice(0,3),channel:e.filter((({type:e})=>["publisher","domain"].includes(e))).slice(0,3),user:e.filter((({type:e})=>"user"===e)).slice(0,3)}),hu=e=>bu.reduce(((t,n)=>[...t,...e[n]]),[]),bu=["user","channel","interest"],gu={id:"SHOW_ALL_RESULTS_ITEM_ID"},vu=(0,Ka.N)("suggest-desktop"),_u=(0,s.memo)((({items:e,serpLink:t,onClose:n,l10n:a,host:r,log:o,isInputFocused:l})=>{const[c,d]=(0,s.useState)((()=>pu(e))),[u,m]=(0,s.useState)((()=>[...hu(c),gu]));(0,Wd.Z)((()=>{const t=pu(e);d(t),m([...hu(t),gu])}),[e]);const[p,h]=(e=>{const[t,n]=(0,s.useState)((()=>({index:0,widthWithNull:e.length+1})));return(0,Wd.Z)((()=>{n({index:0,widthWithNull:e.length+1})}),[e]),(0,s.useEffect)((()=>{const e=e=>{const t=e.which?e.which:e.keyCode;38===t&&(n((e=>Object.assign({},e,{index:(e.index+e.widthWithNull-1)%e.widthWithNull}))),e.preventDefault()),40===t&&(n((e=>Object.assign({},e,{index:(e.index+1)%e.widthWithNull}))),e.preventDefault())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[]),[0===t.index?null:e[t.index-1],(0,s.useCallback)((()=>n((e=>Object.assign({},e,{index:0})))),[])]})(u);(0,Wd.Z)((()=>{h()}),[h,u,l]),iu(null===p&&l,(()=>{n(),(0,au.M)(t,"_self")}));const b=!p;return i().createElement("div",{className:vu(),onMouseMove:h},bu.map(((e,t)=>c[e].length>0?i().createElement(s.Fragment,{key:e},i().createElement("div",{className:vu("group-title",{isFirst:0===t})},(e=>({interest:a("profile.interests-title"),channel:a("preferences.channels"),user:a("preferences.users")}[e]))(e)),c[e].map((e=>i().createElement(lu,{key:e.id,onOpenItem:n,log:o,host:r,isActive:e.id===(null==p?void 0:p.id)&&l,isHoverable:b,item:e})))):null)),i().createElement(mu,{onOpenItem:n,serpLink:t,host:r,isActive:(null==p?void 0:p.id)===gu.id&&l,isHoverable:b}))}));var fu=n(84113),yu=n(13616);const wu={placeholder:{ru:"найти в дзене",_context:""},placeholderVideo:{ru:"найти видео в дзене",_context:""},hintVideo:{ru:" — видео в дзене",_context:""}},ku=((0,uo.Wh)(wu),(0,uo.bN)(wu)),Su={updateSuggest:Xd.Wm},Eu=(0,Tn.$j)((e=>({searchSources:(0,Jd._V)(e)||[],locationSearch:e.router.location.search})),Su)((0,Kd.z)({searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})((({searchAsyncProps:e,searchSources:t,locationSearch:n,onExpand:a,className:r})=>{const o=(0,s.useRef)(null),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),{isFocused:m,onFocus:p,onBlur:h}=(()=>{const[e,t]=(0,s.useState)(!1);return{isFocused:e,onFocus:(0,s.useCallback)((()=>t(!0)),[]),onBlur:(0,s.useCallback)((()=>t(!1)),[])}})(),{l10n:b}=(0,ar.$)();(0,Wd.Z)((()=>{var e;(a(),d)&&(null==o||null==(e=o.current)||e.focus())}),[d,a]);const g=(0,nu.su)(),v=(0,fu.Z)(),{types:_,referrer_page_type:f}=(0,yu.UO)(),y=(0,uo.bU)(),w=(0,Tn.v9)((e=>(0,k.a_)(e,_)));(0,s.useEffect)((()=>{m&&t&&t.length>0&&u(!0)}),[m,t]);const S=(0,s.useRef)();(0,s.useEffect)((()=>{m&&S.current!==l&&(S.current=l,e.fetch(l))}),[l,m,e]);const E=(0,s.useCallback)((()=>c("")),[]),C=(0,s.useCallback)((()=>u(!1)),[]),I=(0,s.useCallback)((e=>{const t=e.target.value;""!==t&&""===t.trim()||c(e.target.value)}),[]),P=d&&t&&t.length>0,T=((e,t,n,s)=>{const i=(0,Pe.rz)(t);return null!=i&&i.searchfocus&&delete i.searchfocus,`${xi.IX}${(0,Pe.I$)(Object.assign({},i,{query:e,types:n,referrer_page_type:s}))}`})(l,n,w,f),R=(0,s.useCallback)((()=>{(0,au.M)(T,"_self")}),[T]);iu(!P&&m&&!!l,R);const A=w===ya.pr?ku.placeholderVideo(y):ku.placeholder(y);return i().createElement("div",{className:r},i().createElement(Yd.E,{size:"xl",submitButtonText:b("search.submit_text"),clearButtonText:b("publishers.editor.share_draft.field_recipients_button"),value:l,placeholder:A,isUnfolded:d,onShowAll:R,onChange:I,onClear:E,onClose:C,onFocus:p,onBlur:h,isCollapsible:!0,isCollapsed:!d,onExpand:()=>u(!0),isRedesignIcon:!0,isDzen:!0,searchButtonText:"Поиск в Дзене",ref:o},P&&t?i().createElement(_u,{serpLink:T,isInputFocused:m,host:g,log:v,l10n:b,items:t,onClose:C}):null))})));var Cu=n(97212),Iu=n(19313),Pu=n(90861),Tu=n(21555),Ru=n(23242),Au=n.n(Ru),xu=n(87240),Ou=n.n(xu);const Nu=new(Au())({id:"ringing_bell_f8ff--react",use:"ringing_bell_f8ff--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ringing_bell_f8ff--react"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.48 1.86c-.6-.22-1.27.06-1.55.62a6.79 6.79 0 0 1 2.34.85c.14-.61-.2-1.25-.8-1.47Zm-3.01.24c-.04.1-.05.2-.05.3A6.75 6.75 0 0 0 7.5 6.83l-.97 2.66a5.43 5.43 0 0 1-2.28 2.78l-1.1.68H3.1l-.73.47c-.19.13-.4.3-.55.53-.43.68-.34 1.56.21 2.14.2.2.43.32.64.41.22.1.5.2.81.31l.03.01 4.25 1.55a4.75 4.75 0 0 0 8.53 3.1l.49.18.02.01.82.29c.22.06.49.12.76.1.8-.1 1.43-.72 1.54-1.51.03-.27-.02-.54-.08-.76-.06-.22-.16-.5-.27-.83v-.02l-.42-1.23a5.43 5.43 0 0 1 .04-3.6l.97-2.65c.95-2.61.2-5.42-1.7-7.21a.75.75 0 0 0 .16-.26 2.75 2.75 0 1 0-5.16-1.88Zm1.32 18.82-5.5-2a3.25 3.25 0 0 0 5.5 2Zm.84-16.72A5.25 5.25 0 0 0 8.9 7.34L7.93 10a6.93 6.93 0 0 1-2.91 3.55l-1.1.68a14.55 14.55 0 0 0-.83.53c-.05.1-.04.2.03.29l.16.08.75.28 13.27 4.83a14.44 14.44 0 0 0 .93.3c.1 0 .19-.09.2-.19 0-.01 0-.07-.03-.18l-.24-.76-.42-1.23c-.5-1.49-.48-3.1.05-4.59l.97-2.66c1-2.72-.41-5.74-3.13-6.73Z" fill="currentColor" /></symbol>'});function Mu(e){return Ou().add(Nu),i().createElement("svg",(0,bd.Z)({viewBox:"0 0 24 24"},e),i().createElement("use",{xlinkHref:"#ringing_bell_f8ff--react"}))}Mu.displayName="SpriteSymbolComponent(ringing_bell_f8ff--react)";const Lu=new(Au())({id:"bell2_0efc--react",use:"bell2_0efc--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="bell2_0efc--react"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 1.875c-.522 0-.962.356-1.088.839a6.661 6.661 0 0 1 2.176 0A1.126 1.126 0 0 0 12 1.875ZM9.125 3c0 .091.014.18.04.262a6.61 6.61 0 0 0-3.767 6.272l.087 1.91a6.685 6.685 0 0 1-1.709 4.775l-.94 1.045-.027.03c-.083.091-.174.191-.234.276a1.775 1.775 0 0 0 1.244 2.793c.104.012.238.012.362.012h3.197c.758 1.773 2.553 3 4.622 3 2.07 0 3.863-1.227 4.622-3h3.197c.124 0 .259 0 .362-.012a1.775 1.775 0 0 0 1.244-2.793c-.06-.085-.15-.184-.233-.276l-.027-.03-.94-1.045a6.685 6.685 0 0 1-1.71-4.776l.087-1.91a6.61 6.61 0 0 0-3.767-6.271.875.875 0 0 0 .04-.262 2.875 2.875 0 0 0-5.75 0Zm5.48 17.375h-5.21A3.293 3.293 0 0 0 12 21.625a3.294 3.294 0 0 0 2.604-1.25ZM12 4.375a4.858 4.858 0 0 0-4.853 5.08l.086 1.909a8.435 8.435 0 0 1-2.156 6.025l-.941 1.046a13.8 13.8 0 0 0-.121.135l-.018.021-.002.004v.001c0 .002 0 .007.003.014s.007.011.008.012h.002l.001.001h.002l.028.001.182.001h15.74l.028-.001.003-.001.002-.001a.031.031 0 0 0 .008-.012.03.03 0 0 0 .003-.014v-.001l-.002-.004-.018-.02c-.026-.031-.063-.072-.121-.136l-.94-1.046a8.435 8.435 0 0 1-2.157-6.025l.087-1.91A4.858 4.858 0 0 0 12 4.375Z" /></symbol>'});function Du(e){return Ou().add(Lu),i().createElement("svg",(0,bd.Z)({viewBox:"0 0 24 24"},e),i().createElement("use",{xlinkHref:"#bell2_0efc--react"}))}Du.displayName="SpriteSymbolComponent(bell2_0efc--react)";var Bu=n(6792);const Fu="bell-button__bellNotificationsContainer-2c",Zu="bell-button__bellButton-1o",Vu="bell-button__bellButtonIcon-1H",Uu="bell-button__bellButtonCounter-KK",ju=({count:e})=>i().createElement(Bu.x,{typography:"text-10-12",className:Uu},e<=99?e:"99+");var zu=n(16080),Hu=n(7689),qu=n(83642);let $u;!function(e){e.COMMENT_NEW="comment_new",e.COMMENT_REPLY="comment_reply",e.COMMENT_LIKE="comment_like",e.COMMENT_DISLIKE="comment_dislike",e.PUB_LIKE="pub_like",e.PUBLISHER_SUBSCRIPTION="publisher_subscription",e.MENTION="mention",e.REPOST="repost"}($u||($u={}));const Gu=e=>Object.values($u).includes(e),Wu=Hu.Ry({name:Hu.wY(Hu.Z_()),icon:Hu.wY(Hu.Z_()),publicId:Hu.wY(Hu.Z_()),action:Hu.Ry({url:Hu.wY(Hu.Z_()),description:Hu.wY(Hu.Z_()),timestamp:Hu.Rx()})}),Yu=Hu.Ry({recipientUid:Hu.Z_(),targetType:Hu.Z_(),targetId:Hu.Z_(),targetIcon:Hu.wY(Hu.Z_()),targetUrl:Hu.wY(Hu.Z_()),targetDescription:Hu.wY(Hu.Z_()),actorsCount:Hu.Rx(),lastActors:Hu.IX(Wu),lastActionTs:Hu.wY(Hu.Rx())}),Ku=Hu.Ry({take:Hu.Rx(),skip:Hu.Rx(),skipBefore:Hu.wY(Hu.Rx())}),Xu=Hu.jV(Ku,Hu.Ry({notifications:Hu.IX(Yu),since:Hu.wY(Hu.Rx())})),Ju=(0,qu.l)({params:Ku,res:Xu,req:()=>"/api/bell/notifications"}),Qu=(0,qu.l)({res:Hu.wY(Hu.FD()),params:Hu.Rx(),req:e=>({method:"POST",url:"/api/bell/notifications/seen-until",body:JSON.stringify({seenUntil:e})})}),em=(0,qu.l)({res:Hu.Ry({userId:Hu.Z_(),since:Hu.wY(Hu.Rx()),count:Hu.Rx()}),params:Hu.wY(Hu.FD()),req:()=>({url:"/api/bell/notifications/count"})});var tm=n(51838),nm=n.n(tm),sm=n(80884);const im="bell-popup__popupContent-33",am="bell-popup__popupTitle-2c",rm=({visible:e,onClose:t,title:n,children:s,anchor:a})=>i().createElement(sm.G,{hasCloseButton:!0,direction:"bottom-end",scope:"inplace",target:"anchor",anchor:a,onClick:e=>e.stopPropagation(),visible:e,onClose:t,keepMounted:!1},i().createElement("div",{className:im},i().createElement(Bu.x,{className:am,typography:"headline-20-24",weight:"bold"},n),s)),om={notifications:{ru:"Уведомления"},openNotification:{ru:"Открыть уведомления",_context:""},closeNotification:{ru:"Закрыть уведомления",_context:""}},lm=(0,uo.Wh)(om),cm=(0,uo.bN)(om);var dm=n(47592),um=n(66942);const mm={moreThanTwoActors:{ru:" {actor1}, {actor2} и ещё {moreCount}",_context:"",_remoteKey:"moreThanTwoActors"},twoActors:{ru:"{actor1} и {actor2}",_context:"",_remoteKey:"twoActors"}},pm=(0,uo.Wh)(mm),hm=((0,uo.bN)(mm),"bell-notification-item__notification-17"),bm="bell-notification-item__actorAvatarSingle-2Q",gm="bell-notification-item__actorAvatarDouble-3f",vm="bell-notification-item__notificationTextContent-1F",_m="bell-notification-item__publicationImage-cm",fm="bell-notification-item__date-1s",ym="bell-notification-item__doubleAvatarContainer-3e",wm="bell-notification-item__notificationActorsText-3y",km="bell-notification-item__notificationText-1G";var Sm=n(65602);const Em=({avatars:e})=>i().createElement("div",{className:ym},e.map(((e,t)=>"string"==typeof e?i().createElement("div",{key:t,className:gm,style:{backgroundImage:`url(${e}`}}):e))),Cm="repost-notification__shareIcon-3J",Im="repost-notification__shareIconSvg-uX",Pm=new(Au())({id:"share_icon_filled_ad67--react",use:"share_icon_filled_ad67--react-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="share_icon_filled_ad67--react">\n    <path d="m14.85 8.8-5.69 4.5c-.6.48-.9.72-1.16.72a.73.73 0 0 1-.57-.28c-.16-.2-.16-.58-.16-1.35v-1.01c0-.2 0-.3-.04-.38a.4.4 0 0 0-.18-.16c-.1-.04-.18-.03-.36 0-1.64.21-3.39 1.28-4.69 2.25-.62.47-.94.7-1.22.68a.77.77 0 0 1-.57-.37c-.13-.25-.06-.57.1-1.2a9.47 9.47 0 0 1 6.54-7.1.95.95 0 0 0 .3-.11.35.35 0 0 0 .1-.15c.02-.06.02-.14.02-.3V3.38c0-.77 0-1.15.16-1.35A.73.73 0 0 1 8 1.76c.25 0 .56.23 1.16.71l5.69 4.5c.4.32.59.47.66.66.06.17.06.35 0 .51-.07.2-.27.35-.66.66Z" />\n</symbol>'});function Tm(e){return Ou().add(Pm),i().createElement("svg",(0,bd.Z)({viewBox:"0 0 16 16"},e),i().createElement("use",{xlinkHref:"#share_icon_filled_ad67--react"}))}Tm.displayName="SpriteSymbolComponent(share_icon_filled_ad67--react)";const Rm={commentNewSettings:{ru:"Новые комментарии к публикациям",_context:""},new:{ru:"новые",_context:""},commentNew:{ru:"комментирует:",_context:""},commentNewPlural:{ru:"прокомментировали ваш пост",_context:""},commentReplySettings:{ru:"Ответы на ваши комментарии",_context:""},commentReplySettingsShort:{ru:"ответы",_context:""},commentReply:{ru:"ответил(-а) вам:",_context:""},commentReplyPlural:{ru:"ответили вам",_context:""},commentLikeSettings:{ru:"Лайки комментариев",_context:""},likes:{ru:"лайки",_context:""},commentLike:{ru:"поставил(-а) лайк вашему комментарию",_context:""},commentLikePlural:{ru:"поставили лайк вашему комментарию",_context:""},commentDislikeSettings:{ru:"Дизлайки комментариев",_context:""},commentDislikeSettingsShort:{ru:"дизлайки",_context:""},commentDislike:{ru:"поставил(-а) дизлайк вашему комментарию",_context:""},commentDislikePlural:{ru:"поставили дизлайк вашему комментарию",_context:""},publicationLikeSettings:{ru:"Лайки на публикации",_context:""},publicationLike:{ru:"поставил(-а) лайк вашей публикации",_context:""},publicationLikePlural:{ru:"поставили лайк вашей публикации",_context:""},subscriptionSettings:{ru:"Новые подписчики",_context:""},subscription:{ru:"подписался(-ась) на вас",_context:""},subscriptionPlural:{ru:"подписались на вас",_context:""},mentionSettings:{ru:"Вас отметили в публикации",_context:""},mentionSettingsShort:{ru:"отметки",_context:""},mention:{ru:"отметил(-а) вас в своей публикации",_context:""},mentionPlural:{ru:"отметили вас в своих публикациях",_context:""},repostSettings:{ru:"Репосты ваших публикаций",_context:""},repostSettingsShort:{ru:"репосты",_context:""},repost:{ru:"поделился(-ась) вашей публикацией",_context:""},repostPlural:{ru:"поделились вашей публикацией",_context:""},sbscr:{ru:"Подписки и подписчики",_context:""},publications:{ru:"Публикации",_context:""},comments:{ru:"Комментарии",_context:""},recommendations:{ru:"Рекомендации",_context:""},fromDzen:{ru:"От Дзена",_context:""},all:{ru:"все",_context:""},nothing:{ru:"выключено",_context:""},errorText:{ru:"Не удалось сохранить настройки",_context:""}},Am=(0,uo.Wh)(Rm),xm=(0,uo.bN)(Rm);let Om;!function(e){e.SBSCR="sbscr",e.PUBLICATIONS="publications",e.COMMENTS="comments",e.RECOMMENDATIONS="recommendations",e.FROM_DZEN="from_dzen"}(Om||(Om={}));const Nm={[$u.COMMENT_NEW]:{settingsTitle:i().createElement(Am.commentNewSettings,null),settingsTitleShort:xm.new,group:Om.COMMENTS,one:i().createElement(Am.commentNew,null),many:i().createElement(Am.commentNewPlural,null),needShowSnippet:!0},[$u.COMMENT_REPLY]:{settingsTitle:i().createElement(Am.commentReplySettings,null),settingsTitleShort:xm.commentReplySettingsShort,group:Om.COMMENTS,one:i().createElement(Am.commentReply,null),many:i().createElement(Am.commentReplyPlural,null),needShowSnippet:!0},[$u.COMMENT_LIKE]:{settingsTitle:i().createElement(Am.commentLikeSettings,null),settingsTitleShort:xm.likes,group:Om.COMMENTS,one:i().createElement(Am.commentLike,null),many:i().createElement(Am.commentLikePlural,null)},[$u.COMMENT_DISLIKE]:{settingsTitle:i().createElement(Am.commentDislikeSettings,null),settingsTitleShort:xm.commentDislikeSettingsShort,group:Om.COMMENTS,one:i().createElement(Am.commentDislike,null),many:i().createElement(Am.commentDislikePlural,null)},[$u.PUB_LIKE]:{settingsTitle:i().createElement(Am.publicationLikeSettings,null),settingsTitleShort:xm.likes,group:Om.PUBLICATIONS,one:i().createElement(Am.publicationLike,null),many:i().createElement(Am.publicationLikePlural,null)},[$u.PUBLISHER_SUBSCRIPTION]:{settingsTitle:i().createElement(Am.subscriptionSettings,null),settingsTitleShort:xm.new,group:Om.SBSCR,one:i().createElement(Am.subscription,null),many:i().createElement(Am.subscriptionPlural,null)},[$u.MENTION]:{settingsTitle:i().createElement(Am.mentionSettings,null),settingsTitleShort:xm.mentionSettingsShort,group:Om.PUBLICATIONS,one:i().createElement(Am.mention,null),many:i().createElement(Am.mentionPlural,null)},[$u.REPOST]:{settingsTitle:i().createElement(Am.repostSettings,null),settingsTitleShort:xm.repostSettingsShort,group:Om.PUBLICATIONS,one:i().createElement(Am.repost,null),many:i().createElement(Am.repostPlural,null),component:({notification:e})=>{const{targetIcon:t,targetType:n,targetUrl:s,lastActors:a}=e,[r,o]=a;return i().createElement(Dm,{targetUrl:s},o?i().createElement(Lm,{lastActors:a}):r.icon&&i().createElement(Em,{avatars:[r.icon,i().createElement("div",{key:`shareIcon_${r.publicId}`,className:nm()(gm,Cm)},i().createElement(Tm,{className:Im}))]}),i().createElement(Mm,(0,bd.Z)({},e,{targetType:n})),i().createElement(Bm,{targetIcon:t}))}}},Mm=(Om.SBSCR,Am.sbscr,$u.PUBLISHER_SUBSCRIPTION,Om.PUBLICATIONS,Am.publications,$u.PUB_LIKE,$u.MENTION,$u.REPOST,Om.COMMENTS,Am.comments,$u.COMMENT_NEW,$u.COMMENT_REPLY,$u.COMMENT_LIKE,$u.COMMENT_DISLIKE,Om.RECOMMENDATIONS,Am.recommendations,Om.FROM_DZEN,Am.fromDzen,({targetIcon:e,targetType:t,targetDescription:n,lastActors:[s,a],actorsCount:r})=>{const{action:{timestamp:o},name:l}=s,c=!!a,d=c?Math.max(r-2,0):0,u=Nm[t];return i().createElement("span",{className:vm},i().createElement("span",{className:wm},c?c&&d?i().createElement(pm.moreThanTwoActors,{actor1:l,actor2:a.name,moreCount:d}):i().createElement(pm.twoActors,{actor1:l,actor2:a.name}):l," "),i().createElement("span",{className:km}," ",u[c?"many":"one"]),!c&&n&&u.needShowSnippet&&i().createElement("span",{className:km},` ${(0,um.Xz)(n,e?70:90)}`),i().createElement("span",{className:fm}," ",(0,Sm.sS)(o)))}),Lm=({lastActors:[e,t]})=>null!=e&&e.icon?null!=t&&t.icon?i().createElement(Em,{avatars:[e.icon,t.icon]}):i().createElement("div",{className:bm,style:{backgroundImage:`url(${e.icon})`}}):null,Dm=({targetUrl:e,children:t})=>i().createElement("a",{href:e,target:"_blank",rel:"noreferrer",className:hm},t),Bm=({targetIcon:e})=>e?i().createElement("div",{className:_m,style:{backgroundImage:`url(${e})`}}):null,Fm=({notification:e})=>{var t;const{targetIcon:n,targetType:s,targetUrl:a,lastActors:r}=e,{name:o}=r[0];if(!o||!Gu(s))return null;const l=null==(t=Nm[s])?void 0:t.component;return l?i().createElement(l,{notification:Object.assign({},e,{targetType:s})}):i().createElement(Dm,{targetUrl:a},i().createElement(Lm,{lastActors:r}),i().createElement(Mm,(0,bd.Z)({},e,{targetType:s})),i().createElement(Bm,{targetIcon:n}))};var Zm=n(38150),Vm=n.n(Zm),Um=n(64770);const jm=[];var zm=n(6055),Hm=n(80618),qm=n(54998);const $m={stub:{ru:"У вас пока нет уведомлений",_context:"",_remoteKey:"stub"},new:{ru:"Новое",_context:"",_remoteKey:"new"},today:{ru:"Сегодня",_context:"",_remoteKey:"today"},thisWeek:{ru:"На этой неделе",_context:"",_remoteKey:"thisWeek"},thisMonth:{ru:"В этом месяце",_context:"",_remoteKey:"thisMonth"},earlier:{ru:"Ранее",_context:"",_remoteKey:"earlier"}},Gm=(0,uo.Wh)($m),Wm=((0,uo.bN)($m),({targetId:e,recipientUid:t,targetType:n,lastActionTs:s})=>`notification-${[t,e,n,s].join("-")}`),Ym=({ts:e})=>`bell-popup-group-divider-${e}`;var Km=n(28539),Xm=n(12144);const Jm="bell-notifications-list__scrollableList-2R",Qm="bell-notifications-list__scrollableListMobile-32",ep="bell-notifications-list__stubText-3P",tp="bell-notifications-list__dateDividerText-n7",np="bell-notifications-list__spinner-2h",sp=({visible:e})=>{const t=(0,nr.dD)(),{notifications:n,since:a,refetch:r,loading:o,loadingMore:l,error:c,canFetchMore:d,setScrollableElement:u}=((e,t={},n)=>{var i,a;const[r,o]=(0,s.useState)(!1),l=null!=(i=t.take)?i:30,c=null!=(a=t.skip)?a:0,d=(0,Li.JC)(Qu),u=(0,Li.aM)(Ju,e?Object.assign({},t,{take:l,skip:c}):null,Object.assign({onFetched:e=>{var t,n;const s=null==(t=e.notifications[0])||null==(n=t.lastActors[0])?void 0:n.action.timestamp,i=(null==e?void 0:e.since)||Date.now();s&&s!==i&&d(s),o(e.notifications.length===l)},manualLoadingHandling:!0,manualErrorHandling:!0},n)),[m,{loading:p,refetch:h,error:b}]=u,[g,{loadingMore:v,error:_}]=(0,Li.Wd)(Ju,u,((e,t)=>{o(t.notifications.length===l),e.notifications.push(...t.notifications)})),f=(null==m?void 0:m.notifications)||jm,y=(0,Um.P)({onScrollToBottom:()=>{var e;return g({skip:f.length,skipBefore:null==(e=Vm()(f))?void 0:e.lastActionTs})},needHandleScroll:Boolean(f.length&&!v&&r)});return{notifications:(0,s.useMemo)((()=>f.filter((({targetType:e})=>Gu(e)))),[f]),since:null==m?void 0:m.since,setScrollableElement:y,loading:p,loadingMore:v,refetch:h,error:b,moreError:_,canFetchMore:r}})(e),m=((e=0)=>{const t=Date.now();return[{ts:e,title:i().createElement(Gm.new,null)},{ts:(0,zm.Z)().getTime(),title:i().createElement(Gm.today,null)},{ts:(0,Hm.Z)(t,1).getTime(),title:i().createElement(Gm.thisWeek,null)},{ts:(0,qm.Z)(t,1).getTime(),title:i().createElement(Gm.thisMonth,null)},{ts:0,title:i().createElement(Gm.earlier,null)}].filter((({ts:t})=>t<=e))})(a);let p=null,h=0,b=m[h];return i().createElement("div",{className:nm()(Jm,{[Qm]:t}),ref:u},i().createElement(Km.b0,{isErrorPadded:!1,isLoading:o,error:c,retry:r,retryText:i().createElement(Xm.oc.retry,null),errorText:i().createElement(Xm.oc.errorText,null)},n.map((e=>{for(;e.lastActors[0].action.timestamp<=b.ts;)b=m[++h];return p!==h?(p=h,i().createElement(s.Fragment,{key:Ym(b)},i().createElement("span",{className:tp},b.title),i().createElement(Fm,{notification:e}))):i().createElement(Fm,{key:Wm(e),notification:e})})),!o&&!n.length&&i().createElement("span",{className:ep},i().createElement(Gm.stub,null)),d&&i().createElement("div",{className:np},i().createElement(dm.y,{progress:l,size:"s"}))))};var ip=n(23673);const ap=({className:e,pollingInterval:t})=>{const[n,,a,r]=(0,Iu.zj)(!1),o=(0,uo.bU)(),[l,{refetch:c}]=(0,Li.aM)(em,{},{manualLoadingHandling:!0,manualErrorHandling:!0});(0,Pu.Z)(c,t||null);const d=l&&(0,Cu.B)(l);(0,Tu.r)((()=>{n&&d&&(d.count=0)}),[n]);const u=(0,s.useRef)(null),m=(0,nr.dD)(),p=null!=l&&l.count?Mu:Du,h=l&&i().createElement(sp,{visible:n});return i().createElement("div",{className:nm()(Fu,e)},i().createElement("div",{className:Zu,onClick:r,ref:u,role:"button","aria-label":n?cm.closeNotification(o):cm.openNotification(o)},i().createElement(p,{className:Vu}),!(null==l||!l.count)&&i().createElement(ju,{count:l.count}),m?i().createElement(ip.h,{visible:n,keepMounted:!1},i().createElement("div",{onClick:e=>e.stopPropagation()},i().createElement(zu.B,{title:i().createElement(lm.notifications,null),visible:n,onCancelButtonClick:a},h))):i().createElement(rm,{title:i().createElement(lm.notifications,null),visible:n,onClose:a,anchor:u},h)))};var rp=n(65371),op=n(60008),lp=n(50674);const cp=({className:e,isScrolled:t})=>{const{l10n:n}=(0,ar.$)(),{handleInteract:a}=(0,Ri.M2)(),[r,o]=(0,s.useState)(!1),l=(0,s.useCallback)((()=>o((e=>!e))),[]),{authInfo:c,passportLinks:d,location:u,host:m,zenOwnBellPollingInterval:p}=(0,Tn.v9)((e=>{const{zenOwnBellPollingInterval:t}=(0,h.a)(e);return{authInfo:(0,k.IG)(e),passportLinks:(0,k.Ly)(e),location:e.router.location,theme:(0,k.FS)(e),host:e.params.host||"",zenOwnBellPollingInterval:t}}),Tn.wU),b=(0,Tn.I0)(),g=(0,s.useCallback)((()=>b((0,_.dy)(Za.k))),[b]),{userAgreementShow:v,userAgreementAccept:f}=(()=>{const e=(0,fu.Z)(),t=(0,Dn.oR)(),[n]=(0,s.useState)((()=>{const e=t.getState();if(e.params&&e.params.bulk){const{bulk_params:t}=e.params.bulk;return t}}));return{userAgreementShow:(0,s.useCallback)((()=>{n&&e((0,Aa.q)("intro_user_agreement:show"),{bulkParams:n})}),[e,n]),userAgreementAccept:(0,s.useCallback)((()=>{n&&e((0,Aa.q)("intro_user_agreement:accept"),{bulkParams:n})}),[e,n])}})(),y=(0,uo.bU)(),w=ku.placeholder(y);return i().createElement("header",{className:ja()(Td,e,{[Ad]:r})},i().createElement("div",{className:xd},i().createElement("div",{className:Zd},i().createElement(nu._5,{href:m,host:m,className:ja()(Od,{[Ld]:t}),"aria-label":n("common.zen")},i().createElement(fr.P,{className:Md,symbol:op.Z,width:78,height:24}),i().createElement(fr.P,{className:Nd,symbol:rp.Z}))),i().createElement("div",{className:Rd},i().createElement(Eu,{className:ja()(Vd,{[Ud]:t,[Ad]:r}),onExpand:l}),i().createElement("div",{className:ja()(zd,!(null!=c&&c.isAuthorized)&&Hd),onClick:a},i().createElement(pc.P,{className:qd,href:xi.EZ,"aria-label":w},i().createElement(fr.P,{symbol:lp.Z,className:$d,width:32,height:32}))),(null==c?void 0:c.isAuthorized)&&i().createElement("div",{className:jd},i().createElement(ap,{pollingInterval:p})),d&&i().createElement("div",{className:Dd},i().createElement(Gd.k,{className:ja()(Bd,{[Fd]:!(null!=c&&c.isAuthorized)}),user:c,onClickBlocked:g,passportLinks:d,location:u,onShowAccept:v,onClickAccept:f})))))};var dp=n(53397);const up=()=>{window.scrollTo(0,0)},mp=(0,s.memo)((()=>((e=>{(0,s.useEffect)((()=>{if(e)return window.addEventListener("beforeunload",up),window.addEventListener("unload",up),()=>{window.removeEventListener("beforeunload",up),window.removeEventListener("unload",up)}}),[e])})((0,Tn.v9)(k.S4)),null))),pp="right-sidebar__rightSidebar-2g";var hp=n(49309),bp=n(22694),gp=n(95875);const vp={isThisYourCity:{ru:"это ваш город?",_context:""},widget:{ru:"Виджет погоды",_context:""}},_p=(0,uo.Wh)(vp),fp=(0,uo.bN)(vp);var yp=n(80635),wp=n(96475),kp=n(61886),Sp=n(54934),Ep=n(49130),Cp=n(43070);const Ip=Hu.Ry({title:Hu.Z_(),geoid:Hu.Rx(),subtitle:Hu.wY(Hu.Z_()),size:Hu.Rx()}),Pp=(0,Cp.P)({params:Hu.Ry({part:Hu.Z_()}),req:async({part:e})=>(await fetch(`https://suggest-maps.yandex.ru/suggest-geo?v=9&search_type=tune&results=15&lang=ru_RU&part=\n                    ${e}&client_id=PPBroMordaTune`)).json(),res:Hu.Ry({results:Hu.IX(Ip)})}),Tp=(0,Cp.P)({params:Hu.Ry({latitude:Hu.Rx(),longitude:Hu.Rx()}),req:async({latitude:e,longitude:t})=>(await fetch(`/api/geo/get?pos=${e},${t}`)).json(),res:Hu.Ry({geoid:Hu.wY(Hu.Rx()),region_title:Hu.wY(Hu.Z_())})}),Rp=(0,Cp.P)({params:Hu.Ry({geoid:Hu.Z_()}),req:async({geoid:e})=>(await fetch(`/api/geo/set?id=${e}`)).status,res:Hu.Rx()});var Ap=n(62508),xp=n.n(Ap),Op=n(68129);let Np=new(Au())({id:"geolocation_10a0--inline",use:"geolocation_10a0--inline-usage",viewBox:"0 0 20 20",content:'<symbol viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" id="geolocation_10a0--inline">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.61093 11.3891L3.55908 10.0595C2.87313 9.87892 2.79809 8.9351 3.44689 8.64844L16.103 3.05644C16.6356 2.82111 17.1789 3.36441 16.9436 3.89704L11.3514 16.5531C11.0647 17.2019 10.1209 17.1269 9.94034 16.4409L8.61093 11.3891Z" fill="currentColor" />\n</symbol>'});const Mp=(0,Op.Z)(xp(),Np),Lp={chooseCity:{ru:"Выбор города",_context:""},autoGeolocation:{ru:"Автоматически определить геолокацию",_context:""},cancel:{ru:"Отмена",_context:""},save:{ru:"Сохранить",_context:""},cantLoadSuggestions:{ru:"Не удалось загрузить список городов",_context:""},cantLoadCurrentGeolocation:{ru:"Не удалось определить вашу геолокацию. Попробуйте ещё<nbsp />раз",_context:""},cantSaveCity:{ru:"Не удалось сохранить город. Попробуйте ещё<nbsp />раз",_context:""},refresh:{ru:"Попробовать ещё раз",_context:""}},Dp=(0,uo.Wh)(Lp),Bp=(0,uo.bN)(Lp),Fp="geolocation-modal__modal-l3",Zp="geolocation-modal__mobile-eu",Vp="geolocation-modal__currentGeolocationButton-Lz",Up="geolocation-modal__inputContainer-2s",jp="geolocation-modal__buttonContainer-1T",zp="geolocation-modal__button-2m",Hp="geolocation-modal__suggestionsError-1U",qp="geolocation-modal__errorButton-2e",$p="geolocation-modal__errorButtonContainer-2I",Gp="geolocation-modal__refreshIcon-3j",Wp="geolocation-modal__refreshButton-25",Yp=({title:e,geoid:t,subtitle:n})=>({id:t.toString(),name:e,caption:n}),Kp=(0,s.memo)((({closeModal:e,regionTitle:t,initialGeoid:n})=>{const a=(0,Fn.tD)(),r=(0,nr.dD)(),o=(0,uo.bU)(),[l,c]=(0,s.useState)(t),[d,u]=(0,s.useState)(360),m=l===t,[p,{error:h,refetch:b}]=(0,Li.aM)(Pp,m?null:{part:l},{manualLoadingHandling:!0,manualErrorHandling:!0}),g=(0,Li.JC)(Tp),v=(0,Li.JC)(Rp),[_,f]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),E=(0,s.useCallback)((()=>{f(!0);navigator.geolocation.getCurrentPosition((async e=>{try{const t=await g(e.coords),{geoid:n,region_title:s}=t;if(!n||!s)throw new Error;T(Yp({title:s,geoid:n,size:1})),c(s),y&&w(!1)}catch(e){w(!0),S(!1)}finally{f(!1)}}),(()=>f(!1)))}),[g,y]),[C,I]=(0,s.useState)([]),[P,T]=(0,s.useState)(n?{name:t,id:String(n)}:void 0),[R,A]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(null!=p&&p.results){const e=p.results.filter((({size:e})=>0!==e));I(e.map(Yp))}}),[null==p?void 0:p.results]);const x=(0,s.useCallback)((async()=>{if(!P)return;204===await v({geoid:null==P?void 0:P.id})?window.location.reload():(S(!0),w(!1))}),[P,v]),O=(0,s.useCallback)((e=>{c(e.target.value),A(!0),y&&w(!1),k&&S(!1)}),[y,k]),N=(0,s.useCallback)((async e=>{e&&(T(e),c(e.name),A(!1))}),[]),M=(0,s.useCallback)((()=>{const e=C[0];e&&l.toLowerCase()===e.name.toLowerCase()&&N(e),A(!1)}),[N,C,l]),L=(0,s.useRef)(null);(0,yp.Z)(L,M);const D=r?Zp:"",B=(0,s.useCallback)((({height:e})=>{u(e-202)}),[]);return(0,s.useEffect)((()=>{if(!r)return;const e=(0,Sp.P)((()=>B({height:window.innerHeight})),200);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[B,r]),i().createElement(nl.u,{className:ja()(Fp,D),theme:a,isOpen:!0,close:e,withFixedHeight:!0,viewType:r?"mobile-fullscreen-small-arrow":"inner-close-s-rounded",contentAriaLabel:Bp.chooseCity(o),withVerticalAlign:!0},i().createElement(Nc.x,{title:i().createElement(Dp.chooseCity,null)}),i().createElement("div",{className:ja()(Up,D)},i().createElement(wp.I,{onChange:O,value:l,size:Pr.u.xxl,isError:y||k||Boolean(h),withErrorBorderOnly:!0}),R&&C.length>0&&i().createElement(kp._,{items:C,selectedItemId:P&&P.id,onSelect:N,top:52,maxHeight:d,rootRef:L,isRedesign:!0,withoutDropDown:r}),h&&i().createElement("div",{className:ja()(Hp,D)},i().createElement(Dp.cantLoadSuggestions,null),i().createElement(Ir.Su,{size:Pr.u.m,viewType:$c.c.fill6,theme:a,isMobile:!1,"aria-label":Bp.refresh(o),className:qp,onClick:b},i().createElement("div",{className:$p},i().createElement(fr.P,{symbol:Ep.Z,width:24,height:24,className:Gp}),i().createElement(Dp.refresh,null)))),i().createElement(Ir.Su,{className:Vp,size:Pr.u.xxl,isMobile:!1,viewType:$c.c.fill6,icon:_?i().createElement(sr.$,{size:20}):i().createElement(fr.P,{symbol:Mp,width:24,height:24}),onClick:E,theme:a,"aria-label":Bp.autoGeolocation(o)})),(k||y)&&i().createElement("button",{className:ja()(Wp,D),onClick:()=>{y&&E(),k&&x()}},y&&i().createElement(Dp.cantLoadCurrentGeolocation,null)||k&&i().createElement(Dp.cantSaveCity,null)),i().createElement("div",{className:ja()(jp,D)},i().createElement(Ir.Su,{size:Pr.u.xxl,isMobile:!1,viewType:$c.c.fill6,onClick:e,className:ja()(zp,D),theme:a},i().createElement(Dp.cancel,null)),i().createElement(Ir.Su,{size:Pr.u.xxl,isMobile:!1,viewType:$c.c.carrot,onClick:x,className:ja()(zp,D),disabled:!l||!P,theme:a},i().createElement(Dp.save,null))))})),Xp="geoblock-weather__container-3o",Jp="geoblock-weather__mobContainer-1w",Qp="geoblock-weather__forecast-1k",eh="geoblock-weather__currentWeather-1P",th="geoblock-weather__icon-a1",nh="geoblock-weather__region-3Y",sh="geoblock-weather__link-1-",ih="geoblock-weather__content-1R",ah="geoblock-weather__location-2l",rh="geoblock-weather__mobile-wZ",oh="geoblock-weather__image-1O",lh="geoblock-weather__askAboutCity-1Y",ch=(0,s.memo)((({data:e,log:t,iconUrl:n})=>{const{bulkParams:a,iconalt:r,t1:o,t2:l,t2name:c,t3:d,t3name:u,url:m,regionTitle:p,isGeoSetByUser:h,geoid:b}=e,g=(0,Fn.tD)(),v=(0,nr.dD)(),_=(0,uo.bU)(),f=(0,s.useCallback)(((e,n)=>t(e,Object.assign({},n,{bulkParams:a}))),[a,t]),[y,w]=(0,s.useState)(!1),k=(0,s.useCallback)((e=>()=>w(e)),[]),[S]=(0,s.useState)((()=>(0,gp.W$)(f))),E=(0,s.useCallback)((()=>S.click("grade")),[S]),C=(0,s.useCallback)((()=>S.click("forecast")),[S]);(0,Qi.n)((()=>S.show()));const I=v?rh:null,P=`${c} ${l>0?"+":""}${l}°`,T=`${u} ${d>0?"+":""}${d}°`,R=i().createElement(i().Fragment,null,p&&i().createElement("button",{className:ja()(ah,I),onClick:k(!0),type:"button"},i().createElement(fr.P,{symbol:Mp,width:20,height:20,className:th}),i().createElement("div",{className:ja()(nh,I)},p,!1===h&&i().createElement(i().Fragment,null," ")),!1===h&&i().createElement(i().Fragment,null,i().createElement("div",{className:ja()(nh,I)},"·"),i().createElement("span",{className:lh},i().createElement(_p.isThisYourCity,null)))),i().createElement("div",{className:ja()(ih,I),"aria-label":fp.widget(_)},i().createElement(nu.PY,{href:m,className:sh,"aria-label":`${o} °C${r?`, ${r}`:""}`,onClick:E},i().createElement("div",{className:ja()(oh,I),style:{backgroundImage:n}}),i().createElement("div",{className:ja()(eh,I)},o>0?"+":"",o,"°")),!v&&i().createElement(nu.PY,{href:m,className:sh,"aria-label":`${c} ${l}°, ${u} ${d}°`,onClick:C},i().createElement("div",{className:Qp},i().createElement("div",null,P),i().createElement("div",null,T)))));return i().createElement(i().Fragment,null,v?i().createElement("div",{className:Jp},R):i().createElement(Xc.U,{theme:g,className:Xp},R),p&&y&&i().createElement(Kp,{closeModal:k(!1),regionTitle:p,initialGeoid:!1===h?b:void 0}))})),dh=()=>{const{log:e}=(0,bp.B)(),t=(0,Fn.Fg)(),n=(0,Tn.v9)((e=>e.geoblock),Tn.wU);if(!n)return null;const s=`url('//static.dzeninfra.ru/weather/i/icons/funky/${t===al.Y.dark?al.Y.light:al.Y.dark}/${n.iconCode}.svg')`;return i().createElement(ch,{data:n,log:e,iconUrl:s})},uh={rightPanel:{ru:"Правая панель сайта",_context:""}},mh=((0,uo.Wh)(uh),(0,uo.bN)(uh)),ph=({sidebarContent:e})=>{const t=(0,uo.bU)(),n=(0,s.useMemo)((()=>e?e.map((e=>{const{Component:t,Stub:n}=(0,hp.s)()(e.type);return t||n})).map(((t,n)=>{var s,a;return i().createElement(t,{key:null==(s=e[n])?void 0:s.id,id:null==(a=e[n])?void 0:a.id,inSidebar:!0})})):null),[e]);return i().createElement("div",{className:ja()(pp),"aria-label":mh.rightPanel(t)},i().createElement(dh,null),n)},hh=({host:e})=>{const t=(0,Tn.v9)((e=>{var t;return null==(t=e.sidebar)?void 0:t.items}),Tn.wU);return i().createElement(ph,{sidebarContent:t,host:e})},bh=e=>e.params.isStartPP;var gh=n(43610),vh=n(23654);const _h=()=>{window.open("viewport://","_blank")},fh=({platform:e})=>{const{l10n:t}=(0,ar.$)(),n=((0,uo.bU)(),e===Ar.t.mobile),s=(0,Tn.v9)(k.IG),{msid:a,serpLink:r,isMobileSafari:o}=(0,Tn.v9)((e=>{return{msid:e.serpLinks.msid,serpLink:e.serpLinks.serpLink&&(t=e.serpLinks.serpLink,`${(0,vh.K)(t)}/`),isMobileSafari:"MobileSafari"===e.context.browserName};var t})),l=(0,Tn.v9)(k.rO),c=(0,Tn.v9)(bh),d=(0,Tn.v9)(k.gx),{yandexSearchDesktopArrow:u,yandexSearchMobileArrow:m,yandexSearchDesktopInputDelay:p,yandexSearchMobileInputDelay:b,yandexSearchMobileSafariInputDelay:g,yandexSearchOpenInPP:v,yandexSearchAdditionalButton:_,isDzenSearchSeparationEnabled:f}=(0,Tn.v9)(h.a),{dzenSearchInlineScript:y}=(0,Rn.vv)(),w=null==s?void 0:s.yandexuid;(0,Pe.Zd)(n?m:u,{yu:w,clid:l});if(v&&c&&n)return i().createElement("div",{className:ja()("dzen-search-arrow-common__arrow",{"dzen-search-arrow-common__mobile":!0,"dzen-search-arrow-common__pp":!0}),onClick:_h,role:"button","aria-label":t("search.open_arrow")},i().createElement("div",{className:ja()("dzen-search-arrow-common__bg")}),i().createElement("div",{className:ja()("dzen-search-arrow-common__border")},i().createElement("div",{className:ja()("dzen-search-arrow-common__logo")}),i().createElement("div",{className:ja()("dzen-search-arrow-common__placeholder")},t("search.yandex_placeholder")),i().createElement("div",{className:ja()("dzen-search-arrow-common__button")},t("search.yandex_search"))));(0,gh._)(d,n),t("search.yandex_placeholder");return i().createElement("div",{className:ja()("dzen-search-arrow-common")},i().createElement("div",{dangerouslySetInnerHTML:{__html:""}}))};var yh=n(37828);const wh=(0,s.memo)((({className:e})=>{const t=(0,Tn.v9)((e=>e.bannerMain),yh.v);return t&&"string"==typeof t?i().createElement("div",{className:e,dangerouslySetInnerHTML:{__html:t}}):null})),kh="left-sidebar-container__leftSidebar-3Z",Sh="left-sidebar-container__isVisible-1x",Eh="left-sidebar-container__widthCompactSmall-22",Ch="left-sidebar-container__morda-1h";var Ih=n(44640);const Ph="left-sidebar-content-view__contentTop-3A",Th="left-sidebar-content-view__morda-3L",Rh="left-sidebar-panel-view__panel-2E",Ah="left-sidebar-panel-view__themeBlack-1r",xh="left-sidebar-panel-view__logoWithText-2B",Oh="left-sidebar-panel-view__themePortal-2B",Nh="left-sidebar-panel-view__logo-oh",Mh="left-sidebar-panel-view__widthCompactSmall-t1",Lh="left-sidebar-panel-view__header-3X",Dh="left-sidebar-panel-view__widthCompact-u-",Bh="left-sidebar-panel-view__content-9a",Fh="left-sidebar-panel-view__withLogo-1t",Zh={sidebarScrollable:{ru:"Боковое меню",_context:"",_remoteKey:"sidebarScrollable"}},Vh=((0,uo.Wh)(Zh),(0,uo.bN)(Zh)),Uh=({children:e,className:t,sidebarWidth:n,theme:a,withLogo:r=!0})=>{const o=(0,Tn.I0)(),l=(0,uo.bU)(),c=(0,s.useCallback)((()=>{o((0,d.g)())}),[o]);return i().createElement("aside",{className:ja()(t,Rh,{[Dh]:"compact"===n,[Mh]:"compact-small"===n,[Ah]:a===al.D.black,[Oh]:a===al.D.portal}),"aria-label":Vh.sidebarScrollable(l)},r?i().createElement("div",{onClick:c,className:Lh},i().createElement(fr.P,{className:xh,symbol:op.Z,width:78,height:24}),i().createElement(fr.P,{className:Nh,symbol:rp.Z,width:24,height:24})):null,i().createElement("div",{className:ja()(Bh,{[Fh]:r})},e))};let jh=new(Au())({id:"feed-24_4dc7--inline",use:"feed-24_4dc7--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="feed-24_4dc7--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3.125A3.875 3.875 0 0 0 3.125 7v6A3.875 3.875 0 0 0 7 16.875h10A3.875 3.875 0 0 0 20.875 13V7A3.875 3.875 0 0 0 17 3.125H7ZM4.875 7c0-1.174.951-2.125 2.125-2.125h10c1.174 0 2.125.951 2.125 2.125v6A2.125 2.125 0 0 1 17 15.125H7A2.125 2.125 0 0 1 4.875 13V7ZM6 19.125a.875.875 0 0 0 0 1.75h12a.875.875 0 0 0 0-1.75H6Z" /></symbol>'});const zh=(0,Op.Z)(xp(),jh);let Hh=new(Au())({id:"live-24_1bf9--inline",use:"live-24_1bf9--inline-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="live-24_1bf9--inline"><circle cx="12" cy="12" r="2" fill="currentColor" /><path d="M15.67 7.253a1 1 0 1 0-1.224 1.581l1.224-1.581Zm-1.224 7.913a1 1 0 0 0 1.224 1.581l-1.224-1.581Zm0-6.332A3.992 3.992 0 0 1 16 12h2a5.992 5.992 0 0 0-2.33-4.747l-1.224 1.581ZM16 12a3.992 3.992 0 0 1-1.554 3.166l1.224 1.581A5.992 5.992 0 0 0 18 12h-2ZM8.328 7.253a1 1 0 1 1 1.224 1.581L8.328 7.253Zm1.224 7.913a1 1 0 0 1-1.224 1.581l1.224-1.581Zm0-6.332A3.992 3.992 0 0 0 7.998 12h-2c0-1.932.914-3.652 2.33-4.747l1.224 1.581ZM7.998 12c0 1.287.607 2.432 1.554 3.166l-1.224 1.581A5.992 5.992 0 0 1 5.998 12h2ZM18.151 4.115a1 1 0 1 0-1.23 1.576l1.23-1.576Zm-1.23 14.194a1 1 0 1 0 1.23 1.576l-1.23-1.576Zm0-12.618A7.984 7.984 0 0 1 20 12h2a9.984 9.984 0 0 0-3.849-7.885l-1.23 1.576ZM20 12a7.984 7.984 0 0 1-3.08 6.309l1.231 1.576A9.985 9.985 0 0 0 22 12h-2ZM5.844 4.115a1 1 0 1 1 1.232 1.576L5.844 4.115ZM7.076 18.31a1 1 0 1 1-1.232 1.576l1.232-1.576Zm0-12.618A7.985 7.985 0 0 0 3.996 12h-2a9.985 9.985 0 0 1 3.848-7.885l1.232 1.576ZM3.996 12a7.985 7.985 0 0 0 3.08 6.309l-1.232 1.576A9.984 9.984 0 0 1 1.996 12h2Z" fill="currentColor" /></symbol>'});const qh=(0,Op.Z)(xp(),Hh);let $h=new(Au())({id:"video-24_2194--inline",use:"video-24_2194--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="video-24_2194--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.793 11.227a1.546 1.546 0 0 1 0 1.546 1.6 1.6 0 0 1-.5.513c-.133.091-.3.188-.462.282L7.71 20.564c-.161.094-.328.19-.473.26-.148.07-.394.176-.694.176a1.544 1.544 0 0 1-1.337-.773 1.603 1.603 0 0 1-.195-.69 7.51 7.51 0 0 1-.012-.54V5.003c0-.187 0-.38.012-.54.013-.164.045-.43.195-.69A1.544 1.544 0 0 1 6.544 3c.3 0 .546.105.694.176a7.5 7.5 0 0 1 .474.26l12.094 6.982.025.014c.162.094.329.19.462.282a1.6 1.6 0 0 1 .5.513Zm-2.18.773L6.965 5.275v13.45L18.613 12Z" /></symbol>'});const Gh=(0,Op.Z)(xp(),$h);let Wh=new(Au())({id:"short-video_945b--inline",use:"short-video_945b--inline-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="short-video_945b--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.754 11.4h-1.975C17.61 8.542 14.986 6.6 12 6.6c-2.986 0-5.61 1.941-6.78 4.8H3.247a9 9 0 1117.507 0zm-2.025 1.32h2.053a9 9 0 11-17.563 0H5.27C6.464 15.516 9.056 17.4 12 17.4s5.536-1.885 6.729-4.68zm-2.077 5.132a8.698 8.698 0 01-9.304 0l.002-.002c-1.907-1.31-2.443-2.898-2.695-3.644l-.005-.016h-.33c.06 2.4 1.38 4.26 2.31 5.31h.002A7.182 7.182 0 0012 21.9c2.133 0 4.05-.927 5.368-2.4h.002c.93-1.05 2.25-2.91 2.31-5.31h-.33l-.005.016c-.252.746-.788 2.333-2.695 3.644l.002.002zM7.35 6.15l-.001-.001a8.698 8.698 0 019.302 0v.001c1.906 1.31 2.442 2.898 2.694 3.644l.005.016h.33c-.06-2.4-1.38-4.26-2.31-5.31h-.003A7.182 7.182 0 0012 2.1a7.182 7.182 0 00-5.367 2.4H6.63C5.7 5.55 4.38 7.41 4.32 9.81h.33l.005-.016c.252-.746.788-2.333 2.695-3.644z" fill="currentColor" /><path d="M9.36 12c0-1.786 0-2.679.564-3.062.03-.02.062-.04.094-.058.596-.334 1.394.066 2.991.864 1.921.96 2.882 1.441 2.917 2.195.002.04.002.08 0 .12-.035.755-.996 1.235-2.917 2.196-1.597.798-2.395 1.198-2.99.864a1.329 1.329 0 01-.095-.058c-.564-.383-.564-1.276-.564-3.062z" fill="currentColor" /></symbol>'});const Yh=(0,Op.Z)(xp(),Wh);let Kh=new(Au())({id:"showcase-24_95bb--inline",use:"showcase-24_95bb--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="showcase-24_95bb--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.151 4.224a8.622 8.622 0 0 1-5.426 5.442c-.065.025-.134.05-.205.074.07.025.14.05.205.075a8.616 8.616 0 0 1 5.429 5.45c.035.093.07.194.103.297a6.45 6.45 0 0 1 .107-.303 8.622 8.622 0 0 1 5.45-5.451l.007-.003.008-.002c.061-.02.123-.038.185-.057a5.852 5.852 0 0 1-.223-.08 8.617 8.617 0 0 1-5.428-5.448 7.003 7.003 0 0 1-.104-.295c-.034.104-.07.207-.108.3Zm.559-1.536-.002.003a.04.04 0 0 1 .002-.003Zm-.898.005Zm7.512 7.526Zm-.013-.93Zm-7.505 7.517.002-.003-.002.003Zm.897-.007c.01.01.014.018.014.018 0 .001-.005-.004-.014-.018Zm-7.52-7.537Zm.008.962Zm6.05-8.489c.107-.162.43-.61 1.017-.61.58 0 .903.436 1.013.601.145.218.253.476.334.693.083.223.16.462.223.666l.003.008c.07.219.123.388.172.515l.008.02.007.021a6.872 6.872 0 0 0 4.35 4.364l.022.008.023.008c.12.048.286.102.501.17l.036.012c.195.061.42.132.629.21.213.078.468.182.682.319.107.069.244.17.362.315.121.15.252.385.252.692 0 .304-.129.538-.247.686a1.533 1.533 0 0 1-.356.319c-.214.141-.469.25-.687.332-.312.117-.693.229-.973.311l-.253.075a6.865 6.865 0 0 0-4.341 4.361l-.008.024-.01.024c-.047.12-.1.286-.169.505l-.008.027c-.063.2-.136.432-.217.65-.08.217-.188.478-.331.697-.107.162-.43.61-1.017.61-.58 0-.903-.436-1.013-.601a3.443 3.443 0 0 1-.334-.695c-.085-.227-.161-.47-.226-.679-.07-.22-.124-.394-.174-.526l-.007-.018-.006-.018a6.872 6.872 0 0 0-4.349-4.363l-.023-.008-.022-.009a8.263 8.263 0 0 0-.547-.184c-.192-.06-.412-.13-.617-.204a3.65 3.65 0 0 1-.677-.312 1.517 1.517 0 0 1-.362-.308 1.085 1.085 0 0 1-.26-.696c0-.313.138-.55.258-.694.117-.142.253-.242.359-.31.211-.134.463-.238.676-.317.211-.078.438-.151.634-.214l.03-.01c.216-.07.383-.124.506-.173l.022-.008.023-.008a6.865 6.865 0 0 0 4.35-4.364l.008-.027.01-.026c.047-.115.1-.276.169-.494l.011-.037c.062-.195.135-.422.213-.635.08-.216.188-.476.332-.695Zm-6.725 12.95a5.743 5.743 0 0 1-2.769 2.808 5.725 5.725 0 0 1 2.77 2.799 5.728 5.728 0 0 1 2.768-2.799 5.738 5.738 0 0 1-2.769-2.807Zm3.829 3.256-.003-.001.002.001Zm0-.894-.003.001a.079.079 0 0 1 .002-.001Zm-4.25 4.249Zm.843 0-.002-.002.002.002ZM2.69 17.043l.001.001-.001-.001Zm0 .902.001-.001h-.001Zm4.245-4.251-.002.002.002-.002Zm-.84 0 .002.002-.001-.002Zm-.657-.908c.105-.169.442-.673 1.077-.673s.972.504 1.078.673c.145.232.255.508.328.69l.011.028.01.028a3.993 3.993 0 0 0 2.55 2.563l.026.008.025.01.033.013c.172.07.428.171.64.298.116.068.27.173.402.324.138.159.288.412.288.746s-.15.587-.288.746a1.641 1.641 0 0 1-.401.324c-.213.126-.469.229-.641.298l-.033.012-.026.011-.027.009a3.976 3.976 0 0 0-2.55 2.55l-.007.023-.008.022a4.386 4.386 0 0 1-.33.708c-.106.172-.443.678-1.08.678-.636 0-.974-.506-1.08-.678a4.386 4.386 0 0 1-.33-.708l-.008-.022-.007-.022a3.98 3.98 0 0 0-2.55-2.551l-.027-.009-.026-.01a4.783 4.783 0 0 1-.68-.32 1.68 1.68 0 0 1-.391-.317 1.123 1.123 0 0 1-.292-.744c0-.343.16-.595.292-.744.129-.146.278-.25.392-.318.226-.136.496-.245.679-.319l.025-.01.027-.008a3.99 3.99 0 0 0 2.55-2.563l.01-.028.01-.027c.073-.183.184-.46.329-.691Z" /></symbol>'});const Xh=(0,Op.Z)(xp(),Kh);let Jh=new(Au())({id:"search-24_ae9e--inline",use:"search-24_ae9e--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="search-24_ae9e--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 17.25a6.753 6.753 0 0 0 6.498-4.916l1.989-1.353a8.46 8.46 0 0 1-1.811 4.781l.031.03 3.5 3.5c.39.391.223.778-.119 1.12-.341.341-.728.509-1.118.118l-3.5-3.5-.013-.013A8.5 8.5 0 1 1 13.36 2.493c-.463.45-.905.915-1.382 1.42A6.75 6.75 0 1 0 10.5 17.25Zm6.825-8.843c.448-.45.997-.787 1.6-.984l.01-.004c.319-.128.665-.267.665-.469 0-.202-.346-.34-.665-.469l-.01-.004a4.037 4.037 0 0 1-2.582-2.6c-.129-.322-.279-.677-.493-.677-.214 0-.364.355-.493.677a4.052 4.052 0 0 1-2.582 2.6c-.321.13-.675.28-.675.473 0 .193.354.344.675.473a4.027 4.027 0 0 1 2.582 2.59c.129.332.279.687.493.687.214 0 .364-.355.493-.688a4.042 4.042 0 0 1 .982-1.605Z" /></symbol>'});const Qh=(0,Op.Z)(xp(),Jh);let eb=new(Au())({id:"ya-main-24_f10a--inline",use:"ya-main-24_f10a--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ya-main-24_f10a--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.752 11.999a8.248 8.248 0 1 1 16.496 0 8.248 8.248 0 0 1-16.496 0Zm8.248-10c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm-1.581 11.745c-1.443-1.034-2.214-1.951-2.214-3.64 0-2.076 1.435-3.503 4.165-3.51h2.723v10.799H13.25V8.02h-.91c-1.542 0-2.314.78-2.314 1.952 0 1.304.525 1.967 1.69 2.739l.91.647-2.6 4.035H7.942l2.477-3.649Z" /></symbol>'});const tb=(0,Op.Z)(xp(),eb);let nb=new(Au())({id:"bookmark-m_3286--inline",use:"bookmark-m_3286--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="bookmark-m_3286--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.9998 3.9782C5.01631 3.43329 5.4628 3 6.00809 3H17.9911C18.5364 3 18.9829 3.43326 18.9994 3.9782L19.4987 20.4556C19.5214 21.2047 18.7482 21.7161 18.0677 21.402L11.9996 18.6014L5.9315 21.402C5.25106 21.7161 4.47779 21.2048 4.50049 20.4556L4.9998 3.9782ZM6.96976 5L6.5481 18.9147L11.5769 16.5937C11.8451 16.4699 12.1541 16.4699 12.4223 16.5937L17.4511 18.9147L17.0294 5H6.96976Z" />\n</symbol>'});const sb=(0,Op.Z)(xp(),nb),ib="left-sidebar-navigation-view__nav-2E";var ab=n(50895);let rb=new(Au())({id:"profile-24_c33e--inline",use:"profile-24_c33e--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="profile-24_c33e--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.23 19.084A8.212 8.212 0 0 1 12 20.25a8.212 8.212 0 0 1-4.23-1.166c.94-.826 2.337-1.253 4.23-1.253 1.893 0 3.29.427 4.23 1.253Zm1.356-1.012C16.3 16.788 14.424 16.163 12 16.163c-2.424 0-4.301.625-5.586 1.907a8.25 8.25 0 1 1 11.171 0ZM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10ZM8.25 10.306c0 2.615 1.56 4.858 3.75 4.858 2.192 0 3.75-2.243 3.75-4.858 0-2.475-1.328-4.142-3.75-4.142-2.42 0-3.75 1.667-3.75 4.142Zm5.833 0c0 1.862-.993 3.192-2.082 3.192-1.09 0-2.084-1.33-2.084-3.192 0-1.674.7-2.475 2.084-2.475 1.382 0 2.082.8 2.082 2.475Z" /></symbol>'});const ob=(0,Op.Z)(xp(),rb);var lb=n(67300),cb=n(66775),db=n(20761);const ub=({sectionId:e,isActive:t,title:n,sidebarWidth:a,theme:r,hasLiveMarker:o,hasMarker:l,withNotifier:c,isNotifierVisible:d,onClick:u,icon:m,isMorda:p})=>{const{clientClick:h}=(0,db.qw)({sectionId:e}),b=(0,s.useCallback)((()=>{e&&h(),u&&u()}),[e,u,h]);return i().createElement(cb.w,{isActive:t,withNotifier:c,isNotifierVisible:d,title:n,sidebarWidth:a,theme:r,hasMarker:l,hasLiveMarker:o,icon:m,onClick:b,isMorda:p})};var mb=n(20708);const pb=(0,Ka.N)("morda-sidebar-nav"),hb=({sidebarWidth:e,host:t,myChannelSource:n,theme:a,l10n:r,items:o,scrollToTop:l,scrollToHeads:c,tld:d,consents:u,isMorda:m})=>{const{target:p,isDesktop2:h}=(0,mb.a)(),b=(0,s.useCallback)((e=>i().createElement(fr.P,{symbol:e,width:24,height:24})),[]),g=(0,s.useMemo)((()=>{if(n){const{logo:t,title:s,logoBackgroundColor:r}=n;return"user"!==n.type||!u||u.emailAccepted||u.rejected?i().createElement(ab._,{source:n,target:p},(n=>i().createElement(ub,{sectionId:lb.p.myChannel,key:"my-channel",className:pb("item"),isActive:n,isNotifierVisible:!1,withNotifier:!0,sidebarWidth:e,icon:t?i().createElement(co.qE,{iconSize:24,src:t,backgroundColor:r,shouldUseDefaultImage:!1}):void 0,theme:a,title:s,isMorda:m}))):null}return i().createElement(ab._,{url:`${t}media/zen/login`,key:"my_channel_login",target:p},(t=>i().createElement(ub,{sectionId:lb.p.myChannel,className:pb("item"),isActive:t,icon:b(ob),theme:a,title:r("navigate_bar.my_channel_login"),sidebarWidth:e,isMorda:m})))}),[b,t,r,n,e,p,a,u,m]),v=(0,s.useMemo)((()=>i().createElement(i().Fragment,null,o.map((n=>{const s=b(n.icon);return"main"!==n.id||h?"main"===n.id&&h?i().createElement(ab._,{url:n.url(d||""),key:n.id,target:p,notActive:!0},i().createElement(ub,{sectionId:n.id,key:n.id,className:pb("item"),icon:s,theme:a,title:n.title,sidebarWidth:e,isMorda:m})):i().createElement(ab._,{url:n.url(t),key:n.id,target:p},(t=>i().createElement(ub,{sectionId:n.id,className:pb("item"),isActive:t,onClick:t?c:void 0,icon:s,theme:a,title:n.title,sidebarWidth:e,isMorda:m}))):i().createElement(ub,{sectionId:n.id,key:n.id,className:pb("item"),icon:s,theme:a,onClick:l,title:n.title,sidebarWidth:e,isMorda:m})})),g)),[o,g,b,h,t,p,a,l,e,m,d,c]);return i().createElement("div",{className:ib},v)},bb=({sidebarWidth:e,host:t,myChannelSource:n,theme:a,items:r,tld:o,consents:l,isMorda:c})=>{const{l10n:u}=(0,ar.$)(),m=(0,Tn.I0)(),p=(0,s.useCallback)((()=>{xo.O.scrollTo({animate:!0,top:0})}),[]),h=(0,s.useCallback)((()=>{m((0,d.g)())}),[m]);return i().createElement(hb,{l10n:u,items:r,myChannelSource:n,theme:a,sidebarWidth:e,scrollToHeads:h,scrollToTop:p,host:t,tld:o,consents:l,isMorda:c})};var gb=n(83013);const vb=({sidebarWidth:e,host:t,isMorda:n})=>{const s=(0,uo.bU)(),a=[{id:lb.p.root,url:e=>"",icon:tb,title:gb.ag.main(s),condition:()=>!1},{id:lb.p.mainFeed,url:e=>e,icon:zh,title:gb.ag.zen(s)},{id:lb.p.video,url:e=>`${e}video`,icon:Gh,title:gb.ag.video(s)},{id:lb.p.shorts,url:e=>`${e}shorts`,icon:Yh,title:gb.ag.shortVideo(s),condition:e=>(0,Pa.x8)(e)},{id:lb.p.lives,url:e=>`${e}lives`,icon:qh,title:gb.ag.live(s),condition:e=>(0,Pa.lN)(e)},{id:lb.p.discover,url:e=>`${e}discover`,icon:Xh,title:gb.ag.showcase(s)},{id:lb.p.search,url:e=>`${e}discover?searchfocus=1`,icon:Qh,title:gb.ag.search(s),condition:()=>!1},{id:lb.p.saved,url:e=>`${e}saved`,icon:sb,title:gb.ag.saved(s),condition:e=>(e=>{var t,n;return(0,h.a)(e).isSavedPageEnabled&&Boolean(null==(t=e.auth)||null==(n=t.info)?void 0:n.isAuthorized)})(e)}],{items:r,myChannelSource:o,theme:l,tld:c,consents:d}=(0,Tn.v9)((e=>{var t;return{items:a.filter((t=>!t.condition||t.condition(e))),myChannelSource:e.currentUserSourceInfo.source,theme:(0,k.FS)(e),consents:null==(t=(0,k.IG)(e))?void 0:t.consents,tld:e.params.tld}}),Tn.wU);return i().createElement(bb,{items:r,myChannelSource:o,theme:l,sidebarWidth:e,host:t,tld:c,consents:d,isMorda:n})},_b=(0,Ka.N)("sidebar-separator-view"),fb=({theme:e="default",size:t="s",isMorda:n})=>i().createElement("div",{className:_b({theme:e,size:t,isDesktop2Site:false,isVideoSite:false,isMorda:n})});var yb=n(21461);const wb="left-sidebar-add-button__button-q1",kb="left-sidebar-add-button__wide-2u",Sb="left-sidebar-add-button__iconBox-2S",Eb="left-sidebar-add-button__compact-o-",Cb="left-sidebar-add-button__compactSmall-35",Ib="left-sidebar-add-button__title-1w",Pb="left-sidebar-add-button__shortTitle-1t";var Tb=n(75679),Rb=n(15018);let Ab=new(Au())({id:"create-new_5824--inline",use:"create-new_5824--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="create-new_5824--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 3.75h-2c-1.422 0-2.4.001-3.164.053-.747.051-1.16.145-1.462.27a4.25 4.25 0 0 0-2.3 2.3c-.126.303-.22.716-.271 1.463C3.751 8.6 3.75 9.578 3.75 11v2c0 1.422.001 2.4.053 3.164.051.747.145 1.16.27 1.462a4.25 4.25 0 0 0 2.3 2.3c.303.126.716.22 1.463.271.764.052 1.742.053 3.164.053h2c1.422 0 2.4 0 3.164-.053.747-.051 1.16-.145 1.462-.27a4.25 4.25 0 0 0 2.3-2.3c.126-.303.22-.716.271-1.463.052-.764.053-1.742.053-3.164v-2c0-1.422 0-2.4-.053-3.164-.051-.747-.145-1.16-.27-1.462a4.25 4.25 0 0 0-2.3-2.3c-.303-.126-.716-.22-1.463-.271C15.4 3.751 14.422 3.75 13 3.75ZM2.457 5.704C2 6.807 2 8.204 2 11v2c0 2.796 0 4.194.457 5.296a6 6 0 0 0 3.247 3.247C6.807 22 8.204 22 11 22h2c2.796 0 4.194 0 5.296-.457a6 6 0 0 0 3.247-3.247C22 17.194 22 15.796 22 13v-2c0-2.796 0-4.193-.457-5.296a6 6 0 0 0-3.247-3.247C17.194 2 15.796 2 13 2h-2c-2.796 0-4.193 0-5.296.457a6 6 0 0 0-3.247 3.247ZM11.875 7c.483 0 .875.392.875.875v3.375h3.375a.875.875 0 0 1 0 1.75H12.75v3.125a.875.875 0 0 1-1.75 0V13H7.875a.875.875 0 0 1 0-1.75H11V7.875c0-.483.392-.875.875-.875Z" /></symbol>'});const xb=(0,Op.Z)(xp(),Ab),Ob=({theme:e,sidebarWidth:t,host:n,l10n:a})=>{const{createBrief:r,createArticle:o,createVideo:l,createLive:c}=(0,Tb.d)({host:n,inNewTab:!0,isMobile:!1}),{clientClick:d,clientShow:u}=(0,gd.n)(),m=(0,s.useCallback)((e=>{d(e,{place:"left_bottom",itemType:"site_desktop"})}),[d]),p=(0,s.useCallback)((e=>{u(e,{place:"left_bottom",itemType:"site_desktop"})}),[u]),h=e=>()=>{m("button.create"),e()};return i().createElement(yb.v,{l10n:a,theme:e,position:{y:"bottom",x:"left",shouldOverlap:!0,shifts:{bottom:50,left:0}},createBrief:r,createArticle:o,createVideo:l,createLive:c,liveCreationEnabled:!1,renderTrigger:({toggle:n,containerRef:s})=>i().createElement(cb.w,{className:ja()(wb,{[kb]:t===Rb.r.wide,[Eb]:t===Rb.r.compact,[Cb]:t===Rb.r.compactSmall}),classNameIconBox:Sb,classNameTitle:Ib,classNameShortTitle:Pb,isActive:!0,title:a("left-sidebar.create-zen"),shortTitle:a("left-sidebar.create"),sidebarWidth:t,theme:e,buttonRef:s,onClick:h(n),icon:i().createElement(fr.P,{symbol:xb,width:24,height:24})}),logClick:m,logShow:p})},Nb=({host:e,theme:t,sidebarWidth:n,bottomContent:s,l10n:a,withLogo:r,isAuthorized:o,enableAddButton:l=!0,isMorda:c})=>i().createElement(i().Fragment,null,i().createElement(Uh,{host:e,sidebarWidth:n,theme:t,withLogo:r},i().createElement("div",{className:ja()(Ph,{[Th]:c})},i().createElement(vb,{sidebarWidth:n,host:e,isMorda:c}),null!=s&&s.length?i().createElement(fb,{isMorda:c}):null,s),l&&o&&i().createElement(Ob,{sidebarWidth:n,host:e,theme:t,l10n:a}))),Mb=e=>{var t,n;return{sidebarContent:null==(t=e.leftSidebar)?void 0:t.items,theme:(0,k.FS)(e),host:e.params.host||"",isAuthorized:null==(n=(0,k.IG)(e))?void 0:n.isAuthorized}},Lb=({isDzen:e,sidebarWidth:t,sidebarHeight:n,isMorda:a})=>{const{sidebarContent:r,theme:o,host:l,isAuthorized:c}=(0,Tn.v9)(Mb,Tn.wU),{l10n:d}=(0,ar.$)(),u=(0,s.useMemo)((()=>r?r.map((e=>{const{Component:t,Stub:n}=(0,Ih.C)()(e.type);return t||n})).map(((e,s)=>{var o,l;return i().createElement(e,{key:null==(o=r[s])?void 0:o.id,id:null==(l=r[s])?void 0:l.id,sidebarWidth:t,sidebarHeight:n,isMorda:a})})):null),[r,n,t,a]);return i().createElement(Nb,{withLogo:!e,host:l,bottomContent:u,sidebarWidth:t,theme:o,l10n:d,isAuthorized:c,enableAddButton:!0,isMorda:a})},Db=({className:e,isScrolled:t,compactWidth:n=1280,isMorda:a})=>{const[r,o]=(0,s.useState)(Rb.r.wide),[l,c]=(0,s.useState)(Rb.S.compact),[d,u]=(0,s.useState)(!1),m=(0,s.useCallback)((({width:e,height:t})=>{e&&t&&(o(e<n?Rb.r.compactSmall:Rb.r.wide),c(t<=720?Rb.S.compact:Rb.S.high))}),[n]);(0,s.useEffect)((()=>{const e=(0,Sp.P)((()=>m({width:window.innerWidth,height:window.innerHeight})),200);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[m]);const p=(0,s.useMemo)((()=>!!d||(u(!!t),!1)),[t,d]);return i().createElement("div",{className:ja()(kh,e,{[Sh]:t,[Eh]:"compact-small"===r,[Ch]:a})},p&&i().createElement(Lb,{sidebarWidth:r,sidebarHeight:l,isDzen:!0,isMorda:a}))},Bb="dzen-footer-right-placeholder-view__main-1q",Fb="dzen-footer-right-placeholder-view__morda-1B",Zb="dzen-footer-right-placeholder-view__linksContainer-Ee",Vb="dzen-footer-right-placeholder-view__isVisible-1K",Ub="dzen-footer-right-placeholder-view__button-1g",jb="dzen-footer-right-placeholder-view__icon-_i";let zb=new(Au())({id:"arrow_ba49--inline",use:"arrow_ba49--inline-usage",viewBox:"0 0 18 18",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" id="arrow_ba49--inline"><path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M9.5 18a.5.5 0 0 0 .5-.5V3.8l6.246 6.246a.5.5 0 0 0 .708 0l.692-.692a.5.5 0 0 0 0-.708L9 0 .354 8.646a.5.5 0 0 0 0 .708l.692.692a.5.5 0 0 0 .708 0L8 3.8v13.7a.5.5 0 0 0 .5.5h1Z" /></symbol>'});const Hb=(0,Op.Z)(xp(),zb),qb="dzen-footer-link-view__link-2j",$b="dzen-footer-link-view__title-1H",Gb=({title:e,onClick:t,href:n,host:s})=>i().createElement(nu._5,{className:qb,href:n,host:s,onClick:t},i().createElement("div",{className:$b},e)),Wb={toUp:{ru:"Проскроллить вверх",_context:""}},Yb=((0,uo.Wh)(Wb),(0,uo.bN)(Wb)),Kb=({isScrolled:e,isMorda:t,scrollToTop:n,links:s,l10n:a,host:r})=>{const o=(0,uo.bU)();return i().createElement("div",{className:ja()(Bb,{[Fb]:t,[Vb]:e})},i().createElement("div",{className:Ub,onClick:n,"aria-label":Yb.toUp(o)},i().createElement(fr.P,{className:jb,symbol:Hb,width:18,height:18})),i().createElement("div",{className:Zb},s.map((e=>i().createElement(Gb,{key:e.id,title:a(e.textTanker),href:e.url,host:r})))))},Xb=e=>{const t=(0,s.useCallback)((()=>{xo.O.scrollTo({animate:!0,top:0})}),[]),{l10n:n}=(0,ar.$)();return i().createElement(Kb,(0,bd.Z)({},e,{scrollToTop:t,l10n:n}))},Jb=({isScrolled:e,isMorda:t})=>{const{host:n}=(0,Tn.v9)((e=>({host:e.params.host||""})),Tn.wU),s=[{id:"about",url:`${n}about`,textTanker:"desktop.all_about_zen"},{id:"confidential",url:"https://dzen.ru/legal/confidential/",textTanker:"profile.editor-caption-privacy"},{id:"rules",url:"https://dzen.ru/legal/termsofuse/",textTanker:"preferences.eula"}];return i().createElement(Xb,{isScrolled:e,links:s,host:n,isMorda:t})};var Qb=n(97127);const eg="dzen-top-controls-desktop__topControls-14",tg="dzen-top-controls-desktop__rightItems-dr",ng="dzen-top-controls-desktop__button-R4",sg="dzen-top-controls-desktop__buttonText-3_";let ig=new(Au())({id:"search-star_1d07--inline",use:"search-star_1d07--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="search-star_1d07--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 17.25C13.5924 17.25 16.199 15.1705 16.998 12.3337L18.9866 10.9809C18.8862 12.7816 18.2253 14.4326 17.1755 15.7625C17.1862 15.7724 17.1967 15.7825 17.2071 15.7929L20.7071 19.2929C21.0976 19.6834 20.9301 20.0698 20.5884 20.4115C20.2467 20.7532 19.8602 20.9209 19.4697 20.5304L15.9697 17.0304L15.9569 17.0174C14.4804 18.2549 12.5772 19 10.5 19C5.80558 19 2 15.1944 2 10.5C2 5.80558 5.80558 2 10.5 2C11.5036 2 12.4666 2.17394 13.3605 2.49331C12.8982 2.94256 12.4561 3.4082 11.979 3.91252C11.503 3.80613 11.008 3.75 10.5 3.75C6.77208 3.75 3.75 6.77208 3.75 10.5C3.75 14.2279 6.77208 17.25 10.5 17.25ZM17.3245 8.40726C17.7732 7.95726 18.3216 7.61999 18.925 7.42281L18.9349 7.41883C19.2536 7.29099 19.6 7.15208 19.6 6.95003C19.6 6.74798 19.2536 6.60908 18.9349 6.48124L18.925 6.47725C18.3209 6.27824 17.7721 5.93901 17.3235 5.48716C16.8748 5.03532 16.5388 4.48359 16.3428 3.87694C16.2143 3.55459 16.0643 3.2 15.85 3.2C15.6357 3.2 15.4857 3.55459 15.3571 3.87694C15.1612 4.48359 14.8252 5.03532 14.3765 5.48716C13.9278 5.93901 13.3791 6.27824 12.775 6.47725C12.4536 6.60619 12.1 6.75662 12.1 6.95003C12.1 7.14344 12.4536 7.29387 12.775 7.42281C13.3783 7.61999 13.9267 7.95726 14.3754 8.40726C14.8241 8.85726 15.1605 9.40723 15.3571 10.0123C15.4857 10.3454 15.6357 10.7 15.85 10.7C16.0643 10.7 16.2143 10.3454 16.3428 10.0123C16.5394 9.40723 16.8758 8.85726 17.3245 8.40726Z" /></symbol>'});const ag=(0,Op.Z)(xp(),ig);let rg=new(Au())({id:"video-play_0be2--inline",use:"video-play_0be2--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="video-play_0be2--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.793 11.227a1.546 1.546 0 0 1 0 1.546 1.6 1.6 0 0 1-.5.513c-.133.091-.3.188-.462.282L7.71 20.564c-.161.094-.328.19-.473.26-.148.07-.394.176-.694.176a1.544 1.544 0 0 1-1.337-.773 1.603 1.603 0 0 1-.195-.69 7.51 7.51 0 0 1-.012-.54V5.003c0-.187 0-.38.012-.54.013-.164.045-.43.195-.69A1.544 1.544 0 0 1 6.544 3c.3 0 .546.105.694.176a7.5 7.5 0 0 1 .474.26l12.094 6.982.025.014c.162.094.329.19.462.282a1.6 1.6 0 0 1 .5.513Zm-2.18.773L6.965 5.275v13.45L18.613 12Z" /></symbol>'});const og=(0,Op.Z)(xp(),rg);var lg=n(1517),cg=n(74957);const dg={topControls:{ru:"Верхнее меню",_context:"Кнопки управления над фидом на главной"},video:{ru:"Видео",_context:"Кнопка видео в верхнем меню"},search:{ru:"Интересное",_context:'Кнопка "Поиск в Дзене" в верхнем меню'},create:{ru:"Создать",_context:"кнопка создать в верхнем меню"}},ug=((0,uo.Wh)(dg),(0,uo.bN)(dg)),mg={x:"left",y:"top",shifts:{top:44,left:4}},pg=e=>{var t;return{host:e.params.host||"",isAuthorized:null==(t=(0,k.IG)(e))?void 0:t.isAuthorized}},hg=(0,s.memo)((()=>{const{l10n:e}=(0,ar.$)(),t=(0,uo.bU)(),n=(0,Fn.Fg)(),{clientClick:a,clientShow:r}=(0,gd.n)(),o=(0,s.useCallback)((e=>{a(e,{place:"feed_header",itemType:"site_desktop"})}),[a]),l=(0,s.useCallback)((e=>{r(e,{place:"feed_header",itemType:"site_desktop"})}),[r]),{host:c,isAuthorized:d}=(0,Tn.v9)(pg,Tn.wU),u=(0,Tb.d)({host:c,inNewTab:!0,isMobile:!1}),{handleInteract:m}=(0,Ri.M2)(),p=(0,s.useMemo)((()=>[{url:`${c}video`,title:e("common.video"),icon:i().createElement(fr.P,{symbol:og,width:24,height:24}),onClick:()=>{},label:ug.video(t)},{url:`${c}discover?searchfocus=1`,title:"Поиск в Дзене",icon:i().createElement(fr.P,{symbol:ag,width:24,height:24}),onClick:()=>{},label:ug.search(t)}].map((({url:e,title:t,icon:n,onClick:s,label:a})=>i().createElement(nu._5,{key:e,className:ng,href:e,host:c,onClick:s,"aria-label":a},n,i().createElement("div",{className:sg},t))))),[c,e,t]),h=(0,s.useCallback)((e=>()=>{o("button.create"),e()}),[o]),b=(0,s.useCallback)((({toggle:e,containerRef:n})=>i().createElement("div",{className:ng,onClick:h(e),ref:n,"aria-label":ug.create(t)},i().createElement(fr.P,{symbol:lg.Z,width:24,height:24}),i().createElement("div",{className:sg},"Создать"))),[h,t]);return i().createElement("div",{className:ja()(eg),onClickCapture:m},i().createElement(fr.P,{symbol:op.Z,width:78,height:24,"aria-label":e("common.zen")}),i().createElement("div",{className:tg,"aria-label":ug.topControls(t)},d&&i().createElement(cg.o,{title:e("common.create"),l10n:e,theme:n===al.Y.dark?al.D.black:al.D.white,actions:u,className:ng,isCompact:!0,popupPosition:mg,withHover:!0,renderTrigger:b,logClick:o,logShow:l}),p))})),bg=(0,s.memo)((({product:e,className:t})=>{const n=(0,Tn.v9)((e=>e.distribution),yh.v);if(!n)return null;const s=null==n?void 0:n[e];return s?i().createElement("div",{key:e,className:t,dangerouslySetInnerHTML:{__html:s}}):null}));var gg=n(9278),vg=n.n(gg);class _g{static callRum(e,t){try{window.Ya.Rum[e](t)}catch(e){console.error(e)}}time(e){_g.callRum("time",e)}timeEnd(e){_g.callRum("timeEnd",e)}sendTimeMark(e){_g.callRum("sendTimeMark",e)}sendResTiming(e,t){try{window.Ya.Rum.sendResTiming(e,t)}catch(e){console.error(e)}}}const fg="yndx.zen.init",yg=new _g,wg=vg()((()=>{yg.sendTimeMark(fg)}));var kg=n(70059);const Sg={feed:{ru:"Лента Дзена",_context:""}},Eg=((0,uo.Wh)(Sg),(0,uo.bN)(Sg)),Cg=e=>({host:e.params.host||""}),Ig=()=>{const e=(0,s.useMemo)((()=>({feedType:cn.u5.Main})),[]),{feeds:t,feedId:n,createMissingFeed:a}=(e=>er(e,Pd))(e),r=((e,t)=>{const n=(0,Rn.vv)().feeds[e],[i,a]=(0,s.useState)(n),{globalBus:r}=(0,Rn.vv)(),[o,l]=(0,s.useState)(Ya(n,t));return i!==n&&(l(Ya(n,t)),a(n)),(0,s.useEffect)((()=>r.subscribe("feedStateChanged",(s=>{e===s&&l(n&&t(n.getState()))}))),[r,n,e,t]),o})(n,(e=>e.status)),{host:o}=(0,Tn.v9)(Cg,Tn.wU),l=(0,uo.bU)(),c=r||Kn.L.Pending,d=t[n],[u,m]=(0,s.useState)(!1),p=(0,s.useCallback)((()=>{switch(c){case Kn.L.Initial:case Kn.L.Pending:return i().createElement(Ja,null);case Kn.L.Success:return d?d.app:null;case Kn.L.Error:return i().createElement(sd,{onClick:a});default:return console.error("Invalid async state"),null}}),[a,d,c]),h=(0,s.useCallback)((e=>{m(e)}),[]);(0,Ri._l)(),(0,Qi.n)((()=>{wg()}));const b=(0,s.useMemo)((()=>i().createElement(cp,{isScrolled:u})),[u]),g=(0,s.useMemo)((()=>i().createElement(Db,{isScrolled:u,compactWidth:1366,isMorda:!0})),[u]),v=(0,s.useMemo)((()=>i().createElement(i().Fragment,null,i().createElement(Qb.O,{top:10,onVisible:h}),i().createElement(hg,null),i().createElement(wh,{className:Ha}),i().createElement("div",{className:za},i().createElement("div",{className:qa,"aria-label":Eg.feed(l)},p()),i().createElement(hh,{host:o})))),[l,o,h,p]),_=(0,s.useMemo)((()=>i().createElement(Jb,{isScrolled:u,isMorda:!0})),[u]),f=(0,s.useMemo)((()=>i().createElement(fh,{platform:Ar.t.desktop})),[]),y=(0,s.useMemo)((()=>({popup:i().createElement(bg,{product:"popup"}),teaser:i().createElement(bg,{product:"teaser",className:ja()(Ga,{[Wa]:u})}),splashscreen:i().createElement(bg,{product:"splashscreen"}),linkBro:i().createElement(bg,{product:"link_bro",className:$a})})),[u]);return i().createElement(i().Fragment,null,i().createElement(vl.g,{item:void 0,log:void 0,forceSendBulkEvents:void 0},i().createElement(kg.S,{header:b,leftColumn:g,content:v,rightColumn:_,isMorda:!0,yandexSearch:f,distributions:y})),i().createElement(sl,null),i().createElement(mp,null),i().createElement(dp.c,null),i().createElement(Uc,null))},Pg=document.querySelector(".content");if(!Pg)throw new Error("Element .content not found on the page");const{app:Tg,store:Rg,zenContext:Ag}=(({app:e,historyBaseName:t,translations:n,settings:s,initialState:a,globalBus:r,epics:o,modalRoutes:l,FeedComponent:d,dzenSearchInlineScript:u})=>{const m=(0,Ni.s7)(),{currentUrl:p}=s.params||{};if(!p)throw Error("settings.params should have currentUrl");const h=Oi({globalBus:r,currentUrl:p,historyBaseName:t,translations:n,settings:s,modalRoutes:l,FeedComponent:d,videoPlayersPool:new Ra.F,videoPlayersManager:new Ta.S,dzenSearchInlineScript:u}),b=ka({zenContext:h,tabId:m,epics:o,initialState:a});(0,Mi.up)(m,b),((e,t)=>{const{params:n}=t.getState();n.isWebview&&(e.zenkitApi=Mn(t))})(h,b),a?b.dispatch({type:c.HB,payload:{currentTime:Date.now()}}):b.dispatch(x(s,h)),h.videoPlayersManager.setSessionParams((0,Pa.j0)(b.getState()));const g=i().createElement(ta,{zenContext:h,app:e,store:b,translations:n});return Ia({globalBus:r,zenContext:h,store:b,tabId:m}),{app:g,store:b,zenContext:h}})({settings:window["__serverSettings__dzen-desktop_1.57.2__"],initialState:window["__serverState__dzen-desktop_1.57.2__"],translations:{"__LANG__":"ru","interview.final_title_web":"Спасибо за ответ!","desktop.ad_box":"реклама","common.share":"Поделиться","zen_subscriptions.content_personal_carousel.with_button.title":"Ваши подписки","zen_subscriptions.subscriptions_heads.title_v3":"Вот что есть ещё из подписок","zen_subscriptions.subscriptions_heads.title":"Ваши подписки в Дзене","zen_subscriptions.subscriptions_heads.more":"Показать ещё","zen_subscriptions.subscriptions_heads.minimize":"Свернуть","zen_subscriptions.subscriptions_heads.title_short":"Ваши подписки","profile.followers-zero":"подписчиков","profile.followers-one":"подписчик","profile.followers-two":"подписчика","profile.subscriptions-zero":"подписок","profile.subscriptions-one":"подписка","profile.subscriptions-two":"подписки","profile.subscriptions-five":"подписок","preferences.autoplay_title":"Автопроигрывание видео","publishers.s2s.design11.open_link":"Перейти на сайт","player.continue-after-ad":"Ролик начнётся после рекламы","player.skip-ad-short":"Пропустить","player.ad-skip-countdown-short":"Пропустить через {{remainingTime}}","common.stop_and_go.open-modal":"Открыть ленту видео","common.stop_and_go.button-replay":"Посмотреть еще раз","common.stop_and_go.button-play":"Смотреть дальше","common.stop_and_go.button-link":"Перейти на сайт","common.short-video.badge_caption":"Еще больше видео\nв новом разделе","common.stop_and_go.watch-full":"Смотреть в полном экране","player.skip-ad":"Вернуться к просмотру","player.ad-skip-countdown":"Продолжить просмотр через {{remainingTime}}","desktop.ad_survey":"Опрос","desktop.ad_social_box":"Соцреклама","common.details.unfold":"еще","desktop.subscribe":"Подписаться","channel.channel.you_subscribed":"Вы подписаны","common.covid-19.message":"Изучите данные о COVID-19 от Яндекса","feedback.complaints.text.notInterested":"Не интересуюсь этой темой","feedback.complaints.text.annoying":"Навязчиво или надоело","feedback.complaints.text.spam":"Сомнительного содержания или спам","feedback.complaints.text.notInterestedSocialAd":"Неинтересная тема","feedback.complaints.text.politicalSocialAd":"Политическая реклама","feedback.complaints.text.shockingContentSocialAd":"Шокирующий контент","feedback.complaints.text.falseInfoSocialAd":"Недостоверная информация","feedback.complaints.title":"Скрыть объявление","feedback.complaints.subtitle":"Укажите причину","feedback.cancel":"Отменить","onboarding.yabro_interests_retry":"Обновить","zen_subscriptions.login_popup.login_for_subscribe":"Чтобы подписаться<br>на&nbsp;$1, авторизуйтесь","zen_subscriptions.login_popup.channel":"канал","zen_subscriptions.login_popup.move_your_subscriptions":"А мы перенесём все ваши прежние&nbsp;подписки, чтобы вы ничего&nbsp;не&nbsp;пропустили","zen_subscriptions.login_popup.login":"Войти","zen_subscriptions.login_popup.subscribe_another_time":"Подпишусь в другой раз","zen_poll.login_popup.login_for_vote":"Чтобы проголосовать, авторизуйтесь","zen_poll.login_popup.login":"Войти","zen_poll.login_popup.vote_another_time":"Проголосую в другой раз","common.luring-into-video-modal.sound-short":"Смотрите со звуком","common.login_popup.not_lose_subscriptions2":"Не потеряйте подписки","common.login_popup.auth_after_subscribe":"Ваши подписки в Дзене останутся с&nbsp;вами, если вы войдёте со&nbsp;своим&nbsp;Яндекс ID","common.login_popup.login_to_subscribe":"Войдите,&nbsp;чтобы&nbsp;подписываться на&nbsp;любимых&nbsp;авторов и&nbsp;комментировать&nbsp;материалы","zen_subscriptions.other_collections":"Другие подборки","mobile.video.call-to-subscribe.dont-lose":"Не пропустите новые видео автора","desktop.video.call-to-subscribe.dont-lose":"Не пропустите новые видео автора","desktop.feed.updating":"Обновляем ленту","channel.subscribe_promo.primary":"Если нравится — подпишитесь","channel.subscribe_promo.secondary_mobile":"Так вы не пропустите новые публикации","channel.subscribe_promo.secondary":"Так вы не пропустите публикации от этого блогера","feedback.subscribed":"Вы подписаны","channel.source_subscribe":"Подписаться","api.v3.launcher.loading_new_pack_text":"Лента загружается","zen_subscriptions.refresh_feed_button.show_new":"Показать новое","desktop.unsubscribe":"Вы подписаны","saved.empty.text":"Сохраняйте сюда то, что хотите посмотреть позже или не хотите потерять","saved.empty.button_text":"Перейти в ленту","common.data_was_not_loaded":"Данные не загрузились. Давайте это исправим","common.retry_load_zenlib":"Попробовать снова","header.empty":"Новых публикаций пока нет","common.loading":"Загрузка...","profile.interests-title":"Интересы","preferences.channels":"Каналы","preferences.users":"Пользователи","search.submit_text":"Найти","publishers.editor.share_draft.field_recipients_button":"Очистить","common.zen":"Дзен","search.open_arrow":"Открыть поисковую строку","search.yandex_placeholder":"Поиск Яндекса","search.yandex_search":"Найти","navigate_bar.my_channel_login":"Войти в канал","left-sidebar.create-zen":"Создать в Дзене","left-sidebar.create":"Создать","desktop.all_about_zen":"Всё о Дзене","profile.editor-caption-privacy":"Конфиденциальность","preferences.eula":"Пользовательское соглашение","common.video":"Видео","common.create":"Создать","interview.morda_poll_options_send":"Отправить","video.live.cancelled":"Автор отменил прямой эфир","video.live.finished":"Прямой эфир завершен","video.live.subscribe.part1":"Подпишитесь на страницу","video.live.subscribe.part2":"чтобы не пропустить следующие эфиры","common.lives-broadcasts-are-over":"Прямые эфиры закончились","common.video-feed-collected":"Зато есть лента с видео - собрали её специально для вас","site.feedback.user_question.thanks":"Спасибо за помощь!","common.short_video":"Ролики","common.show_more_short_video":"Смотреть больше роликов","common.hide_short_video":"Ролики скрыты","common.expand2":"ещё","common.more_from_subscriptions":"Ещё из подписок","showcase.view_all":"Посмотреть всю подборку","comments.pinned":"закреплено","zen_subscriptions.promo_publishers_carousel.show_more":"Показать больше","search.search_publishers_title":"Каналы","suggest.headers.empty_list":"Ничего не найдено","search.search_redesign_more_fold":"Показать больше","search.search_redesign_more_loading":"Загружаем материалы...","zen_subscriptions.channel_is_hidden":"Канал скрыт","channels.muted_channel_text":"Вы будете меньше видеть похожих каналов у себя в ленте","common.close":"Закрыть","publishers.editor.live.live_chat":"Чат трансляции","common.video_live_stream_label_new":"В Эфире","video-viewer.ago":"назад","common.context-menu":"Контекстное меню","common.video_card.menu.like":"Показывать больше такого","common.video_card.menu.unlike":"Будем показывать больше такого","common.video_card.menu.dislike":"Показывать меньше такого","common.video_card.menu.undislike":"Будем показывать меньше такого","channel.channel.block":"Заблокировать","channel.source_block_description":"Больше не показывать публикации","channel.channel.unblock":"Разблокировать канал","blocked.publisher.title":"Канал заблокирован","site.feedback.reaction.disliked.title":"Публикация скрыта","blocked.publisher.message":"Вы будете видеть меньше таких публикаций у себя в ленте","site.feedback.reaction.disliked.message":"Вы будете видеть меньше подобных публикаций у себя в ленте","site.feedback.cancel":"Отменить","video-viewer.cancel-blocking":"Отменить блокирование","video-viewer.cancel":"Отменить","video-viewer.dislike":"Не нравится","desktop.related_videos":"Похожие видео","desktop.video.no_docs":"Не удалось загрузить рекомендуемые видео","desktop.next_video":"Следующее видео","desktop.cancel":"Отмена","common.tutorial_video_control":"Нажмите Space для паузы/воспроизведения. Управляйте громкостью с помощью ↑  ↓, отключить звук - M. Перематывайте видео ← →.","video-viewer.interest":"Интерес","common.details.fold":"Свернуть","mobile.card_channel_info.description.by_subscribes":"вы подписаны","channel.terms_of_use.tooltip_title_sharing_allowed":"Использование данных разрешено","channel.terms_of_use.tooltip_title_sharing_not_allowed":"Использование данных запрещено","channel.terms_of_use.agree_to_share_data.custom":"Владелец канала разрешает третьим лицам распространять его персональные данные, находящиеся в общем доступе, на следующих условиях: {{termsOfUse}}","channel.terms_of_use.disagree_to_share_data":"Владелец канала пока не разрешил третьим лицам распространять его персональные данные, находящиеся в общем доступе","publishers.buttons.ok":"Понятно","comments.tooltip-like":"Нравится","comments.tooltip-dislike":"Не нравится","common.no_comments_yet":"Пока нет комментариев","desktop.more_videos":"Смотрите далее","common.covid-19.full-message":"Изучите проверенные данные о COVID-19 от Яндекса  ","common.ad_video_arrow_text":"Листая дальше, вы перейдете на страницу","common.short-qr.title":"Скачайте приложение «Дзен»","common.short-qr.camera":"Наведите камеру телефона на QR-код","common.short-qr.store":"Или скачайте приложение из магазина","common.short.open-qr":"Скачать приложение","mobile.video.unmute":"Включить звук","mobile.video.mute":"Выключить звук","video-viewer.volume-control":"Регулятор громкости","video-viewer.volume":"Громкость","left-sidebar.more-subscriptions":"Ещё из подписок","subs.my":"Мои","navigate_bar.subs":"Подписки","subs.empty":"У вас пока нет подписок","subs.other-empty":"Подписок пока нет или пользователь предпочёл скрыть их","blocked.desktop.failure":"Данные не загрузились","suggest.failure":"Результаты поиска не загрузились","suggest.channel_placeholder":"Поиск каналов","blocked.empty":"У вас пока нет заблокированных каналов","preferences.blocked":"Заблокированное","blocked.desktop.title":"Заблокированные каналы","feedback.complain_reason":"Причина жалобы","feedback.complaint.form.interest":"Интерес","feedback.complaint.form.channel":"Канал","feedback.complaint.form.contains":"содержит:","feedback.complain_send":"Отправить","feedback.official_complain_url_text":"Сообщить о нарушении прав","channel.source_block":"Заблокировать","channel.source_unblock":"Разблокировать","channel.channel.complain":"Пожаловаться","publishers.gallery.adult_text":"Эта картинка кажется неуместной, поэтому мы решили ее скрыть","publishers.gallery.slider_show":"Показать","common.adult-text-warn":"Текст подходит не для всех читателей","zen_subscriptions.more":"Ещё","zen_subscriptions.more_authors":"Ещё авторы","publishers.share.embed.link.title":"Прямая ссылка","publishers.share.embed.link.caption":"Поделиться у себя в соцсетях","publishers.share.embed.code.title":"Код публикации","publishers.share.embed.code.caption":"Красиво встроить публикацию Дзена на вашем сайте","publishers.share.embed.settings.autoplay":"Автостарт","publishers.share.embed.settings.controls":"Показывать элементы управления","publishers.share.embed.popup.title":"Встроить на сайт","desktop.share.copied":"Скопировано","comments.menu-copy-link":"Скопировать ссылку","desktop.share.copy":"Скопировать","desktop.share.repost":"Репостнуть","desktop.share.embed":"Встроить","desktop.share.another":"Еще","desktop.share.facebook":"Facebook","desktop.share.ok":"Одноклассники","publishers.social_networks.vk":"ВКонтакте","publishers.social_networks.whatsapp":"WhatsApp","social.twitter":"Twitter","publishers.social_networks.telegram":"Telegram","feedback.menu.block.title_v3":"Скрыть все публикации канала","feedback.menu.complain.title":"Пожаловаться","feedback.menu.dislike.title":"Не нравится","feedback.menu.dislike.subtitle":"Показывать меньше подобных публикаций","feedback.menu.save":"Сохранить","feedback.menu.saved":"В сохранённом","saved.error":"Не получилось! Попробуйте ещё раз","comments.menu-edit-comment":"Редактировать","channel.unpin_publication":"Открепить публикацию","channel.pin_publication":"Закрепить публикацию","comments.menu-remove-comment":"Удалить","channel.publication_pin_up":"Поднять наверх","channel.publication_pin_down":"Опустить вниз","channel.add_to_suite":"Добавить в подборку","channel.remove_from_suite":"Убрать из подборки","feedback.menu.subscribe.title_v2":"Подписаться","feedback.menu.subscribe.subtitle":"Вы будете видеть больше публикаций «$1»","feedback.menu.unsubscribe.title_v2":"Отписаться","feedback.menu.unsubscribe.subtitle":"Вы будете видеть меньше публикаций «$1»","feedback.block.subtitle_v2":"Вы больше не будете видеть публикации канала «$1» в ленте","common.like":"Нравится","common.dislike":"Не нравится","common.to_comment":"Комментировать…","feedback.complain_violence":"Насилие, шок-контент","feedback.complain_fake":"Ложная информация или фейк","feedback.complain_insulting":"Враждебные или оскорбительные высказывания","feedback.complain_porno":"Непристойное содержание, порнография","feedback.complain_other":"Другое","feedback.complain_old":"Устаревшая информация","feedback.complain_misleading":"Содержание не соответствует заголовку или фото на карточке","feedback.complain_advertising":"Много рекламы","feedback.video":"С видео","feedback.audio":"С аудио","feedback.complain_tragic":"Трагичный контент","feedback.complain_hatespeech":"Враждебные или оскорбительные высказывания","feedback.complain_adult":"Контент 18+","feedback.complain_clickbait":"Умышленный обман и заголовок для привлечения внимания","feedback.complain_spam":"Спам и незаконный контент","feedback.complain_medicine":"Самолечение и вред здоровью","feedback.complain_covid-19":"Недостоверная информация про коронавирус","common.video_unavailable":"Видео недоступно","channel.channel.share":"Поделиться","comments.close":"Закрыть","common.video_live_stream_label":"Прямой эфир","channel.channel.subscribers_1":"%d подписчик","channel.channel.subscribers_2":"%d подписчика","channel.channel.subscribers_5":"%d подписчиков","publishers.card.stat.view":"просмотр","publishers.card.stat.views_2":"просмотра","publishers.card.stat.views":"просмотров","profile.followers-five":"подписчиков","desktop.card.menu_button":"Меню","feedback.block_source":"Не интересно","v2.back":"Назад","publishers.editor.create_brief":"Написать пост","publishers.editor.create_article":"Написать статью","publishers.editor.create_video":"Загрузить видео","publishers.editor.create_live":"Начать прямой эфир","publishers.s2s.resume":"Продолжить просмотр","publishers.card.go_to_site":"Подробнее на сайте","common.live_donate.title":"Нравится трансляция? Поддержите блогера!","common.live_donate.button_text":"Поддержать","showcase.advice":"советует","showcase.subscribed":"Вы подписаны","showcase.subscribe":"Подписаться","video-viewer.fullscreen":"Полноэкранный просмотр","video-viewer.volume-mute":"Выключить звук","video-viewer.volume-unmute":"Включить звук","desktop.video.pause":"Пауза","desktop.video.play":"Воспроизвести","desktop.video_player.load_error":"Видео не удалось загрузить.","desktop.video_player.load_try_again":"Попробуйте ещё раз","common.channel_live_on_air":"В эфире","common.return_to_on_air_title":"Вернуться в эфир","player.quality.auto":"Авто","player.video-track-quality":"Качество","player.playback-rate-long":"Скорость воспроизведения","player.normal-rate":"Обычная","video-viewer.video-settings":"Настройки воспроизведения","video-viewer.exit-from":"Выйти из","video-viewer.playback-quality-menu":"Настройки качества воспроизведения","player.playback-rate":"Скорость","player.report-problem":"Сообщить о проблеме","common.video_live_finished_stream_label":"Прямой эфир завершен","player.next-ad-countdown":"Реклама начнётся через {{remainingTime}}","player.subtitles":"Субтитры","player.subtitles-off":"Отключены","desktop.video.unmute":"Включить звук","desktop.video.mute":"Выключить звук","mobile.video.no_sound":"Видео без звука","feedback.complain.back_to_feed":"Вернуться в ленту","feedback.complaint.submit":"Отправить жалобу","feedback.complaint.received":"Мы получили вашу жалобу","feedback.complaint.care":"Без внимания её не оставим","feedback.complaint.ask-feedback-channel":"Расскажите, что не так с каналом","feedback.complaint.ask-feedback":"Расскажите, что не так с публикацией","common.subscribe-banner-text2":"Не пропустите новые публикации","feedback.complain":"Пожаловаться","feedback.block.block_button":"Скрыть все публикации канала","feedback.unblock_source":"Разблокировать источник","feedback.feedback_to_dislike_title":"Публикация скрыта","feedback.fewer_similiar_posts_message":"Теперь вы будете видеть меньше подобных публикаций у себя в ленте","zen_subscriptions.recommendations_channels.expand_channels":"Показать больше","zen_subscriptions.recommendations_channels.collapse_channels":"Показать меньше"},globalBus:new N,modalRoutes:Va,FeedComponent:Pd,epics:Ti,app:i().createElement(Ig,null)});delete window["__serverState__dzen-desktop_1.57.2__"],delete window["__serverSettings__dzen-desktop_1.57.2__"],(({app:e,container:t,outputBus:n,ssr:s=!1})=>{const i=()=>{n&&n.emit("firstPaint")};s?r().hydrate(e,t,i):r().render(e,t,i)})({app:Tg,container:Pg,ssr:!0}),((e,t)=>{const{zenApi:n}=t,{params:s}=e.getState(),{currentUrl:i,bulk:a}=s;if(!i)throw Error("currentUrl should be in app state");const r=(0,Pe.rz)(i),o=r.from_page,l=r.after_login_subscribe,c=r.after_login_like;o&&(0,me.HD)(o)&&(e=>{const{pageParam:t,zenApi:n,bulkParams:s}=e;xa[t]&&n.logBulkEvents((0,Aa.q)("login_suggest:auth"),{bulkParams:s,bulkReplaceMap:{__place_param__:"feed_header",__item_id__:xa[t],__item_type__:"interface_element"}})})({pageParam:o,zenApi:n,bulkParams:a.bulk_params}),l&&e.dispatch((0,Ea._g)(l,Oa.D.Subscribe)),c&&e.dispatch((0,Ea._g)(c,Oa.D.Like))})(Rg,Ag)},32955:(e,t,n)=>{"use strict";let s,i;n.d(t,{f:()=>s}),function(e){e.Long="long",e.Short="short",e.s2s="s2s",e.Live="live"}(s||(s={})),function(e){e.Shorts="shorts",e.Lives="lives",e.Video="video"}(i||(i={}))},67991:(e,t,n)=>{"use strict";n.d(t,{B:()=>L,S:()=>D});var s=n(85340),i=n(26347),a=n(86826),r=n(46821),o=n(30373),l=n(78147),c=n(51780),d=n(40352);const u=(0,c.v)({id:a.Z_,type:(0,d.i)("message"),title:a.Z_,autoCloseTimeout:(0,l.w)(a.Rx),bulkParams:a.Z_});var m=n(62993),p=n(72034),h=n(88392),b=n(249),g=n(55742);const v=(0,o.I)((0,m.R)({image:(0,m.R)({link:a.Z_})})),_=(0,c.v)({type:(0,p.d)("card","gif","short_video","gallery","brief"),title:(0,l.w)(a.Z_),source:b.Hw,bulkParams:a.Z_,link:a.Z_,image:(0,l.w)(a.Z_),mentions:(0,l.w)((0,o.I)(g.p)),text:(0,l.w)(a.Z_),richText:(0,l.w)(h.x),publicationDate:(0,l.w)(a.Z_),creationTime:(0,l.w)(a.Z_),items:(0,l.w)(v)}),f=(0,s.Ry)({id:s.Z_,imageSrc:(0,s.wY)(s.Z_),imageActiveSrc:(0,s.wY)(s.Z_),nextScreenId:(0,s.wY)(s.Z_)}),y=(0,s.Ry)({text:s.Z_,nextScreenId:(0,s.wY)(s.Z_)}),w=(0,s.Ry)({id:s.Z_,type:(0,s.i0)("gradation_stars"),title:s.Z_,subtitle:(0,s.wY)(s.Z_),answers:(0,s.IX)(f),skipButton:(0,s.wY)(y),publication:(0,s.wY)(_),bulkParams:s.Z_}),k=(0,s.Ry)({id:s.Z_,title:s.Z_,imageSrc:s.Z_,nextScreenId:(0,s.wY)(s.Z_)}),S=(0,s.Ry)({id:s.Z_,type:(0,s.i0)("single_choice_image"),title:s.Z_,subtitle:(0,s.wY)(s.Z_),answers:(0,s.IX)(k),publication:(0,s.wY)(_),bulkParams:s.Z_}),E=(0,c.v)({id:a.Z_,title:a.Z_,nextScreenId:(0,l.w)(a.Z_)}),C=(0,c.v)({id:a.Z_,type:(0,d.i)("radio_choice_text"),title:a.Z_,subtitle:(0,l.w)(a.Z_),answers:(0,o.I)(E),publication:(0,l.w)(_),bulkParams:a.Z_}),I=(0,s.Ry)({id:s.Z_,title:s.Z_}),P=(0,s.Ry)({text:s.Z_,nextScreenId:(0,s.wY)(s.Z_)}),T=(0,s.Ry)({id:s.Z_,type:(0,s.i0)("multi_choice_text"),title:s.Z_,answers:(0,s.IX)(I),minAnswersError:s.Z_,minAnswersCount:s.Rx,submitButton:P,publication:(0,s.wY)(_),bulkParams:s.Z_});var R=n(46591);const A=(0,s.Ry)({id:s.Z_,imageSrc:(0,s.wY)(s.Z_),imageActiveSrc:(0,s.wY)(s.Z_),nextScreenId:(0,s.wY)(s.Z_),title:s.Z_}),x=(0,s.Ry)({id:s.Z_,type:(0,s.i0)("gradation_choice_image"),title:s.Z_,subtitle:(0,s.wY)(s.Z_),answers:(0,s.IX)(A),bulkParams:s.Z_,minAnswerTitle:s.Z_,maxAnswerTitle:s.Z_,defaultAnswerId:s.Z_}),O=(0,i.kS)("type",{message:u,gradation_stars:w,single_choice_image:S,radio_choice_text:C,multi_choice_text:T,gradation_choice_image:x}),N=(0,c.v)({eventName:a.Z_,itemId:(0,l.w)(a.Z_),count:a.Rx}),M=(0,c.v)({itemId:a.Z_,offset:a.Rx}),L=(0,c.v)({showOnPosition:a.Rx,screenMap:(0,r.I)(O),initialScreenId:a.Z_,eventConditionsShow:(0,l.w)((0,o.I)(N)),itemBasedPosition:(0,l.w)(M)}),D=(0,c.v)({screens:(0,r.I)(O),initialScreenId:a.Z_,bulkParams:a.Z_,type:(0,s.d_)(R.qG.INTERVIEW)})},82061:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});const s=e=>{const t=window.Ya&&window.Ya.Rum;if(!t||!t.makeSubPage||!t.getTime)return{sendTimeMark:()=>{},onLoadStart:()=>{},onRenderEnd:()=>{},sendTTI:()=>{}};const n=t.makeSubPage(e,t.getTime());return{sendTimeMark(e=[]){const s=e.join(".");t.sendTimeMark(s,t.getTime(),!1,n)},onLoadStart(e=[]){this.sendTimeMark(["1724",...e])},onRenderEnd(e=[]){this.sendTimeMark(["2046",...e])},sendTTI(){n&&t.sendTTI(!1,t.getTime(),n)}}}},86942:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});const s=(e,t)=>{if(e&&t)return{pixelUrl:t.adPixelsLink,pixelStaticData:{dspId:e.dspId,sessionId:e.sessionId,ab:t.ab,userAgent:t.userAgent,reqId:t.reqId}}}},7027:(e,t,n)=>{"use strict";n.d(t,{h:()=>h});n(14072),n(53208);var s=n(63843),i=n(23268),a=n(87363),r=n(88211),o=n(65066),l=n(32682),c=n(62781),d=n(79538);const u=Math.random()>1;var m=n(66274);const p=e=>{const t=u?"":"__ADB_FUNCTIONS__";let n=e;return"string"!=typeof t&&t.fn&&"function"==typeof t.fn.encodeUrl&&(n=t.fn.encodeUrl(e)),(0,m.N)(n)},h=({adErrorFilterRatio:e,adId:t,allowRepeatAds:n,bidFloor:u,blockId:m="",slotId:h="",cspNonce:b,darkTheme:g,data:v,domElementId:_,dzenExpIds:f,isOpenedModal:y,isPlayerPreloadingQueueEnabled:w=!1,itemOrder:k,loadJs:S,pCodeLoaderBundleUrl:E,pageNumber:C,statId:I="",siteTheme:P,skipToken:T,videoPlayerSettings:R,videoPlayersPool:A,onAdStart:x,onAdVideoEnd:O,onAltCallback:N,onBeforeLoad:M,onClick:L,onError:D,onHide:B,onPrepareLoad:F,onDirectRender:Z,onMyTargetRender:V,adPreloadParams:U,yandexuid:j})=>{const{zenLogger:z}=(0,i.vv)(),[H,q]=(0,a.useState)(!1),$=(0,a.useRef)(!1),G=(0,a.useRef)(null),W=(0,a.useRef)(!1),Y=(0,a.useRef)(null),K=(0,a.useRef)(null),X=(0,a.useRef)(null),J=(0,a.useRef)(null),[Q,ee]=(0,o.O)(y),te=(0,a.useCallback)((()=>{var e;null==(e=X.current)||e.disconnect()}),[]),ne=(0,a.useCallback)((([e])=>{const t=e.isIntersecting;var n;t&&!K.current?K.current=setTimeout((()=>{q(!0),te()}),null!=(n=null==U?void 0:U.advertPreloadDelay)?n:0):t||null===K.current||(clearTimeout(K.current),K.current=null)}),[te,null==U?void 0:U.advertPreloadDelay]);(0,l.Z)((()=>{if(null!=U&&U.advertPreloadEnabled){var e,t;const s=null!=(e=null==(t=window)?void 0:t.innerHeight)?e:0,i=void 0!==(null==U?void 0:U.advertPreloadOffset)?U.advertPreloadOffset*s:0;var n;if(X.current=new IntersectionObserver(ne,{rootMargin:`${i}px 0px ${i}px 0px`}),J.current)null==(n=X.current)||n.observe(J.current);return()=>{te()}}}));const{lang:se}=(0,r.$)(),ie=()=>{if(!Y.current)return;const{getAdPlayingState:e,resumeAd:t,playAd:n}=Y.current;"idle"===e()?n():t()},ae=(0,c.m)((()=>{W.current=!0,ie()})),re=(0,c.m)((()=>{W.current=!1,Y.current&&Y.current.pauseAd()})),oe=(0,c.m)((()=>{if(!Y.current)return;const{getAdPlayingState:e,pauseAd:t,playAd:n}=Y.current,i=e();i!==s.AdVideoPlayingState.PAUSE&&i!==s.AdVideoPlayingState.PLAY&&(n(),t())})),le=(0,c.m)((e=>{Y.current=e,e.subscribe("AdStopped",(()=>{O&&O()})),G.current?W.current&&ie():(()=>{if(A&&k&&R){const{setIsVisible:e}=A.createNewPlayer({index:k,countPlayersBefore:R.countPlayersBefore,countPlayersAfter:R.countPlayersAfter,isPlayerPreloadingQueueEnabled:w,handlers:{onAutoplay:ae,onAutopause:re,onFocus:oe}});e($.current),G.current={setIsVisible:e}}})()}));(0,d.m)((()=>ee),(e=>{$.current=Boolean(e),G.current&&G.current.setIsVisible(e)}));const ce=(0,a.useMemo)((()=>{if(t||void 0!==u||f)return(e=>{const t={};for(const[n,s]of Object.entries(e))null!=s&&(t[n]=s);return t})({"mobile-ifa":t,"bid-floor":u,"dzen-exp-ids":f})}),[t,u,f]),de=(0,a.useMemo)((()=>v?{data:v,skipToken:T}:{}),[v,T]),ue=(0,a.useCallback)((({message:t,method:n,additional:s})=>{Math.random()<e&&z.error({message:t,details:Object.assign({method:n},s,{blockId:m,statId:I})})}),[e,z,m,I]),me=void 0;return{adData:(0,a.useMemo)((()=>({advertIndex:C,directOptions:Object.assign({blockId:m,statId:I,allowRepeatAds:n,domElementId:_,domElementIdAttr:me,cspNonce:b,lang:se,extParams:ce,siteTheme:P,darkTheme:g,pCodeLoaderBundleUrl:E?p(E):void 0,loadJs:S,videoCallbacks:{onVideoInit:le,onAdStart:x},onAdRender:Z},de),myTargetOptions:{slotId:h,onAdRender:V,dzenUid:j},onNoAd:N,onAdError:D,onAdClick:L,onAdHide:B})),[n,m,b,g,de,_,me,ce,se,S,x,N,L,Z,D,B,V,le,E,C,P,h,I,j]),canLoad:H||!(null!=U&&U.advertPreloadEnabled),onBeforeLoad:M,onPrepareLoad:F,logger:ue,playerVisibilityRef:Q,preloadVisibilityRef:J}}},49090:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});const s=(...e)=>(t,n)=>e.reduce(((e,t)=>t(e,n)),t)},13055:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,$:()=>o});var s=n(68360),i=n(43756),a=n(73119);const r=(0,s.DD)({actionType:i.eB,dataReducer:(e={ids:[],sources:{}},t,n)=>{if(t.type===i.eB){if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==a.L.Success)return e;const s=t.payload.value;if(s){const t=s.filter((e=>"blocked"===e.status));return{ids:t.map((e=>e.id)),sources:t.reduce(((e,t)=>Object.assign({},e,{[t.id]:t})),Object.assign({},e.sources))}}return e}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case i.SX:{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case i.D7:case i.LU:case i.cT:{const n=t.payload.id,s=e.ids.indexOf(n);return-1!==s?Object.assign({},e,{ids:[...e.ids.slice(0,s),...e.ids.slice(s+1)]}):e}}return e}}),o=e=>(0,s.p9)(r,e)},65201:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,l:()=>o});var s=n(68360),i=n(43756),a=n(73119);const r=(0,s.DD)({actionType:i.xl,dataReducer:(e={ids:[],sources:{}},t,n)=>{if(n!==("payload"in t&&t.payload&&"object"==typeof t.payload&&"id"in t.payload&&t.payload.id))return e;switch(t.type){case i.xl:{if(t.payload.status!==a.L.Success)return e;const n=t.payload.value;return n?{ids:n.map((({id:e})=>e)),sources:n.reduce(((e,t)=>Object.assign({},e,{[t.id]:t})),{})}:e}case i.D7:{const n=t.__data__&&t.__data__.selfUserId;if(void 0===n)return e;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case i.LU:case i.SX:case i.cT:{const n=t.__data__&&t.__data__.selfUserId;if(void 0===n)return e;const s=e.ids.indexOf(n);return-1!==s?Object.assign({},e,{ids:[...e.ids.slice(0,s),...e.ids.slice(s+1)]}):e}}return e}}),o=e=>(0,s.p9)(r,e)},59995:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,i:()=>o});var s=n(68360),i=n(43756),a=n(73119);const r=(0,s.DD)({actionType:i.wJ,dataReducer:(e=null,t,n)=>{const s=t.payload&&(t.payload.publicId||t.payload.id),r=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case i.D7:{const t=Object.assign({},e);return n===r?t.subscriptionCount++:n===s&&t.followerCount++,t}case i.LU:case i.SX:case i.cT:{const t=Object.assign({},e);return n===r?t.subscriptionCount--:n===s&&t.followerCount--,t}}if(n!==s)return e;switch(t.type){case i.wJ:if(t.payload.status===a.L.Success){return Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp})}return e;case i.qC:if(null!==e)return Object.assign({},e,{privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case i.SG:return t.payload.profile;default:return e}}}),o=e=>(0,s.p9)(r,e)},13340:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,k:()=>o});var s=n(68360),i=n(43756),a=n(73119);const r=(0,s.DD)({actionType:i.RA,dataReducer:(e={ids:[],sources:{}},t,n)=>{if(t.type===i.RA){if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==a.L.Success)return e;const s=t.payload.value;if(s){const t=s.filter((e=>"subscribed"===e.status));return{ids:t.map((({id:e})=>e)),sources:t.reduce(((e,t)=>Object.assign({},e,{[t.id]:t})),Object.assign({},e.sources))}}return e}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case i.D7:{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case i.LU:case i.SX:case i.cT:{const n=t.payload.id,s=e.ids.indexOf(n);return-1!==s?Object.assign({},e,{ids:[...e.ids.slice(0,s),...e.ids.slice(s+1)]}):e}}return e}}),o=e=>(0,s.p9)(r,e)},73246:(e,t,n)=>{"use strict";n.d(t,{pu:()=>p,rC:()=>g});var s=n(49090),i=n(59995),a=n(13340),r=n(13055),o=n(65201),l=n(43756);const c={id:"",state:{status:"inactive"}},d=e=>({id:e,state:{status:"inactive"}});var u=n(20971),m=n(79382);const p=e=>({profile:(0,i.i)(e),subscriptions:(0,a.k)(e),blocked:(0,r.$)(e),followers:(0,o.l)(e),notifications:d(e)}),h={profile:i.f,subscriptions:a.f,blocked:r.S,followers:o.g,notifications:(e=c,t)=>("payload"in t&&t.payload&&"object"==typeof t.payload&&"id"in t.payload&&t.payload.id)!==e.id?e:t.type===l.Ue?Object.assign({},e,{state:t.payload.state}):e},b=(0,u.UY)(h),g=(0,m.g)((0,s.v)(((e={},t)=>{if(t.type===l.jN){const{userId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:p(n)})}return e}),((e,t)=>{const n={};return Object.keys(e).forEach((s=>{const i=e[s],a=b(i,t);n[s]=a})),n})),{})},63138:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var s=n(32034),i=n(88144),a=n(56720);const r=(0,s.P1)((e=>(0,i.a)(e).channel4.isSuitesEnabled),a.jA,((e,t)=>e&&t))},37884:(e,t,n)=>{"use strict";n.d(t,{zk:()=>a,aM:()=>r,hM:()=>o});var s=n(32034);const i=e=>e.params.clientExperiments||[],a=(0,s.P1)(i,(e=>e.includes("zen_separate_video_bundle_preload_init:exp"))),r=(0,s.P1)(i,(e=>e.includes("zen_separate_video_bundle_preload_hover:exp"))),o=(0,s.P1)(i,(e=>e.includes("zen_force_slowdown:exp")))},54291:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var s=n(37828),i=n(37471);const a=()=>(0,i.v9)((e=>({bulkParams:e.params.bulk.bulk_params})),s.v)},52757:(e,t,n)=>{"use strict";n.d(t,{ci:()=>u,Z:()=>m,jv:()=>h});var s=n(81235),i=n(10253),a=n(89993),r=n(82204),o=n(48422),l=n(9395);const c=(0,r.v)({hackPreload:(0,o.O7)(!1),countPlayersBefore:(0,o.Rx)(0),countPlayersAfter:(0,o.Rx)(0),apiName:(0,l.d)(["vh","sandbox"],"sandbox"),maxBufferLength:(0,o.Rx)(7),isLockedFirstPlayerInVideoFeed:(0,o.O7)(!1),isMovePlayerCheckExists:(0,o.O7)(!1),withAdCountdown:(0,o.O7)(!1),withPlaybackRateControl:(0,o.O7)(!1),skipAllAdPods:(0,o.O7)(!1),isNativePreload:(0,o.O7)(!0),isForceMutedWhenInline:(0,o.O7)(!1),isPreloadOptimizationEnabled:(0,o.O7)(!0),isShowingThePlayerWaitsUntilTheStart:(0,o.O7)(!1),restorePlaybackProgress:(0,o.O7)(!1),withSubtitlesControl:(0,o.O7)(!1),autoplayDebouncedTimeout:(0,o.Rx)(0),autoplayDurationLimitEnable:(0,o.O7)(!1),autoplayDurationLimitSeconds:(0,o.Rx)(0),autoplayMode:(0,l.d)(["zen+player","zen","player"],"zen+player")});var d=n(15317);const u=!1,m=120,p=(0,i.j6)({isEnabled:(0,i.Xg)(u),timeoutInSeconds:(0,i.OK)(m)}),h=(0,i.j6)({adQueue:(0,i.UW)((0,i.j6)({enabled:(0,i.Xg)(),size:(0,i.OK)(10),ttl:(0,i.OK)(36e5)})),rumSettings:(0,i.j6)({sendClientUa:(0,i.Xg)(!0),sendUrlInResTiming:(0,i.Xg)(!0),sendAutoResTiming:(0,i.Xg)(!0),sendAutoElementTiming:(0,i.Xg)(!1),sendFirstRaf:(0,i.Xg)(!1),disableOnLoadTasks:(0,i.Xg)(!1),periodicStatsIntervalMs:(0,i.OK)(15e3),maxTrafficCounters:(0,i.OK)(250),maxLongTaskCounters:(0,i.OK)(10),longTaskMetric:(0,i.Xg)(!1),scrollMetric:(0,i.Xg)(!0),scrollLatencyMetric:(0,i.Xg)(!0)}),socialProfile:(0,i.UW)((0,i.j6)({profileEnabled:(0,i.Xg)(),zenkitNotificaitons:(0,i.Xg)(!0),redesign:(0,i.Xg)()})),extendFeedback:(0,i.UW)((0,i.j6)({isPopup:(0,i.Xg)(),isDislikeOptionsEnabled:(0,i.Xg)()})),notifiers:(0,i.UW)((0,i.j6)({theme:(0,i.j2)(s.dH.Black,[s.dH.Black,s.dH.White])})),rezenMediascope:(0,i.UW)(p),zenlibBrowserBase:(0,i.Bd)(),videoModalCommentsApiUrlTmpl:(0,i.Bd)(),commentInCard:(0,i.UW)((0,i.j6)({enabled:(0,i.Xg)(),removeSnippet:(0,i.Xg)(),hotBubble:(0,i.Xg)()})),showEmptyCarouselSearchLink:(0,i.Xg)(!0),disableMobileNavbar:(0,i.Xg)(!1),enableCardChannelLink:(0,i.Xg)(!1),subscriptionsFeedEnabled:(0,i.Xg)(!1),cookieOfTheDay:(0,i.Bd)("bltsr"),subscribeLoginPopupMessage:(0,i.j2)(a.h.empty,[a.h.mainpage,a.h.betterRecommend,a.h.saveSource]),likeLoginPopupMessage:(0,i.j2)(a.h.empty,[a.h.tuneFeed,a.h.betterRecommend,a.h.saveInProfile]),isVideoCardsDynamicPoster:(0,i.Xg)(!1),isVideoViewerDynamicPoster:(0,i.Xg)(!1),isVideoSubtitlesInFeedEnabled:(0,i.Xg)(!1),isSkippableButtonAdShow:(0,o.O7)(!1),heightShortVideoCarousel:(0,i.OK)(345),isAutoplayVisibleCardInCircle:(0,i.Xg)(!1),aspectRatioCardInShortVideoCarousel:(0,i.Bd)("4:6"),countCardInShortVideoCarousel:(0,i.OK)(0),clickToSiteParams:(0,i.j6)({scrollAnimationEnabled:(0,o.O7)(!1),scrollDelaySec:(0,i.OK)(2.5),scrollDurationSec:(0,i.OK)(2.5),fullStepMinVideoDurationSec:(0,i.OK)(15)}),callToSubscribeInVideo:(0,i.j6)({paramSeconds:(0,i.OK)(0),textType:(0,i.j2)(d.x.dontLose,[d.x.dontLose])}),contentCarousel:(0,i.UW)((0,i.j6)({isViewExp:(0,i.Xg)(!1)})),viberShareButton:(0,i.UW)((0,i.j6)({isButtonEnabled:(0,i.Xg)(!1),partnerAppMinVersion:(0,i.Bd)(""),isShortenerEnabled:(0,i.Xg)(!1),shortenerResponseTimeout:(0,i.OK)(1e4)})),videoPlayerApiVersion:(0,i.Bd)("auto"),sandboxApiVersion:(0,i.Bd)("0xcfc8a86"),videoPlayerSizeRatio:(0,i.UW)((0,i.j6)({min:(0,i.OK)(.5),max:(0,i.OK)(5/4),maxHorizontal:(0,i.OK)(.8)})),isVideoInstreamAd:(0,i.Xg)(!1),isAdActionButtonEnable:(0,i.Xg)(!1),isVideoPreloadInViewer:(0,i.Xg)(!1),isVideoSendAdBlockToPlayer:(0,i.Xg)(!1),pcodeLoaderBundleUrl:(0,i.Bd)("https://yandex.ru/ads/system/context.js"),isMobileVideoModalSearchEnabled:(0,i.Xg)(!1),adErrorFilterRatio:(0,i.OK)(1),isVideoModalEnabled:(0,i.Xg)(!1),isProfileSocialCountersEnabled:(0,i.Xg)(!1),videoPlayerSettings:c,videoPlayerInline:(0,i.j6)({isDeferMainScripts:(0,i.Xg)(!1),isInlineEnabledInViewer:(0,i.Xg)(!1),timeout:(0,i.OK)(2e4),withFirstFrame:(0,i.Xg)(!1),withPreloadPcode:(0,i.Xg)(!1)}),videoWatchPageSeo:(0,i.j6)({parseLinkFromUrl:(0,i.Xg)(!0),isIndexable:(0,i.Xg)(!1)}),rowDisplayStep:(0,i.OK)(0),isVideoCardPromoButtonsEnabled:(0,i.Xg)(!1),rowLimit:(0,i.OK)(-1),teethDelayTimeout:(0,i.OK)(15e3),isNewWebviewUserSourcesScreen:(0,i.Xg)(!1),videoAutoplayStorageKey:(0,i.Bd)("zen-video-config-autoplay"),isPublisherLikeOnCardEnabled:(0,i.Xg)(!1),socialShareShortLink:(0,i.Xg)(!1),stopVideoAfterReplaysCount:(0,i.OK)(0),stopVideoAfterWatchedSeconds:(0,i.OK)(0),isImageAndGalleryContextMenuButtonVisible:(0,i.Xg)(!1),livePlayerApiHost:(0,i.Bd)(),bulkStatsTimeoutSec:(0,i.OK)(1),bulkStatsQueueSize:(0,i.OK)(100),isVideoAutopauseMutedEnable:(0,i.Xg)(!0),rezenFeedRedesign:(0,i.j6)({isEnabled:(0,i.Xg)(!0),gridType:(0,i.j2)(void 0,["float","fixed"]),isCardsTuneDisabled:(0,i.Xg)(!1)}),videoModalDesktopRedesignV2:(0,i.j6)({enabled:(0,i.Xg)(!1)}),isMittensShareWithText:(0,i.Xg)(!1),isVideoViewerRubberSize:(0,i.Xg)(!1),isVideoDirectLinkOnCard:(0,i.Xg)(!1),isVideoDirectLinkOnCardComment:(0,i.Xg)(!1),playerScriptsIncludeType:(0,i.j2)(void 0,["async","defer","domLoaded","startSession","mixed"]),isVideoViewerPreroll:(0,i.Xg)(!1),isZenSlotsEnabledForRum:(0,i.Xg)(!1),isLoadQueueInVideoModalDesktop:(0,i.Xg)(!1),isRedesignForLiveFeedTouchEnabled:(0,i.Xg)(!1),isPlayerPreloadingQueueEnabled:(0,i.Xg)(!1),playersPoolDeferUpdateAfterScroll:(0,i.j2)("none",["none","preload","autoplay"]),videoModalPlayInRollAdSec:(0,i.OK)(),videoModalInRollPlayingTimerSec:(0,i.OK)(5),videoFeedPerformanceTweaks:(0,i.j6)({prefetchPacks:(0,i.Xg)(!1),prefetchPacksWhenAnims:(0,i.Xg)(!1),timerFix:(0,i.Xg)(!0),rowDisplayStepFirst:(0,i.OK)(16),rowDisplayStepNext:(0,i.OK)(16)}),isMoreMark2Enabled:(0,i.Xg)(!1),contentVisibilityEnabled:(0,i.Xg)(!1),zenlibHeaderAsText:(0,i.Xg)(!1),isLinksInProfileDescriptionInactive:(0,i.Xg)(!1),isVideoAutoplayAfterStartZenSession:(0,i.Xg)(!1),shouldSendShort:(0,i.Xg)(!1),rowsWithBundleFreeImages:(0,i.OK)(0),isMoreMarkLimitEnabled:(0,i.Xg)(!0),getMoreLimitWindow:(0,i.OK)(0),rezenFeedRedesignImageCardSnippetLinesLimit:(0,i.OK)(5),rezenFeedRedesignBigCardImageRatio:(0,i.OK)(1.777777778),preliminaryDraw:(0,i.j6)({isEnabled:(0,i.Xg)(!1),triggerTime:(0,i.OK)(3e3),interaval:(0,i.OK)(1e3),rowDisplayStep:(0,i.OK)(0)}),requestMoreMargin:(0,i.OK)(600),isVideoSiteClientStat:(0,i.Xg)(!1),isVideoNavigationHistoryEnable:(0,i.Xg)(!1),sameFeedbackBehavior:(0,i.Xg)(!1),disableAutoplayOnSlowNetwork:(0,i.Xg)(!1),clientSkipTokenParams:(0,i.j6)({skipTokenSize:(0,i.OK)(3),enabled:(0,i.Xg)(!1)}),isMordaZenVideoRedirect:(0,o.O7)(!1),enableHeaderForPromoCampaign:(0,i.Xg)(!1),shouldShowChannelBackButton:(0,i.Xg)(!0),isShortVideoSimpleAnimBadgeVisible:(0,i.Xg)(!1),shouldShowMordaSidebar:(0,i.Xg)(!1),videoSkinRedesign:(0,i.Xg)(!1),videoSkinRedesignDesktop:(0,i.Xg)(!1),videoSkinRedesignDesktopRevision:(0,i.Xg)(!1),videoSkinTimelinePreview:(0,i.Xg)(!1),isVideoSkinPopupByClick:(0,i.Xg)(!1),shouldHideInterestSubButton:(0,i.Xg)(!1),isVideoViewedTimeEnable:(0,i.Xg)(!1),isVideoSkinForComments:(0,i.Xg)(!1),isVideoSkinDesktopFade:(0,i.Xg)(!1),isModestDrawComments:(0,i.Xg)(!1),isSoftSubscriberInTouchViewer:(0,o.O7)(!1),isSoftSubscriberWatchedInTouchViewer:(0,o.Rx)(0),withLuringWatchWithSound:(0,o.O7)(!1),isSpaMetricManagerEnabled:(0,i.Xg)(!1),spaMetricsSubpages:(0,i.j6)({video:(0,o.O7)(!1),feed:(0,o.O7)(!0)}),isDoc2docInViewerTouchV2:(0,o.O7)(!1),isShadowsDisabled:(0,i.Xg)(!1),isHoverShadowsDisabled:(0,i.Xg)(!1),isMobileAdBlockEnabled:(0,i.Xg)(!1),isMordaBannerInPlayersPool:(0,i.Xg)(!1),channelSubscribePromo:(0,i.j6)({isEnabled:(0,i.Xg)(!1),position:(0,i.OK)(1)}),isTutorialOnboarding:(0,i.Xg)(!1),isJumpOnboarding:(0,i.Xg)(!1),linkForOpenApp:(0,i.Bd)(""),shouldHaveRtbCardLabelIcon:(0,i.Xg)(!1),shouldHaveRtbCarouselLabelIcon:(0,i.Xg)(!1),isDisabledVideoFeed:(0,o.O7)(!1),isHiddenVideoTags:(0,o.O7)(!1),isVideoCommonScroll:(0,o.O7)(!1),isVideoAdFromBackend:(0,o.O7)(!1),adVideoErrorFilterRatio:(0,o.Rx)(1),videoRelatedAdsD2d:(0,i.j6)({interval:(0,o.Rx)(0),firstPosition:(0,o.Rx)(0),repeatScreen:(0,o.Rx)(4)}),videoRelatedAdsD2dMobile:(0,i.j6)({id:(0,o.Z_)(""),interval:(0,o.Rx)(0),firstPosition:(0,o.Rx)(0),repeatScreen:(0,o.Rx)(4)}),isLazyLoadingImgInDoc2doc:(0,o.O7)(!1),isCanShowPopupInfoAboutChannel:(0,o.O7)(!1),isCanShowPopupInfoAboutChannelHeaderCarousel:(0,o.O7)(!1),videoTouchRelatedAdsD2d:(0,i.j6)({interval:(0,o.Rx)(0),firstPosition:(0,o.Rx)(0),repeatScreen:(0,o.Rx)(4),id:(0,o.Z_)("")}),videoAdsUnderComments:(0,o.O7)(!1),shouldInlineStateInString:(0,i.Xg)(!1),shouldDegradateSubscriptions:(0,i.Xg)(!1),isSubscriptionsOnboarding:(0,i.Xg)(!1),shouldPreventDoubleLcpReport:(0,i.Xg)(!1),rowsWithBundleFreeVideoPreviews:(0,i.OK)(0),useFirstFrameType:(0,i.j2)(void 0,["before-start","after-start"]),isUseFirstFrameInViewer:(0,i.Xg)(!1),shouldFixOnboardingCarouselLcp:(0,i.Xg)(!1),shouldFixCardImageOneColumnLcp:(0,i.Xg)(!1),shouldFixCardsTextLcp:(0,i.Xg)(!1),shouldShredLongTasks:(0,i.Xg)(!1),progressiveHydration:(0,i.j6)({isEnabled:(0,i.Xg)(!1),rowsHydratedOnStart:(0,i.OK)(0)}),shouldRestoreVolumeModal:(0,i.Xg)(!1),shouldRestoreVolumeModalShorts:(0,i.Xg)(!1),virtualizationRange:(0,i.OK)(3),isDesktopShowcaseEnabled:(0,i.Xg)(!1),isShortVideoTabEnabled:(0,o.O7)(!1),isLivesTabEnabled:(0,o.O7)(!1),videoAutoPreview:(0,i.j6)({enabled:(0,i.Xg)(!1),minDuration:(0,i.OK)(180),enabledInDoc2Doc:(0,i.Xg)(!1)}),hasVideoRecommendationHeads:(0,o.O7)(!1),isOldReccomendDesign:(0,o.O7)(!0),videoAutoPreviewInFeedV2:(0,o.O7)(!1),videoAutoPreviewInFeedV2ByHover:(0,o.O7)(!1),videoAutoPreviewInFeedV2IsLoop:(0,o.O7)(!1),videoAutoPreviewInDoc2docV2:(0,o.O7)(!1),videoAutoPreviewInDoc2docV2Long:(0,o.O7)(!1),videoDesktopNewModal:(0,o.O7)(!1),isDisabledAutoplayButKeepPreload:(0,i.Xg)(!1),isZenApiFetchRum:(0,i.Xg)(!1),isYandexMetricVideoEnabled:(0,i.Xg)(!1),isVideoModalTransitionEnabled:(0,i.Xg)(!0),cardImageCompactV2:(0,i.Bd)(""),shouldShowRecommendationsChannelsAfterSubscription:(0,i.Xg)(!1),shouldShowRecommendationsChannelsAfterSubscriptionOnChannelPage:(0,i.Xg)(!1),subscriptionsHeadsSidebar:(0,i.Xg)(!1),subscriptionsHeadsSidebarSticky:(0,i.Xg)(!1),channel4:(0,i.j6)({isSuitesEnabled:(0,i.Xg)(!1)}),subsAndSubscrbsPopup:(0,i.j6)({ownChannelSubscriptionsEnabled:(0,i.Xg)(!1),ownChannelSubscribersEnabled:(0,i.Xg)(!1),notOwnChannelSubscriptionsEnabled:(0,i.Xg)(!1),notOwnChannelSubscribersEnabled:(0,i.Xg)(!1),headsSubscriptionsEnabled:(0,i.Xg)(!0),headsSubscribersEnabled:(0,i.Xg)(!1)}),covidUrl:(0,i.Bd)("https://yandex.ru/covid19/stat"),isRandomDefaultAnswer:(0,i.Xg)(!1),isTrendCarouselRedesign:(0,i.Xg)(!1),isDzenSearchSeparationEnabled:(0,i.Xg)(!1),subscriptionUnderLoginOnboarding:(0,i.Xg)(!1),shouldUseSystemTheme:(0,i.Xg)(!1),shouldRestrictSubscriptionInWebview:(0,i.Xg)(!1),moreMark2updateLimit:(0,i.OK)(3),shouldHideDateForPromo:(0,i.Xg)(!1),enableCrossOriginScripts:(0,i.Xg)(!1),shouldPreloadScriptsInMorda:(0,i.Xg)(!1),isHeaderRedesign:(0,i.Xg)(!1),isLargeHeaderAvatar:(0,i.Xg)(!1),moreMarkHeightOnStart:(0,o.Rx)(0),headsWithWrapper:(0,o.O7)(!0),moreRequestCountConfig:(0,i.j6)({isEnabled:(0,i.Xg)(!1),count:(0,i.OK)(0)}),recommendationsChannelsSidebar:(0,i.Xg)(!1),recommendationsChannelsSidebarNonSticky:(0,i.Xg)(!1),recommendationsChannelsCrosses:(0,i.Xg)(!1),verticalRecommendationsChannelsTouch:(0,i.Xg)(!1),verticalRecommendationsChannelsCrossesTouch:(0,i.Xg)(!1),isRepostFeatureEnabled:(0,i.Xg)(!1),isBriefTextOpenOnly:(0,i.Xg)(!1),showVideoSiteSubscriptions:(0,i.Xg)(!0),isDesktopShareNewItems:(0,i.Xg)(!1),isRtbInPreHeader:(0,i.Xg)(!0),briefS2sViewerDelay:(0,o.Rx)(2),searchRedesign:(0,o.O7)(!1),searchRedesignMobile:(0,o.O7)(!1),recommendationsCarouselTwoRowsRedesignDesktop:(0,i.Xg)(!1),videoPageSelfTarget:(0,i.Xg)(!1),isCloseWatchingPageEnabled:(0,i.Xg)(!1),shouldHideMetaInHeader:(0,i.Xg)(!1),dzen:(0,i.j6)({isEnabled:(0,o.O7)(!1)}),yandexSearchDesktopArrow:(0,o.Z_)("https://yandex.ru/portal/dzensearch/desktop"),yandexSearchDesktopInputDelay:(0,o.Rx)(2e3),yandexSearchMobileArrow:(0,o.Z_)("https://yandex.ru/portal/dzensearch/touch"),yandexSearchMobileInputDelay:(0,o.Rx)(3e3),yandexSearchMobileSafariInputDelay:(0,o.Rx)(3e3),yandexSearchOpenInPP:(0,i.Xg)(!1),yandexSearchAdditionalButton:(0,i.Xg)(!1),zenappInstallLinkAndroid:(0,o.Z_)(),zenappInstallLinkIos:(0,o.Z_)(),isNoBannerShowcase:(0,i.Xg)(!1),isMobileHeaderRedesign:(0,o.O7)(!1),isCarrotAccents:(0,o.O7)(!1),shouldOpenPassportInSameTab:(0,i.Xg)(!1),twoRowsCarouselCrossesDesktop:(0,i.Xg)(!1),twoRowsCarouselTouch:(0,i.Xg)(!1),twoRowsCarouselTouchCrosses:(0,i.Xg)(!1),isSavedPageEnabled:(0,i.Xg)(!1),isShowcaseListingMobileRedesign:(0,i.Xg)(!1),shouldHideDislike:(0,i.Xg)(!1),zenOwnBellPollingInterval:(0,o.Rx)(3e4),isShowcaseSharingEnabled:(0,i.Xg)(!1),shouldShowCrossesInContentCarousel:(0,i.Xg)(!1),isRecentsMobileEnabled:(0,i.Xg)(!1),channelsListModalCrosses:(0,i.Xg)(!1),moreAuthorsModalChannelsList:(0,i.Xg)(!1),isEnabledAdaptiveMobileTypography:(0,i.Xg)(!1),largeMobileBriefMediaAspectRatio:(0,i.Xg)(!1),threeDotsRedesignFeed:(0,i.Xg)(!1),shortVideoChannelTabEnabled:(0,i.Xg)(!1),rezenFeedRedesignUnifiedCards:(0,i.Xg)(!1),forceArticleCard16x9MediaRatio:(0,i.Xg)(!1),hasThreeDotsInNewsCard:(0,i.Xg)(!1),useSmartPopupDirection:(0,o.O7)(!1),useShowcaseTextSubscribeStatus:(0,o.O7)(!1),isTimelineEpisodesEnabled:(0,o.O7)(!1),isVideoSearchEnabled:(0,o.O7)(!1),isTimecodesInDescriptionEnabled:(0,i.Xg)(!1),isDrawerWithVideoDescriptionEnabled:(0,i.Xg)(!1),adCampaign:(0,i.j6)({iosButtonLink:(0,o.Z_)("https://redirect.appmetrica.yandex.com/serve/1180817542663428424"),androidButtonLink:(0,o.Z_)("https://redirect.appmetrica.yandex.com/serve/604356786417304751")}),shouldAddAdCampaignPlus:(0,i.Xg)(!1),adCampaignPlus:(0,i.j6)({title:(0,o.Z_)("Создавать <span>удобнее</span>\nв приложении Дзен"),description:(0,o.Z_)(""),imageLink:(0,o.Z_)("4"),buttonText:(0,o.Z_)("Продолжить в приложении"),iosButtonLink:(0,o.Z_)("https://redirect.appmetrica.yandex.com/serve/1180817542663428424"),androidButtonLink:(0,o.Z_)("https://redirect.appmetrica.yandex.com/serve/604356786417304751")}),advertPreloadEnabled:(0,o.O7)(!1),advertPreloadDelay:(0,o.Rx)(0),advertPreloadOffset:(0,o.Rx)(0),dzenSiteSelfTarget:(0,o.O7)(!1),statBeforeMore:(0,o.O7)(!1)})},88144:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var s=n(4238),i=n(52757),a=n(37471),r=n(32034);const o=(0,r.wN)((e=>{const t=[],n=[];return(...s)=>{const i=t.findIndex((e=>((e,t)=>{if(null===e||null===t||e.length!==t.length)return!1;const{length:n}=e;for(let s=0;s<n;s++)if(!(0,a.wU)(e[s],t[s]))return!1;return!0})(e,s)));if(-1===i){const i=e.apply(null,s);return t.length>=2&&(t.shift(),n.shift()),n.push(i),t.push(s),i}return n[i]}})),l=o((({params:e})=>e.experimentsData),(e=>u(s.v.bind(null,e)))),c=e=>e("ab:rezen_cards25:rezen_cards25_a")?"a":e("ab:rezen_cards25:rezen_cards25_b")?"b":e("ab:rezen_cards25:rezen_cards25_c")?"c":null,d=["top_fixed","top_hiding","bottom"],u=e=>({isZenOneEnabled:!e("ab:desktop_zen_one:default"),visibilityThreshold:e("ab:rezen_item_visibility_threshold:50")?.5:void 0,shouldRefreshFeed:e("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed"),shouldResetScrollOnUnload:e("should_reset_scroll_on_unload"),shouldScrollOnOpenCard:e("should_scroll_on_open_card"),cards25:c(e),isImageLazyLoadEnabled:e("lazy_images")||e("ab:rezen_lazy_images:enable")||e("zen_lib_lazy_images"),isZenUnifiedEnabled:d.some((t=>e(`ab:rezen_unified:${t}`))),isZenkitMenuEnabled:e("ab:rezen_new_menu:rezen_new_menu"),isZenOneOtherCountries:e("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries"),isSocialProfileEnabled:e("new_profile"),linkHoverEnabled:e("ab:rezen_channel_links:rezen_channel_links"),disableMetrikaExp:e("rezen_disable_metrika"),isRtbFitted:e("zen_lib_rtb"),isTouchCommentCountersEnabled:e("ab:rezen_comments_counter_touch:rezen_comments_counter_touch"),isDesktopVideoModalCommentsEnabled:e("ab:social_desktop_video_modal_comments:social_desktop_video_modal_comments"),isDesktopVideoModalCommentsDebugEnabled:e("ab:social_desktop_video_modal_comments_debug:social_desktop_video_modal_comments_debug"),isInterestsDesktop:e("ab:site_desktop_interests:site_desktop_interests_enabled")||e("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"),isInterestsMobile:e("ab:site_mobile_interests:site_mobile_interests_enabled")||e("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"),isInterestsZenApp:e("ab:zenkit_interests:zenkit_interests_enabled")||e("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"),isInterestsZenAppIos:e("ab:ios_native_interests:ios_native_interests_enabled")||e("ab:ios_native_interests_staff:ios_native_interests_staff_enabled"),isProfileUploadAvatarEnabled:e("ab:ab_social_profile_upload_avatar:social_profile_upload_avatar"),isFrontHeaderUploadAvatarEnabled:e("ab:ab_social_front_header_upload_avatar:social_front_header_upload_avatar"),isTraceUnhandledRejectionsEnabled:e("ab:rezen_trace_unhandled_rejection:rezen_trace_unhandled_rejection_enabled")}),m=o((({params:e})=>e.clientDefinition),i.jv),p=o(l,m,((e,t)=>Object.assign({},e,t)))},22796:(e,t,n)=>{"use strict";n.d(t,{qx:()=>c,$b:()=>d,dK:()=>u,lp:()=>m,zb:()=>p,Vw:()=>h,oY:()=>g,gE:()=>v,NA:()=>_,AF:()=>f,O5:()=>y,hA:()=>k,Sg:()=>S,eZ:()=>I,mF:()=>P,Qw:()=>T,z9:()=>R,VJ:()=>A,_l:()=>x,iY:()=>O,sE:()=>N,rr:()=>M,_Q:()=>L});var s=n(32034),i=n(56720),a=n(46591),r=n(88144),o=n(59357),l=n(45304);const c=e=>e.feed,d=e=>{var t,n,s;const{links:i,params:a,shared:r,context:o,auth:l,user:c}=e,{clid:d,host:u,countryCode:m,zenFeatures:p}=a;return{clid:d,host:u,countryCode:m,zenFeatures:p,links:i,params:a,shared:r,context:o,auth:l,user:c,feedApiUrl:(null==(t=e.router)||null==(n=t.location.state)||null==(s=n.source)?void 0:s.feedApiLink)||""}},u=(e,t)=>{if(e.feed&&e.feed.items[t])return e.feed.items[t]},m=e=>{if(e.feed&&e.feed.replaceQueue)return e.feed.replaceQueue},p=(0,s.P1)((e=>null),c,r.a,((e,{itemsOrder:t},{moreRequestCountConfig:n})=>{const s=(null==t?void 0:t.length)||0;return n.isEnabled&&n.count<=s})),h=(e,t,n)=>{const s=(0,o.ob)(e,t);if((0,l.cW)(s,`item with id '${t}' not found`),s.type!==n)throw new Error(`expects item.type '${n}' but got '${s.type}'`);return s},b=(()=>{const e={itemsOrder:[],result:[]};return t=>{const{items:n,itemsOrder:s}=c(t);return e&&e.itemsOrder===s||(e.itemsOrder=s,e.result=s.map((e=>{const{hasCallToAction:t,hasText:s,type:i,pos:a,packId:r,replaceWith:o,video:l}=Object.assign({replaceWith:void 0,pos:void 0,packId:void 0},n[e]);let c;return l&&l.width&&l.height&&(c={video:{width:l.width,height:l.height}}),Object.assign({hasCallToAction:t,hasText:s,id:e,type:i,pos:a,packId:r,replaceWith:o},c)}))),e.result}})(),g=(0,s.P1)(((e,t)=>e.feed.itemsOrder.indexOf(t)),(e=>e)),v=e=>e.feed.itemsOrder,_=e=>{const{items:t,itemsOrder:n}=e.feed;return n.find((e=>{var n;return(null==t||null==(n=t[e])?void 0:n.type)===a.qG.ONBOARDING_INTEREST_LIST}))},f=(0,s.P1)(c,(e=>{const{gridType:t}=e;return a.Ct[t].columnCount})),y=(0,s.P1)(b,(e=>e.feed.gridType),(e=>e.feed.gridTypeMap),i.mc,(e=>{const t=[],n={};return e.forEach((e=>{e.type!==a.qG.LIVE_RUN_OUT&&(0,l.cW)(e.packId);const s=Object.assign({},e,{row:t.length});n[e.id]=s,t.push([s])})),{elements:n,rows:t,additionalData:{}}})),w=(e,t)=>h(e,t,a.qG.USER_QUESTION).parentId,k=(0,s.P1)(w,((e,t)=>{const n=y(e),s=w(e,t),i=n.elements[s].row;return n.rows[i]}),f,((e,t,n)=>{const s=t[0].id,i=t[t.length-1].id;if(1===n)return a.U$.Center;switch(e){case s:return a.U$.Left;case i:return a.U$.Right;default:return a.U$.Center}})),S=(0,s.P1)(f,(e=>({columnCount:e,isDesktopRedesign:Boolean(!0),isRedesign:Boolean(!0),isDzen:Boolean(!0)}))),E=(0,s.P1)((e=>null),c,r.a,((e,{gridType:t},{rowDisplayStep:n})=>n||a.Ct[t].rowDisplayStep)),C=(0,s.P1)(E,r.a,((e,{preliminaryDraw:{rowDisplayStep:t}})=>t>0?t:e)),I=(0,s.P1)((e=>e.displayedRowsNumber),E,r.a,((e,t,{rowLimit:n})=>{const s=e+t;return n>-1?Math.min(s,n):s})),P=(0,s.P1)((e=>e.displayedRowsNumber),C,r.a,((e,t,{rowLimit:n})=>{const s=e+t;return n>-1?Math.min(s,n):s})),T=(0,s.P1)((e=>{var t;return null==e||null==(t=e.params)?void 0:t.feedType}),r.a,((e,{isSpaMetricManagerEnabled:t})=>{if(!t||"undefined"==typeof window)return;const n=Boolean(!1)&&"main"===e,s=Boolean(!1);var i,a,r;return n||s?null==(i=window)||null==(a=i.Ya)||null==(r=a.Rum)?void 0:r.getSpaMetricsManager:void 0})),R=(0,s.P1)(r.a,(({shouldDegradateSubscriptions:e,useFirstFrameType:t,shouldFixCardsTextLcp:n,progressiveHydration:s,shouldHaveRtbCarouselLabelIcon:i,shouldHaveRtbCardLabelIcon:a,covidUrl:r,disableAutoplayOnSlowNetwork:o,shouldHideDateForPromo:l,isHeaderRedesign:c,isLargeHeaderAvatar:d,isRepostFeatureEnabled:u,isBriefTextOpenOnly:m,briefS2sViewerDelay:p,isDesktopShareNewItems:h,channel4:{isSuitesEnabled:b},shouldHideMetaInHeader:g,clickToSiteParams:v,isMobileHeaderRedesign:_,isCarrotAccents:f,isRtbInPreHeader:y,rezenMediascope:w,shouldHideDislike:k,verticalRecommendationsChannelsCrossesTouch:S,shouldSendShort:E,twoRowsCarouselCrossesDesktop:C,twoRowsCarouselTouchCrosses:I,recommendationsChannelsCrosses:P,moreAuthorsModalChannelsList:T,isEnabledAdaptiveMobileTypography:R,threeDotsRedesignFeed:A,rezenFeedRedesignUnifiedCards:x,forceArticleCard16x9MediaRatio:O,largeMobileBriefMediaAspectRatio:N,hasThreeDotsInNewsCard:M,adCampaign:L,shouldAddAdCampaignPlus:D,adCampaignPlus:B})=>({shouldDegradateSubscriptions:e,useFirstFrameType:t,shouldFixCardsTextLcp:n,progressiveHydration:s,shouldHaveRtbCardLabelIcon:a,shouldHaveRtbCarouselLabelIcon:i,covidUrl:r,disableAutoplayOnSlowNetwork:o,shouldHideDateForPromo:l,isHeaderRedesign:c,isLargeHeaderAvatar:d,isRepostFeatureEnabled:u,isBriefTextOpenOnly:m,briefS2sViewerDelay:p,isDesktopShareNewItems:h,channel4:{isSuitesEnabled:b},shouldHideMetaInHeader:g,clickToSiteParams:v,isMobileHeaderRedesign:_,isCarrotAccents:f,isRtbInPreHeader:y,rezenMediascope:w,shouldHideDislike:k,verticalRecommendationsChannelsCrossesTouch:S,shouldSendShort:E,twoRowsCarouselCrossesDesktop:C,twoRowsCarouselTouchCrosses:I,recommendationsChannelsCrosses:P,moreAuthorsModalChannelsList:T,isEnabledAdaptiveMobileTypography:R,threeDotsRedesignFeed:A,rezenFeedRedesignUnifiedCards:x,forceArticleCard16x9MediaRatio:O,largeMobileBriefMediaAspectRatio:N,hasThreeDotsInNewsCard:M,adCampaign:L,shouldAddAdCampaignPlus:D,adCampaignPlus:B}))),A=(e,t)=>t<c(e).initialDisplayedRowsNumber,x=e=>{var t;const n=(0,i.sK)(e),s=null==n?void 0:n.id;return s?null==(t=e.sources[s])?void 0:t.status:void 0},O=({feed:e})=>e.subscribedInCurrrentSessionList,N=({feed:e})=>e.shouldHideRefreshSnackbar,M=e=>{const{maxPinnedItems:t,pinnedPublicationIds:n}=(e=>{const{orderedIds:t,pinnedPublicationIds:n,maxPinnedItems:s}=e.feed;return{orderedIds:t,pinnedPublicationIds:n,maxPinnedItems:s}})(e);return n.length>=t},L=e=>e.feed.adPixelCommonData},25203:(e,t,n)=>{"use strict";n.d(t,{KS:()=>a,rc:()=>r});var s=n(32034);const i=({icefeed:e})=>e,a=(0,s.P1)(i,(({isLoadingNewPackAfterOnboarding:e})=>e)),r=(0,s.P1)(i,(({interests:e})=>e))},59357:(e,t,n)=>{"use strict";n.d(t,{ob:()=>i,O1:()=>a,Gu:()=>l,m$:()=>c,Vq:()=>d,fm:()=>u});var s=n(32034);const i=(e,t)=>a(e,t)||o(e,t)||r(e,t),a=(e,t)=>{const{feed:n}=e;if(n){const{items:s}=n;if(s[t])return s[t];if(e.videoViewer&&e.videoViewer.items[t])return e.videoViewer.items[t]}},r=(e,t)=>{const{sidebar:n}=e;if(n){const{items:e=[]}=n;return e.find((e=>e.id===t))}},o=(e,t)=>{const{leftSidebar:n}=e;if(n){const{items:e=[]}=n;return e.find((e=>e.id===t))}},l=(e,t,n)=>{const s=i(e,t);if(!s)throw new Error(`item with id '${t}' not found`);if(!n.includes(s.type))throw new Error(`expects item.type '${n.join(",")}' but got '${s.type}'`);return s},c=()=>(0,s.P1)(((e,t)=>{const n=i(e,t);if(n)return"bulkParams"in n?n.bulkParams:void 0}),(e=>{if(void 0!==e)return e;throw new Error("expects feedItem with bulkParams field")})),d=(e,t)=>{const n=i(e,t);return n&&"feedback"in n?n.feedback:null},u=(e,t)=>{const{pinnedPublicationIds:n}=e.feed,s=[];return n.includes(t)?(n[0]!==t&&s.push("up"),n[n.length-1]!==t&&s.push("down"),s):s}},56720:(e,t,n)=>{"use strict";n.d(t,{IG:()=>K,sK:()=>F,Oc:()=>f,J1:()=>se,GP:()=>y,Ip:()=>X,Fr:()=>E,eV:()=>A,mc:()=>N,jA:()=>x,gL:()=>R,tE:()=>O,fH:()=>I,vq:()=>T,d8:()=>P,uD:()=>Y,jY:()=>C,oy:()=>q,_X:()=>z,Bw:()=>$,Z4:()=>te,gx:()=>D,Ly:()=>ee,XM:()=>ne,a_:()=>L,rO:()=>S,xp:()=>M,S4:()=>Z,L2:()=>V,yw:()=>B,FS:()=>U,uX:()=>J});var s=n(32034),i=n(95340),a=n(28899),r=n(32006),o=n(10475),l=n(23654),c=n(43610),d=n(66788);let u;!function(e){e.SITE_DESKTOP="site_desktop",e.SITE_MOBILE="site_mobile",e.LIB="zen_lib",e.MODAL_LIB="zen_modal_lib",e.ZEN_APP="zen_app",e.ZEN_APP_IOS="zen_app_ios"}(u||(u={}));var m=n(76117),p=n(81235),h=n(40789),b=n(88144),g=n(49856),v=n(95744),_=n(76271);const f=e=>e.params.clid,y=e=>{var t;return(null==(t=e.channel)?void 0:t.status)===p.UW.Ok},w=(e,t)=>(0,r.SX)({template:e,value:(0,l.k)(t)}),k=(0,s.P1)((({links:e})=>e.login_tmpl),(({router:e})=>e&&e.location.pathname),((e,t)=>e?w(e,t):void 0)),S=((0,s.P1)((({links:e})=>e.registration_tmpl),(({router:e})=>e&&e.location.pathname),((e,t)=>e?(0,r.SX)({template:e,value:(0,l.k)(t)}):void 0)),(0,s.P1)((({links:e})=>e.logout_tmpl),(({router:e})=>e&&e.location.pathname),((e,t)=>e?(0,r.SX)({template:e,value:(0,l.k)(t)}):null)),(0,s.P1)((e=>e.serpLinks),(e=>e.serpLink)),(0,s.P1)((e=>e.serpClid.value),(e=>e))),E=e=>e.params&&e.params.feedType===p.u5.Channel,C=e=>e.params&&e.params.feedType===p.u5.Suite,I=e=>e.params&&e.params.feedType===p.u5.Saved,P=e=>e.params&&e.params.feedType===p.u5.Showcase,T=e=>e.params&&e.params.feedType===p.u5.Serp,R=e=>{var t,n;return Boolean(null==(t=e.channel)||null==(n=t.source)?void 0:n.isMyChannel)},A=e=>/\/api\/v3\/launcher\/lives/.test(e.links.more||""),x=(0,s.P1)(R,E,((e,t)=>t&&e)),O=(0,s.P1)((e=>{var t,n;return Boolean(null==(t=e.suite)||null==(n=t.source)?void 0:n.isMyChannel)}),C,((e,t)=>e&&t)),N=e=>e.params&&e.params.feedType===p.u5.Main,M=(0,s.P1)((e=>e.params.product===u.LIB),y,((e,t)=>!t&&!e)),L=(0,s.P1)((e=>{var t;return null==e||null==(t=e.params)?void 0:t.feedType}),((e,t)=>t),(e=>(0,b.a)(e).isVideoSearchEnabled),((e,t,n)=>e===p.u5.Serp?t:e===p.u5.Video&&n?_.pr:void 0)),D=((0,s.P1)((e=>{var t;return null==e||null==(t=e.params)?void 0:t.feedType}),(e=>(0,b.a)(e).isVideoSearchEnabled),(e=>e.videoViewer.openedItemId),((e,t,n)=>{if(e===p.u5.Video&&t)return n?p.Xw.VideoRelated:p.Xw.VideoFeed})),(0,s.P1)((({context:e})=>e.partner),(e=>{const t=(0,c._)(e);return(0,d.o)(t)})),e=>e.context&&e.context.partner),B=(0,s.P1)(b.a,(({socialProfile:e})=>e)),F=(0,s.P1)((e=>e.channel&&e.channel.source),(e=>e)),Z=(0,s.P1)(b.a,(({shouldResetScrollOnUnload:e})=>{const t=Boolean(!0),n=Boolean(!1);return(t||n)&&e})),V=(0,s.P1)((({iface:e})=>e.isOpenCardScrollEnabled),b.a,((e,{shouldScrollOnOpenCard:t,cards25:n})=>e&&t&&"b"!==n&&"c"!==n)),U=(0,s.P1)((e=>e.params.zenFeatures),(e=>e.params.zenUserData),b.a,((e,t,{shouldUseSystemTheme:n})=>n?h.D.portal:null!=t&&t.zenTheme?(0,a.Kh)(null==t?void 0:t.zenTheme):e.color_theme)),j=(0,s.P1)(b.a,(({isZenUnifiedEnabled:e,isZenkitMenuEnabled:t})=>e||t)),z=(0,s.P1)(b.a,(({isZenOneOtherCountries:e})=>e)),H=(0,s.P1)(b.a,(({disableMobileNavbar:e})=>e)),q=(0,s.P1)(j,z,((e,t)=>Boolean(e||t))),$=(0,s.P1)(y,q,N,(e=>e.router&&e.router.location.hash===m.pI),((e,t,n,s)=>!e&&(!t||n)&&!s)),G=(0,s.P1)((e=>e.params.integration),(e=>!!e&&["ya_search_app_ios"].includes(e))),W=(0,s.P1)(q,o.Vr,G,H,((e,t,n,s)=>e&&!t&&!n&&!s)),Y=((0,s.P1)((e=>e.params.product),b.a,((e,{isInterestsDesktop:t,isInterestsMobile:n,isInterestsZenApp:s,isInterestsZenAppIos:i})=>{switch(e){case u.SITE_DESKTOP:case u.MODAL_LIB:return t;case u.SITE_MOBILE:return n;case u.ZEN_APP:return s;case u.ZEN_APP_IOS:return i;default:return!1}})),(0,s.P1)(b.a,B,(({isSocialProfileEnabled:e},t)=>e||t.profileEnabled))),K=(0,s.P1)((e=>e.auth&&e.auth.info),(e=>e)),X=(0,s.P1)(K,(e=>Boolean(e&&e.isAuthorized))),J=((0,s.P1)(K,(e=>{return e&&e.publicId?(t=e.publicId,(0,i.Gn)(m.g6,{socialProfileId:t})):void 0;var t})),(0,s.P1)(K,(e=>null==e?void 0:e.avatar))),Q=(0,s.P1)((({links:e})=>e.passport),(e=>e||void 0)),ee=(0,s.P1)((({links:e})=>e),(e=>{if(!e)return;const{login:t,login_tmpl:n,logout:s,logout_tmpl:i,change_account_tmpl:a}=e;return{login:t||void 0,loginTmpl:n||void 0,logout:s||void 0,logoutTmpl:i||void 0,changeAccountTmpl:a||void 0}})),te=(0,s.P1)(b.a,W,(({isZenUnifiedEnabled:e,isZenOneOtherCountries:t},n)=>n&&(e||t)?p.Ft.Navbar:p.Ft.Normal)),ne=((0,s.P1)((e=>e.channel),(e=>e.params.currentUrl),((e,t)=>(null==e?void 0:e.status)===p.UW.Ok&&t?(0,g.fQ)(t):g.ed)),e=>{const{OSFamily:t,browserName:n}=e.context;return"iOS"!==t||"MobileSafari"!==n}),se=e=>{var t;return null==(t=e.router)?void 0:t.location},ie=e=>e.params;(0,s.P1)(ie,K,k,Q,(e=>e.context.geoId),((e,t,n,s,i)=>({tld:e.tld,lang:e.lang,authInfo:t,loginLink:n,passportLink:s,geoId:i}))),(0,s.P1)(ie,X,v.gI,(({links:e})=>e.login_tmpl),(({isMobile:e},t,n,s)=>{const i=e?m.tU:m.k7;return t?`${n}${(0,l.k)(i)}`:s?w(s,i):void 0})),(0,s.P1)(X,v.gI,(({links:e})=>e.login_tmpl),((e,t,n)=>e?m.be:n?w(n,m.be):void 0))},95744:(e,t,n)=>{"use strict";n.d(t,{gI:()=>s,GF:()=>i});const s=e=>e.params.host,i=e=>e.params},55763:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var s=n(32034),i=n(88144),a=n(66274);const r=(0,s.P1)(i.a,(({distribution:e})=>e),(({pcodeLoaderBundleUrl:e},t)=>(0,a.N)((null==t?void 0:t.contextScript)||e)))},67918:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var s=n(59357),i=n(46591);const a=(()=>{const e=[];return(t,n)=>{const a=(0,s.Gu)(t,n,[i.qG.IMAGE,i.qG.TEXT,i.qG.GALLERY,i.qG.GALLERY_INTERLACED,i.qG.BRIEF,i.qG.GIF,i.qG.SHORT_VIDEO,i.qG.LIVE,i.qG.LIVE_INTERLACED]);return a.customUserFeedbackData?a.customUserFeedbackData.questions:e}})(),r=(e,t)=>((e,t,n)=>a(e,t).filter((e=>e.displayType===n))[0])(e,t,"ask_on_click")},10475:(e,t,n)=>{"use strict";n.d(t,{_V:()=>l,xR:()=>c,Vr:()=>d});var s=n(46997),i=n(32034),a=n(81235);const r=["id"],o=(e,t)=>{if(e)return e.map((e=>{let{id:n}=e,i=(0,s.Z)(e,r);return Object.assign({},i,t[n])}))},l=(e=>{let t=null;return(n,...s)=>{const i=(e=>e.sources)(n),a=e(n,...s);return t&&i===t.sourceState&&a===t.sources||(t={sourceState:i,sources:a,result:o(a,i)}),t.result}})((e=>{var t;return null==(t=e.search.search.data)?void 0:t.filter((e=>"interest"!==e.type))})),c=(0,i.P1)(((e,t)=>t),((e,t)=>e.sources[t.id]),((e,t)=>{if(!e)throw Error("No source in feed item!");return Object.assign({},e,t)})),d=(0,i.P1)((e=>e.channel),(e=>e.sources),((e,t)=>{if(!e||e.status===a.UW.Feed||!("source"in e))return null;const n=e.source&&e.source.id;return void 0===n?null:Object.assign({},e.source,t[n])}))},82867:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var s=n(13055),i=n(8708);const a=(0,n(68360).wb)({reducer:s.S,selector:(e,t)=>(0,i.np)(e,t).blocked})},59566:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var s=n(59995),i=n(8708);const a=(0,n(68360).wb)({reducer:s.f,selector:(e,t)=>(0,i.np)(e,t).profile})},94068:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var s=n(13340),i=n(8708);const a=(0,n(68360).wb)({reducer:s.f,selector:(e,t)=>(0,i.np)(e,t).subscriptions})},8708:(e,t,n)=>{"use strict";n.d(t,{np:()=>d,L5:()=>m,Z9:()=>p,MA:()=>h,l2:()=>b,aL:()=>g,bm:()=>v});var s=n(32034),i=n(95340),a=n(73246),r=n(94068),o=n(82867),l=n(58155),c=n(76117);const d=(e,t)=>e.users[t]||(0,a.pu)(t),u=(e,t,n)=>e.reduce(((e,s)=>{const i=t[s],a=n[s];return[null==i?void 0:i.type,null==a?void 0:a.type].includes("interest")||e.push(Object.assign({},i,a)),e}),[]),m=()=>(0,s.P1)((({sources:e})=>({sources:e})),r.R,(({sources:e},{data:t})=>u(t.ids,t.sources,e))),p=((0,s.P1)((e=>e.sources),(e=>Object.keys(e).reduce(((t,n)=>{const s=e[n];return("subscribed"===s.status||s.isUnsubscribedInCurrentSession)&&t.push(n),t}),[]))),()=>(0,s.P1)((({sources:e})=>({sources:e})),o.o,(({sources:e},{data:t})=>u(t.ids,t.sources,e)))),h=((0,s.P1)((e=>e.sources),(e=>Object.keys(e).reduce(((t,n)=>{const s=e[n];return("blocked"===s.status||s.isUnblockedInCurrentSession)&&t.push(n),t}),[]))),(0,s.P1)((e=>e.auth),(e=>e&&e.info&&e.info.publicId||l.sf))),b=(0,s.P1)((e=>e.auth),(e=>({uid:e&&e.info&&e.info.uid||l.sf,publicId:e&&e.info&&e.info.publicId||void 0}))),g=(0,s.P1)((e=>e.router.location),h,((e,t)=>{if(!e)return t;const{pathname:n}=e;if(n===c.vv||n===c.w$)return t;const s=(0,i.LX)(e.pathname,{path:c.g6});return s&&s.params.socialProfileId||t})),v=(e,t)=>{const{uid:n,publicId:s}=b(e);return n===t||(null==s?void 0:s.toLowerCase())===t.toLowerCase()}},44564:(e,t,n)=>{"use strict";n.d(t,{j7:()=>F,zq:()=>V,S_:()=>P,Fk:()=>z,J$:()=>T,lN:()=>A,Ei:()=>x,A8:()=>M,x8:()=>R,B9:()=>W,IU:()=>H,t3:()=>U,_k:()=>G,g:()=>D,rS:()=>B,j0:()=>$,_c:()=>Z,vA:()=>N,co:()=>S,_j:()=>E,oM:()=>C,HD:()=>Y});var s=n(32034),i=n(88529),a=n(88144),r=n(82913),o=n(85207),l=n(95486),c=n(53963),d=n(7582),u=n(94626),m=n(15e3),p=n(45476),h=n(35528);const b=e=>e.params.isHermione;var g=n(62488),v=n(32955),_=n(46591);const f=e=>Boolean((null==e?void 0:e.type)===_.qG.GIF&&(null==e?void 0:e.flightId));var y=n(56720),w=n(22796),k=n(28494);const S=({videoViewer:e})=>null==e?void 0:e.openedItemId,E=(0,s.P1)(S,(({videoViewer:e})=>null==e?void 0:e.items),((e,t)=>e&&t?t[e]:{})),C=e=>{var t;const n=null==(t=e.videoViewer)?void 0:t.itemsOrder[0];if(n)return e.videoViewer.items[n]},I=((0,s.P1)((e=>(0,a.a)(e).isCloseWatchingPageEnabled),(e=>O(e)),((e,t)=>e&&!t)),e=>{const t=E(e);return!!t&&(0,l.o)(t)}),P=(0,s.P1)((e=>{const t=E(e);if(I(e))return t}),(e=>{if(!e)return;const{donateUrl:t}=e;if(t){if((0,m.CB)(t))return t;const e=`https://${t}`;if((0,m.CB)(e))return e}})),T=e=>e.videoViewer.isCollapsedChat,R=e=>(0,a.a)(e).isShortVideoTabEnabled,A=e=>(0,a.a)(e).isLivesTabEnabled,x=e=>{var t,n;return null==(t=e.params)||null==(n=t.currentUrl)?void 0:n.includes(k.ur)},O=(0,s.P1)(E,(e=>!!e&&(0,r.e)(e))),N=e=>{const t=C(e);var n;if(t)return n=t,(0,l.o)(n)?v.f.Live:f(n)?v.f.s2s:((0,r.e)(n),v.f.Long)},M=(0,s.P1)(E,(e=>f(e))),L=(0,s.P1)(E,(e=>{var t;return Boolean((0,o.P)(e)&&(null==e?void 0:e.expandType)===d.Gz.ClickToSite&&(null==e||null==(t=e.swipeToSite)?void 0:t.design)===h.p)})),D=(0,s.P1)((e=>e.iface.isVideoAutoplayEnabled),(e=>(0,a.a)(e).videoAutoplayStorageKey),((e,t)=>{const n=(0,i.rV)(t),s="boolean"==typeof n;return"boolean"==typeof e?Boolean(e):!s||Boolean(n)})),B=(0,s.P1)((e=>e.iface.isVideoMuted),(e=>{const t=(0,i._m)();return void 0!==e?e:t})),F=(0,s.P1)((e=>e.iface.canUnmuteAfterClick),(e=>!(0,i._m)()&&e)),Z=(0,s.P1)((e=>e.iface.videoQuality),(e=>(0,a.a)(e).videoSkinRedesign),((e,t)=>{if(t)return e||p.$})),V=()=>(0,s.P1)(((e,t,n)=>{var s;const i=e.videoViewer&&e.videoViewer.items[t];return(null==(s=i.statParams)?void 0:s.modal.bulkParams)||i.bulkParams}),(e=>e)),U=(0,s.P1)((e=>{var t;return null==(t=e.videoViewer)?void 0:t.openedItemId}),(e=>{var t;return null==(t=e.videoViewer)?void 0:t.itemsOrder}),(e=>{var t;return null==(t=e.videoViewer)?void 0:t.items}),((e,t,n)=>{if(!e||!t||!n)return{id:void 0,isNearLast:!1};const s=t.indexOf(e),i=t.findIndex(((e,t)=>!(0,g.U)(n[e])&&t>s));return{id:t[i],isNearLast:t.length-i<=3}})),j=(0,s.P1)(U,(e=>{var t;return null==(t=e.videoViewer)?void 0:t.items}),(({id:e},t)=>{if(e)return t[e]})),z=({item:e,startPosition:t,isForcedPreroll:n,skipAllAdPods:s,adPixelCommonData:i})=>{const{video:a}=e,{videoInfo:r,additionalParams:o,id:l,streams:d,adConfig:u}=a,m=i&&a.adPixelData?Object.assign({},i,a.adPixelData):void 0;return(0,c.i)({videoStream:l,isLive:!1,videoStreams:d,videoInfo:r,additionalParams:o,startPosition:t,adConfig:n&&u?Object.assign({},u,{hasPreroll:!0}):u,skipAllAdPods:s,adPixelData:m})},H=(0,s.P1)(j,a.a,w._Q,((e,t,n)=>{if(!e)return;const{videoPlayerSettings:{skipAllAdPods:s}}=t,{title:i,source:a,bigImage:r,blurredPreview:o,video:l,image:c,shareLink:d}=e,{title:u,feedLink:m}=a;return{title:i,image:r,preview:c,blurredPreview:o,channelName:u,feedLink:m,videoSource:z({item:e,skipAllAdPods:s,adPixelCommonData:n}),duration:l.duration,shareLink:d}})),q=((0,s.P1)(M,L,(e=>I(e)),((e,t,n)=>(!e||t)&&!n)),"undefined"!=typeof window&&window.YandexZen&&(0,u.s)(window.YandexZen.cookieOfTheDay)),$=e=>{var t;const{isVideoSendAdBlockToPlayer:n,videoPlayerApiVersion:s,sandboxApiVersion:i}=(0,a.a)(e),{isAdblock:r,playerFlags:o,playerSlots:l,groupIds:c,buckets:d,slowNetwork:u}=e.params,m=(q||r)&&n;return{deviceId:null==(t=e.user)?void 0:t.deviceId,isPlayerControlsVisible:!1,isAdBlockPlayerBundle:m,apiVersion:s,sandboxVersion:i,slowNetwork:u,zenSlots:c.split(",").map((e=>`${e},0,${(null==d?void 0:d[Number(e)])||-1}`)).join(";"),linker:o||l?{flags:o,slots:l}:void 0,testMode:b(e)}},G=(e,t)=>{const{videoAutoPreview:n,isVideoViewedTimeEnable:s,isDisabledAutoplayButKeepPreload:i}=(0,a.a)(e),o=t.video.duration||0,l=M(e),c=t.video.previews&&Object.keys(t.video.previews).length>0,d=!Boolean(s&&void 0!==t.video.viewedTime)&&n.minDuration<=o&&!l;return Boolean(n.enabled&&(d||i)&&!(0,r.e)(t)&&c)},W=e=>{var t;const n=null==(t=(0,y.J1)(e).state)?void 0:t.videoId;e.params.currentUrl&&/\/video\/watch/.test(e.params.currentUrl);return!n},Y=(K=_.qG.GIF,(0,s.P1)((e=>e.videoViewer.items),(e=>e.videoViewer.itemsOrder),((e,t)=>t.filter((t=>{var n;return(null==(n=e[t])?void 0:n.type)===K})))));var K},42185:(e,t,n)=>{"use strict";n.d(t,{zd:()=>m,dm:()=>p,HU:()=>h,BA:()=>b,QX:()=>g,W9:()=>v,RT:()=>_,nA:()=>f,Pe:()=>y,Oz:()=>w,gQ:()=>k,hZ:()=>S,Sm:()=>E,FG:()=>I,Bd:()=>P,WV:()=>T,gE:()=>R,Jd:()=>A,ud:()=>x,VW:()=>O,u9:()=>N,m5:()=>M});var s=n(32034),i=n(59357),a=n(81235),r=n(44564),o=n(88144),l=n(95486),c=n(82837),d=n(82913),u=n(63843);const m=({videoViewer:e})=>e.videoViewerDataMap,p=(0,s.P1)((e=>(0,o.a)(e).isLoadQueueInVideoModalDesktop),r.oM,((e,t)=>e&&!(0,d.e)(t))),h=e=>{const t=p(e),n=(0,r.co)(e);return!t||Boolean(e.videoViewer.comments.isVisible)&&e.videoViewer.comments.id===n},b=e=>p(e)?"playerIsReady":void 0,g=(0,s.P1)(p,(e=>(0,o.a)(e)),(e=>e.videoViewer.scrollToCommentsOnOpen),r.oM,r.A8,r.J$,(e=>O(e,a.lu.sidebarMultiple)),(e=>O(e,a.lu.sidebarLive)),((e,t,n,s,i,a,r,o)=>{const{isDisabledVideoFeed:c,isVideoAdFromBackend:u}=t;if(!e)return[];if((0,d.e)(s))return["playerIsReady","comments"];if(i)return["playerIsReady","doc2doc","meta"];const m=r||u;return n?c?m?["comments","playerIsReady","meta","ad"]:["comments","playerIsReady","meta"]:m?["comments","playerIsReady","doc2doc","meta","ad","doc2docNextPrefetch"]:["comments","playerIsReady","doc2doc","meta","doc2docNextPrefetch"]:(0,l.o)(s)?a?o?["playerIsReady","comments","meta","ad"]:["playerIsReady","comments","meta"]:o?["playerIsReady","meta","doc2doc","ad"]:["playerIsReady","meta","doc2doc"]:c?m?["playerIsReady","meta","ad","comments"]:["playerIsReady","meta","comments"]:m?["playerIsReady","doc2doc","meta","ad","comments","doc2docNextPrefetch"]:["playerIsReady","doc2doc","meta","comments","doc2docNextPrefetch"]})),v=(e,t)=>g(e).indexOf(t),_=e=>{const t=m(e),{commentsDocumentId:n}=(0,r._j)(e),s=(0,c.O)(n);return Boolean(t[s])},f=e=>{const{openedItemId:t,doc2docReady:n}=e.videoViewer;return n[t||""]},y=e=>Object.keys(e.videoViewer.doc2docReady).length>1,w=e=>!e.videoViewer.isPlayerAutoplayIsWaitingForPermission,k=(0,s.P1)(r._j,(e=>e.sources),((e,t)=>{if(!e||!e.source)throw Error("No source in viewer-item!");const n=t[e.source.id]||{};return Object.assign({},e.source,n,{bulkParams:e.bulkParams})})),S=e=>{const t=k(e);return t?t.status:a.aF.NOT_SUBSCRIBED},E=e=>e.videoViewer.startPosition,C=(0,r.zq)(),I=e=>{const t=(0,r._j)(e),{isVideoSiteClientStat:n}=(0,o.a)(e);return t&&t.id?C(e,t.id,n):""},P=e=>{const t=(0,r._j)(e);return t?(0,i.Vq)(e,t.id):null},T=e=>e.videoViewer.items,R=e=>e.videoViewer.itemsOrder,A={},x=e=>{var t;const n=(0,r._j)(e);return null!=n&&null!=(t=n.video)&&t.ad?n.video.ad:{}},O=(e,t)=>{var n;const s=null==(n=e.videoViewer.adBlocks)?void 0:n[t];var i,a;if(s&&(s.myTargetAdData||s.rsyaAdData))return{type:s.myTargetAdData?u.AdPlatform.myTarget:u.AdPlatform.direct,blockId:null==(i=s.rsyaAdData)?void 0:i.blockId,slotId:null==(a=s.myTargetAdData)?void 0:a.slotId,pixelsData:s.adPixelData,bulkParams:s.bulk_params}},N=e=>e.videoViewer.adPixelsCommonData,M=e=>{const{videoTouchRelatedAdsD2d:t,videoRelatedAdsD2dMobile:n,videoRelatedAdsD2d:s}=(0,o.a)(e);return{adPixelCommonData:N(e),videoRelatedAdBlock:O(e,a.lu.sidebarMultiple),videoLiveAdBlock:O(e,a.lu.sidebarLive),sidebarTopAdBlock:O(e,a.lu.sidebarTop),videoPlayerBottomAdBlock:O(e,a.lu.playerBottom),videoTouchRelatedAdsD2d:t,videoRelatedAdsD2dMobile:n,videoRelatedAdsD2d:s}}},94995:(e,t,n)=>{n.p="",n.u=e=>window["__chunkManifest__dzen-desktop_1.57.2__"][e],n.miniCssF=e=>window["__chunkManifest__dzen-desktop_1.57.2__"][`${e}.css`]},44955:(e,t,n)=>{"use strict";n(94995)},18759:(e,t,n)=>{"use strict";n(19973)},19973:()=>{"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}))},12117:(e,t,n)=>{"use strict";var s=n(87363),i=n.n(s),a=n(61533),r=n.n(a);window.React=i(),window.ReactDOM=r()},7197:(e,t,n)=>{"use strict";n(1718)},1718:(e,t,n)=>{n(42961),n(56889),n(66563);const{initProcessController:s}=n(65162),{initExternalMetricsCollector:i}=n(33262);"undefined"!=typeof window&&window&&window.Ya&&window.Ya.Rum&&(s(window.Ya.Rum),i(window.Ya.Rum))},45304:(e,t,n)=>{"use strict";n.d(t,{ku:()=>o,cW:()=>l,Nl:()=>c,pX:()=>d});var s=n(94823);class i extends Error{constructor(e){super(e),this.name=this.constructor.name,Object.setPrototypeOf(this,i.prototype)}}const a=e=>{try{return JSON.stringify(e)}catch(t){return JSON.stringify(e,function(){const e=[];return function(t,n){return"function"==typeof n?`[Function: ${n.name}]`:"object"!=typeof n||null===n?n:(e.length=e.indexOf(this)+1,e.indexOf(n)>-1?"[Circular]":(e.push(n),n))}}())}},r=e=>`'${a(e)}' with type '${typeof e}'`;function o(e,t){if(!e)throw new i(null!=t?t:"Assert condition failed")}function l(e,t){const n=null!=e;o(n,null!=t?t:n?"":`Expected 'value' to be defined, but receive ${e}`)}function c(e,t){const n=(0,s.Kn)(e)&&!Array.isArray(e),i=n?"":`Expected object type, but receive ${r(e)}`;o(n,null!=t?t:i)}function d(e,t){const n=(0,s.HD)(e),i=n?"":`Expected string type, but receive ${r(e)}`;o(n,null!=t?t:i)}},68360:(e,t,n)=>{"use strict";n.d(t,{p9:()=>o,DD:()=>l,wb:()=>c,S1:()=>d});var s=n(14968),i=n(73119);const a="DEFAULT_ID",r=e=>e||a,o=(e,t)=>e({id:r(t)},{type:"@@asyncScope/INIT"}),l=({actionType:e,dataReducer:t})=>{const n=(0,s.H)(((e,t,n)=>({id:e,status:t,data:n}))),r=(e=>(t=i.L.Pending,n,s)=>s!==(n.payload&&n.payload.id)?t:n.type===e?n.payload.status:t)(e);return(e,s)=>{const i=((e=a)=>e)(e&&e.id);return n(i,r(e&&e.status,s,i),t(e&&e.data,s,i))}},c=({reducer:e,selector:t})=>(n,s,...i)=>{const a=r(s);return t(n,a,...i)||o(e,a)},d=e=>{let{type:t,request:n,selector:s}=e;const o=({isForced:e,isSilent:o=!1})=>(l,c={isPublic:!1},...d)=>async(u,m,p)=>{const h=r(l),b=m(),g=s(b,h,...d);return!e&&g&&g.status===i.L.Success?g.data:(!o&&u((({type:e,id:t=a})=>({type:e,payload:{id:t,timestamp:Date.now(),status:i.L.Pending}}))({type:t,id:h})),n(p,h,...d).then((e=>{u((({type:e,value:t,id:n=a,isPublicEvent:{isPublic:s}})=>({type:e,payload:{id:n,timestamp:Date.now(),status:i.L.Success,value:t},meta:{isPublic:s}}))({type:t,id:h,value:e,isPublicEvent:c}));const n=m(),r=s(n,h,...d);if(r)return r.data}),(e=>{throw!o&&u((({type:e,id:t=a})=>({type:e,payload:{id:t,timestamp:Date.now(),status:i.L.Error}}))({type:t,id:h})),e})))};return[o({isForced:!1}),o({isForced:!0}),o({isForced:!0,isSilent:!0})]}},73119:(e,t,n)=>{"use strict";let s;n.d(t,{L:()=>s}),function(e){e.Initial="initial",e.Pending="pending",e.Error="error",e.Success="success",e.NeedUpdate="needUpdate"}(s||(s={}))},66999:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});n(14072);var s=n(89294);const i=(e,t=1e3)=>{const n=a(((t,...n)=>t(e(...n))),t);return(...e)=>t=>n(t,...e)},a=(e,t)=>{let n=null,i=null,a=null;return async(...r)=>{a=r,await Promise.resolve(n),a&&(n=(0,s.D)(t),i=e(...a),a=null),await i}}},38450:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});const s=(e,t)=>(n,s)=>e(n,Object.assign({},s,{bulkParams:t}))},15433:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});const s=e=>{if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),n=e.ownerDocument&&e.ownerDocument.defaultView,s=n?n.pageYOffset:0;return t.top+s}},5553:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});const s=e=>{var t;return"undefined"!=typeof window&&e&&(/crowdtest\.yandex\.ru/.test(window.location.hostname)||(null==(t=window.YandexZen)?void 0:t.shouldHackStatic))}},38905:(e,t,n)=>{"use strict";n.d(t,{vV:()=>d,VZ:()=>o,tP:()=>r,x1:()=>l});var s=n(588);var i=n(94823);class a{setHandler(){}setContext(){}error(){}warn(){}log(){}}const r=e=>(0,i.Kn)(e)&&Boolean(e._isZenLoggerEventInfo),o=e=>(0,i.Kn)(e)&&(0,i.HH)(e.stack),l=e=>{if(!(0,i.Kn)(e))return!1;try{return JSON.stringify(e),!0}catch(e){return!1}},c=(e,t)=>{const n=(window[s.A]=window[s.A]||{})[e];return(0,i.o8)(n)?t:n},d=()=>c("zenLogger")||new a},37828:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});const{hasOwnProperty:s}=Object.prototype,i=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return Object.is(e,t);const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let a=0;a<n.length;a++){const r=n[a];if(!s.call(t,r)||!i(e[r],t[r]))return!1}return!0}},10253:(e,t,n)=>{"use strict";n.d(t,{j6:()=>r,j2:()=>o,OK:()=>l,Xg:()=>c,Bd:()=>d,UW:()=>u});var s=n(82204),i=n(9395),a=n(48422);const r=e=>(0,s.v)(e),o=(e,t)=>(0,i.d)(t,e),l=a.Rx,c=a.O7,d=a.Z_,u=e=>e},6816:(e,t,n)=>{"use strict";n.d(t,{S0:()=>i,oI:()=>a,GN:()=>r});const s={},i=e=>{s[e]&&s[e].length&&(s[e].forEach((e=>{e()})),s[e]=[])},a=e=>{s[e]=[]},r=(e,t)=>{s[e]||(s[e]=[]),s[e].push(t)}},44793:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u});const{hasOwnProperty:s}=Object.prototype,i=e=>Array.isArray(e)?e.slice():Object.assign({},e),a=e=>e&&"object"==typeof e,r=(e,t)=>{if(Array.isArray(e)){const n=Number(t),s=e.slice(0,n).concat(e.slice(n+1));return e.length!==s.length?s:null}{const n=Object.assign({},e);delete n[t];return s.call(e,t)!==s.call(n,t)?n:null}},o=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},l=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},c=(e,t)=>{const n=l(t);let i=e;for(let e=0;e<n.length;e++){const t=n[e];if(!a(i)||!s.call(i,t))return;i=i[t]}return i},d=(e,t,n)=>{if(!a(e))throw new Error("Value is not an object.");const r=l(t),c=i(e);let d=c,u=!1;for(let e=0;e<r.length;e++){const t=r[e],l=e===r.length-1;if(Array.isArray(d)&&o(t),l){const e=s.call(d,t),i=e?d[t]:void 0,a=d[t]="function"==typeof n?n(i):n;e&&Object.is(i,a)||(u=!0)}else if(s.call(d,t)){if(!a(d[t]))throw new Error("Value is not an object.");d=d[t]=i(d[t])}else d=d[t]={},u=!0}return u?c:e},u={get:c,set:d,del:(e,t)=>{if(!a(e))throw new Error("Value is not an object.");const n=l(t);if(1===n.length){const t=n[0];return r(e,t)||e}const c=i(e);let d=c,u=!1;for(let e=0;e<n.length-1;e++){const t=n[e],l=e===n.length-2;if(Array.isArray(d)&&o(t),!s.call(d,t))break;if(!a(d[t]))throw new Error("Value is not an object.");if(l){const s=n[e+1];(d[t]=r(d[t],s))&&(u=!0)}else d=d[t]=i(d[t])}return u?c:e},modify:(e,t,n)=>d(e,t,n(c(e,t)))}},44762:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var s=n(87363);class i extends s.Component{constructor(...e){return super(...e),this.state={hasError:!1},this}componentDidCatch(e){const{onCatch:t=console.error}=this.props;t(e),this.setState({hasError:!0})}render(){const{children:e,errorView:t}=this.props,{hasError:n}=this.state;return n?t||null:e}}},4238:(e,t,n)=>{"use strict";n.d(t,{v:()=>i,s:()=>a});var s=n(44793);const i=(e,t)=>{if(!Object.prototype.hasOwnProperty.call(e,t))return!1;const n=e[t];return"object"==typeof n&&"exp"in n&&Boolean(n.exp)},a=e=>Object.keys(e).filter((t=>s.ZP.get(e,[t,"exp"])))},49856:(e,t,n)=>{"use strict";n.d(t,{ed:()=>o,Jp:()=>l,oO:()=>c,tn:()=>d,fN:()=>m,N2:()=>p,In:()=>h,ex:()=>b,ji:()=>g,_I:()=>v,D1:()=>_,fQ:()=>f});var s=n(81235),i=n(76117),a=n(96497),r=n(95340);const o="feed_main",l="feed_video",c="feed_showcase",d="feed_suite",u="feed_undefined",m="feed_serp",p="feed_saved",h=e=>{const{params:t,channel:n}=e;switch(!0){case n&&("ok"===n.status||"banned"===n.status):return f(t.currentUrl);case t.feedType===s.u5.Showcase:return c;case t.feedType===s.u5.Suite:return d;case t.feedType===s.u5.Saved:return p;default:return o}},b=e=>`feed_channel_${e}`,g=e=>`feed_channel_${e}`,v=e=>`feed_interest_${e}`,_=e=>`feed_user_${e}`,f=e=>{if(!e)return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),u;const t=(0,a.en)(decodeURI(e));if(!t)return"";const n=(0,r.LX)(t.pathname,{path:i.Wj,exact:!0});if(null!=n&&n.params.channelId)return g(n.params.channelId);const s=(0,r.LX)(t.pathname,{path:i._g,exact:!0});if(null!=s&&s.params.channelName)return b(s.params.channelName);const l=(0,r.LX)(t.pathname,{path:i.ck,exact:!0});if(null!=l&&l.params.interestName)return v(l.params.interestName);const c=(0,r.LX)(t.pathname,{path:[i.g6,i.Yk],exact:!0});if(null!=c&&c.params.socialProfileId)return _(c.params.socialProfileId);const d=(0,r.LX)(t.pathname,{path:[i.Tu],exact:!0});return d?d.path===i.Tu?o:(console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),u):u}},93766:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});const s=({parentId:e,parentType:t})=>({__parent_id__:e||"__parent_id__",__parent_type__:t||"__parent_type__"})},37991:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});const s="https://dzen.ru/help/abuse/list.html"},3779:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});const s=e=>e instanceof Error?e:new Error(String(e))},81919:(e,t,n)=>{"use strict";n.d(t,{JL:()=>r,ZB:()=>o});var s=n(38450),i=n(95875),a=n(51749);const r=(e,t)=>{const n=(0,s.l)(t,e.bulkParams);return{show:()=>n((0,a.q)("show")),click:()=>{n((0,a.q)("click")),n((0,a.q)("search_result:click"))}}},o=({logCard:e,hpos:t})=>{const n=(0,i.Hz)(e);return Object.assign({},n,{searchResultClick:()=>{n.sourceClick({hpos:t}),e((0,a.q)("search_result:click"))},sourceShow:()=>{n.sourceShow({hpos:t})}})}},588:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const s="YandexZen"},48236:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var s=n(85548);const i=e=>t=>fetch(t).then((e=>e.text())).then((t=>{const n=t.replaceAll(/https:\/\/[^.]*\.zen\.crowdzeta\.kaizen\.yandex\.ru\//g,`https://${s.Y}/`),i=document.createElement("script");i.nonce=e,i.innerText=n,document.head&&document.head.appendChild(i)}))},14914:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var s=n(37471),i=n(88144);const a=()=>(0,s.v9)((e=>(0,i.a)(e)),s.wU)},68629:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var s=n(87363),i=n(20627);const a=({stats:e,onClick:t})=>{const n=(0,i.z)((()=>{e.repostClick(),null==t||t()}),250),a=(0,s.useCallback)((e=>{0!==e.button&&1!==e.button||n()}),[n]);return{handleClick:n,handleAuxClick:a}}},20708:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var s=n(14914);const i=(e={})=>{const{dzenSiteSelfTarget:t}=(0,s.j)(),n=Boolean(!1),i=Boolean(!1),a=Boolean(!0);return{target:n||i||a&&t?"_self":"_blank",isDesktop2:n,isVideoSite:i,isMorda:a}}},32192:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});n(14072),n(53208);var s=n(87363),i=n(37471);const a=(e,t)=>{const n=(0,s.useRef)(null),a=(0,s.useRef)(null),r=(0,s.useMemo)((()=>{const e={};return t.skip.forEach((t=>{e[t]=!0})),e}),[t.skip]),o=(0,s.useCallback)((t=>{const s=Object.keys(t);let i;return i=n.current&&a.current&&!((e,t,n,s)=>{if(e.keys.length!==n.length)return!0;for(let i=0,a=n.length;i<a;++i){const a=n[i];if(e.keys[i]!==a||!s[a]&&e.state[a]!==t[a])return!0}return!1})(n.current,t,s,r)?a.current:e(t),n.current={state:t,keys:s},a.current=i,i}),[e,r]);return(0,i.v9)(o,t.resultEqualityCheck)}},75227:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});n(14072),n(53208);var s=n(87363),i=n(2604);var a=n(38266),r=n(37471),o=n(81235);const l=({initialSource:e,stats:t,onConnectSource:n,onFeedback:l,onSubscribe:c,onUnsubscribe:d})=>{const[u]=(0,s.useState)((()=>n(e,e))),m=(({encodedSource:e,subscribe:t},n,a)=>{const[r,o]=(0,s.useState)((()=>n(e))),l=(0,s.useRef)(r);return(0,i.n)((()=>t((e=>{const t=n(e);a(l.current,t)||(l.current=t,o(t))})))),r})(u,(0,a.Xi)("strongestId","status","feedLink","subscriptionForbidden","isSubscribedInCurrentSession","isUnsubscribedInCurrentSession","title"),r.wU),p=(0,s.useCallback)(((e,n)=>{m.status===o.aF.SUBSCRIBED?(t.unsubscribe(e,n),d&&d(),u.setStatus(o.aF.NOT_SUBSCRIBED)):u.setStatusWithCondition(o.aF.SUBSCRIBED)&&(m.status===o.aF.BLOCKED&&t.cancelBlock(),t.subscribe(e,n),c&&c())}),[d,c,u,m.status,t]),h=(0,s.useCallback)((e=>{e?(m.status!==o.aF.BLOCKED&&t.block(),u.setStatus(o.aF.BLOCKED),l&&l()):(t.cancelBlock(),u.setStatus(o.aF.NOT_SUBSCRIBED),l&&l())}),[m.status,u,l,t]);return{source:m,toggleSubscribe:p,setSourceBlocked:h}}},77418:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var s=n(87363),i=n(469),a=n(81235),r=n(6449),o=n(31632);const l=({isVideoAutoplayEnabled:e,status:t,onToggleAutoplay:n,setSubscribeTriggerEvent:l,setFeedback:c,setCardBlocked:d,openFeedbackMenu:u,openComplaints:m,videoAutoplayOff:p,videoAutoplayOn:h,onShare:b,onAddToSuite:g,onRemoveFromSuite:v,onDelete:_,item:f,pinProps:y,onToggleSaved:w})=>{const k=(0,s.useMemo)((()=>({openFeedbackMenu:u,clickShare:b})),[u,b]),S=(0,s.useMemo)((()=>({openComplaints:m,setCardBlocked:d})),[m,d]),{handleContextMenuShow:E,handleBlock:C,handleComplain:I,handleShare:P,handleEdit:T,handleTogglePinning:R,handleDelete:A,handleMovePinUp:x,handleMovePinDown:O,handleAddToSuite:N,handleRemoveFromSuite:M,handleToggleSaved:L}=(0,r.T)({setFeedback:c,stats:k,setSubscribeTriggerEvent:l,feedbackProps:S,item:f,onDelete:_,pinProps:y,onAddToSuite:g,onRemoveFromSuite:v,onToggleSaved:w}),D=(0,i.Z)(C),B=(0,s.useCallback)((()=>{e?p():h(),n()}),[e,n,h,p]);return(0,s.useEffect)((()=>{t===a.aF.BLOCKED&&(null==D.current||D.current())}),[t,D]),{contextMenuPopupPosition:o.Jv,handleContextMenuShow:E,handleContextMenuBlock:C,handleContextMenuComplain:I,handleContextMenuAutoPlay:B,handleContextMenuShare:P,handleContextMenuEdit:T,handleContextMenuChangePinning:R,handleContextMenuMovePinDown:O,handleContextMenuMovePinUp:x,handleContextMenuAddToSuite:N,handleContextMenuRemoveFromSuite:M,handleContextMenuDelete:A,handleContextMenuToggleSaved:L}}},69328:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var s=n(87363),i=n(97078),a=n(12190),r=n(51749);const o={animate:!1,shouldScrollIfElementTopIsVisible:!1},l=({onCancelLike:e,onLike:t,onDislike:n,onSetLike:l,onFeedback:c,onInvalidateCache:d,setSourceBlocked:u,setSubscribeTriggerEvent:m,scrollTo:p,shouldToggleDislike:h,commentsDocumentId:b,feedback:g,dislikeQuestion:v,isFeedbackEnabled:_,stats:f})=>{const y=(0,s.useCallback)((()=>{b&&e(b)}),[b,e]),w=(0,s.useCallback)((()=>{t(),m&&m((0,r.q)("feedback:more"))}),[t,m]),k=(0,s.useCallback)((()=>{p&&p(o)}),[p]),S=(0,s.useCallback)((()=>{b&&l(b)}),[b,l]),{feedback:E,handleToggleFeedback:C,setFeedback:I}=(0,a.w)({initialFeedback:g,stats:f,onCancelLike:y,onFeedback:c,onLike:w,onSetDislike:k,onSetLike:S,onDislike:n});(0,s.useEffect)((()=>{void 0!==g&&I(g)}),[g,I]);const P=Boolean(E&&"liked"!==E),T=(0,s.useCallback)((e=>{if(!h||"disliked"===e)return C(e)}),[C,h]),R=_&&"disliked"===E;return{feedbackProps:(0,i.Z)({dislikeQuestion:v,onFeedback:c,onInvalidateCache:d,setSourceBlocked:u,stats:f,toggleFeedback:T}),isFeedbackCard:R,feedback:E,isNegativeFeedback:P,handleToggleFeedback:C,setFeedback:I}}},65066:(e,t,n)=>{"use strict";n.d(t,{O:()=>m});n(14072),n(53208);var s=n(89295),i=n(71183),a=n(33836),r=n(73459),o=n(43738),l=n(33566),c=n(76271),d=n(87363),u=n(99478);const m=(e,t=c.x3,n=!1,m)=>{const p=(0,u.b)(e);(0,o.Z)((()=>{p.next(e)}),[e]);const[h,...b]=(0,l.O)(t,(e=>e),m);return(0,d.useState)((()=>[h,...b.map((e=>(0,s.aj)(p,e).pipe((0,i.U)((([e,t])=>e?n:t)),(0,a.x)(),(0,r.B)())))]))[0]}},94823:(e,t,n)=>{"use strict";n.d(t,{hj:()=>s,HD:()=>i,o8:()=>a,Kn:()=>r,kJ:()=>o,mf:()=>l,HH:()=>c});const s=e=>"number"==typeof e,i=e=>"string"==typeof e,a=e=>void 0===e,r=e=>null!==e&&"object"==typeof e,o=e=>Array.isArray(e),l=e=>"function"==typeof e,c=e=>i(e)&&e.length>0},19460:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});const s=e=>Object.keys(e)},32358:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});n(14072);const s={},i=(e,{invalidate:t=!1,crossorigin:n=!1,useCredentials:i=!1}={})=>{if(s[e]&&!t)return s[e].promise;const a=document.createElement("script");a.src=e,a.async=!0,n&&(a.crossOrigin=i?"use-credentials":"anonymous");const r=new Promise(((t,n)=>{a.onload=()=>{s[e].loaded=!0,t()},a.onerror=t=>{s[e].error=t,n(new Error(`loadJs: failed to load script: '${e}'.`))}}));return s[e]&&document.head&&document.head.removeChild(s[e].script),document.head&&document.head.appendChild(a),s[e]={script:a,promise:r,loaded:!1,error:null},r};i.isRequested=e=>Boolean(s[e]),i.isLoaded=e=>Boolean(s[e]&&s[e].loaded),i.isFailed=e=>Boolean(s[e]&&s[e].error)},38266:(e,t,n)=>{"use strict";n.d(t,{Rj:()=>s,pc:()=>i,s0:()=>a,a$:()=>r,xh:()=>o,Xi:()=>l});n(14072),n(53208);const s=(e,t)=>e[t],i=(e,t)=>e.reduce(((e,n)=>(e[t(n)]=n,e)),{}),a=e=>Object.values(e),r=e=>new Array(e).fill(0).map(((e,t)=>t)),o=(e,t)=>Object.keys(e).reduce(((n,s)=>{const i=e[s];return n[s]=t(i,s,e),n}),{}),l=(...e)=>t=>{const n={};for(const s of e)n[s]=t[s];return n}},52815:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});n(14072);const s={timeouts:[5e3,1e4,15e3]},i=(e,t)=>{let n,i;const a=e=>{n=Object.assign({},s,e)},r=({args:t,timeouts:s=n.timeouts,withoutAction:a=!1,withoutRetries:r=!1,onTryComplete:o=(e=>{if(e.isRejected)throw e.error;return e.value})}={})=>{const l=(e=>"function"!=typeof e?()=>e:e)(t),c=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(s);let d,u,m=0,p=!1,h=!1;const b=()=>d===i,g=()=>!p&&!h,v=()=>!r&&g()&&b(),_=()=>{g()&&(u&&u(),h=!0)},f=()=>{const t=l(m);let n;return Array.isArray(t)?n=e(...t):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then((e=>o({value:e,tryNumber:m,isFulfilled:!0,isRejected:!1,isLastSession:b,abortRetries:_})),(e=>o({error:e,tryNumber:m,isFulfilled:!1,isRejected:!0,isLastSession:b,abortRetries:_})))},y=e=>{if(v()){const n=c(m);if("number"==typeof n)return m++,(t=n,new Promise(((e,n)=>{u=()=>{u=null,n(new Error("Retries aborted."))},setTimeout((()=>{u=null,e()}),t)}))).then((()=>{if(v())return f().catch(y);throw e}));null!=n&&console.warn("Expected action timeout to be a number or null/undefined.")}var t;throw e},w=a?Promise.reject(new Error("Generated error by 'withoutAction' call.")):f(),k=(S=w.catch(y),E=()=>{p=!0},S.then((e=>(E(e),e)),(e=>{throw E(e),e})));var S,E;return i&&i.abortRetries(),i=d={actionResult:w,retriesResult:k,isLastSession:b,isInProgress:g,abortRetries:_}};a(t);const o=(...e)=>r({args:e});return o.startSession=r,o.setOptions=a,o}},18326:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var s=n(5443);const i={finishDataLoadingMetric:!0,startDataRenderingMetric:!0,finishDataRenderingMetric:!0,animationSpeedMetric:!0};class a{constructor(){this.subpageName="subpage",this.init=e=>{this.getSpaMetricsManager=e},this.getSubpage=()=>this.getSpaMetricsManager&&this.getSpaMetricsManager(this.subpageName),this.createSubpage=(e={})=>{const t=Boolean(!1);return this.getSpaMetricsManager&&this.getSpaMetricsManager(this.subpageName).makeSpaSubPage(Object.assign({},i,e),!1,!0,t?void 0:{"-page":"zen"})}}}class r extends a{constructor(...e){return super(...e),this.subpageName="similar-feed.first",this.clickCard=()=>{this.startRender()},this.startRender=()=>{this.createSubpage({startDataLoadingMetric:!1,finishDataLoadingMetric:!1})},this.renderVideoFeedModal=()=>{var e;null==(e=this.getSubpage())||e.startDataRendering()},this.stubShown=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("doc2doc.stub.shown")},this.commentsShown=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("doc2doc.comments.shown")},this.shown=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("doc2doc.shown")},this.ready=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("doc2doc.ready")},this}}class o extends a{constructor(...e){return super(...e),this.startLoading=()=>{this.createSubpage()},this.finishLoading=e=>{var t;null==(t=this.getSubpage())||t.finishDataLoading(e)},this.renderStart=()=>{var e;null==(e=this.getSubpage())||e.startDataRendering()},this.shown=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("doc2doc.shown")},this}}class l extends a{constructor(...e){return super(...e),this.clickCard=()=>{this.startRender()},this.startRender=()=>{this.createSubpage({startDataLoadingMetric:!0})},this.startIniting=()=>{var e;null==(e=this.getSubpage())||e.startDataLoading()},this.stubShown=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("stub.shown")},this.bundleLoaded=e=>{var t;null==(t=this.getSubpage())||t.finishDataLoading(e)},this.shown=()=>{var e;null==(e=this.getSubpage())||e.sendTimeMark("shown")},this}}const c={similarFeedFirst:new r,similarFeedNext:new class extends r{constructor(...e){return super(...e),this.subpageName="similar-feed.next",this}},similarFeedCommentsClickCard:new class extends l{constructor(...e){return super(...e),this.subpageName="similar-feed.comments.click-card",this}},similarFeedCommentsClickSimilarCard:new class extends l{constructor(...e){return super(...e),this.subpageName="similar-feed.comments.click-similar-card",this}},similarFeedCommentsOpen:new class extends l{constructor(...e){return super(...e),this.subpageName="similar-feed.comments.open",this}},similarFeedCommentsOpenSimilar:new class extends l{constructor(...e){return super(...e),this.subpageName="similar-feed.comments.open-similar",this}},doc2docFeedFirst:new class extends o{constructor(...e){return super(...e),this.subpageName="doc2doc-feed.first",this}},doc2docFeedNext:new class extends o{constructor(...e){return super(...e),this.subpageName="doc2doc-feed.next",this}}};const d={mainFeed:new class extends a{constructor(...e){return super(...e),this.subpageName="main-feed.more-items",this.startLoading=()=>{this.createSubpage({useExternalMetricsCollector:!0})},this.finishLoading=e=>{var t;null==(t=this.getSubpage())||t.finishDataLoading(e)},this.renderStart=()=>{var e;null==(e=this.getSubpage())||e.startDataRendering(),"undefined"!=typeof window&&window.Ya&&Ya.Rum&&Ya.Rum.timeEnd&&(Ya.Rum.time("zen.more"),requestAnimationFrame((()=>{Ya.Rum.timeEnd("zen.more")})))},this}}};const u=new class{constructor(e){this.initGroup=(e,t)=>(0,s.u)(this.allGroups[e]).forEach((n=>{const s=this.allGroups[e][n];s?s.init(t):console.error(`MetricsManager: subpage "${String(e)}:${String(n)} not found`)})),this.init=(e,t)=>{(0,s.u)(e).forEach((n=>e[n]&&this.initGroup(n,t)))},this.getSubpage=(e,t)=>this.allGroups[e][t],this.allGroups=e}}({feed:d,video:c})},43610:(e,t,n)=>{"use strict";n.d(t,{_:()=>s,rV:()=>i,$p:()=>a});const s=(e,t)=>{switch(e){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;case"dzen":return t?88704546:88704539;default:return 44046119}},i=51446871,a=68705926},42478:(e,t,n)=>{"use strict";n.d(t,{u:()=>u,e:()=>m});var s=n(74251),i=n(87363),a=n(37471),r=n(52757),o=n(88144),l=(n(43610),n(21727));let c=0;const d=({getRezenMediascope:e})=>t=>{const n=e(),{isEnabled:s,timeoutInSeconds:a}=n,r=(0,i.useMemo)((()=>{let e="";if(t){e=`?page-url=${encodeURIComponent(t)}`}return[]}),[s,t]),o=(0,l.m)(r,.2);return(0,i.useCallback)((()=>{const e=Date.now();a&&c+1e3*a>e||(c=e,o())}),[a,o])},u=d({getRezenMediascope:()=>(0,a.v9)(o.a).rezenMediascope}),m=d({getRezenMediascope:()=>(0,s.od)().rezenMediascope||{isEnabled:r.ci,timeoutInSeconds:r.Z}})},21727:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var s=n(87363);const i=(e,t=1)=>(0,s.useCallback)((()=>{e&&e.forEach((e=>{const n=new Image;n.onerror=()=>{Math.random()<=t&&console.error(`Error while calling pixel; ${e}`)},n.src=e}))}),[t,e])},85340:(e,t,n)=>{"use strict";n.d(t,{Qc:()=>g,Hj:()=>v,Ry:()=>_,Lb:()=>f,IX:()=>y,Z_:()=>w,Rx:()=>k,kS:()=>S,AV:()=>E,jV:()=>C,nn:()=>I,IM:()=>P,d_:()=>T,wY:()=>R,i0:()=>A,O7:()=>x});var s=n(32481),i=n(51780),a=n(62993),r=n(30373),o=n(86826),l=n(26347),c=n(2464),d=n(29332),u=n(77735),m=n(46821),p=n(72034),h=n(78147),b=n(40352);const g=(e,t)=>(0,s.Qc)(e,t,""),v=(e,t)=>(0,s.Hj)(e,t,""),_=i.v,f=a.R,y=r.I,w=o.Z_,k=o.Rx,S=l.kS,E=c.A,C=d.j,I=u.n,P=m.I,T=p.d,R=h.w,A=b.i,x=o.O7},14307:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});n(14072),n(53208);function s(e){return Object.entries(e).reduce(((e,[t,n])=>(void 0!==n&&String(n)&&(e[`__${t}__`]=String(n)),e)),{})}},77742:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var s=n(82028),i=n(96497);const a=(e,t)=>`https://passport.yandex.${(0,i.S8)()}/profile/public${(0,s.I$)({origin:e,mode:"popup",retpath:t})}`},20971:(e,t,n)=>{"use strict";n.d(t,{UY:()=>r,MT:()=>o,oR:()=>l,zk:()=>c});var s=n(62998),i=n(1441),a=n(37471);const r=i.UY,o=i.MT,l=a.oR,c=s.Z},66274:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});const s=e=>e.replace(/[^/]*\.zen\.crowdzeta\.kaizen\.yandex\.([^/]*)/,"zen.yandex.$1")},33262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initExternalMetricsCollector:()=>i});var s=n(65162);const i=e=>{const t={},n={};e.externalMetricsCollector={collect:()=>{const e=Object.assign({},t);return Object.keys(n).forEach((t=>{const i=n[t].length;i>0&&(e[`${t}.avg`]={value:(0,s.calcAverage)(n[t].map((e=>e.value))),unit:n[t][0].unit}),e[`${t}.count`]={value:i,unit:"score"}})),e},add:(e,n,s)=>{t[e]={value:s,unit:n}},addAverage:(e,t,s)=>{n[e]=n[e]||[],n[e].push({value:s,unit:t})}}}},65162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calcAverage:()=>s,calcMedian:()=>i,initProcessController:()=>a});n(17453);const s=e=>e.reduce(((e,t)=>e+t),0)/e.length,i=e=>{const t=e.sort(((e,t)=>e-t)),n=Math.floor(e.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},a=e=>{e.sendAnimationSpeed=(t,n,a)=>{const r=[],o=e.getTime();let l=e.getTime();const c=()=>{requestAnimationFrame((()=>{const d=e.getTime();if(r.push(d-l),l=d,d-o<n)c();else{if(!r.length)return void window.console.error(`No rafGaps for ${t}.`);e.sendDelta(`${t}.avg`,s(r),a),e.sendDelta(`${t}.mdn`,i(r),a)}}))};c()},e.getSpaMetricsManager=(()=>{const t={},n={},s=s=>(i={finishDataLoadingMetric:!0,startDataRenderingMetric:!0,finishDataRenderingMetric:!0},a=!1,r=!1,o)=>{r&&(e.sendTrafficData(),e.finalizeLayoutShiftScore(),e.finalizeLargestContentfulPaint());const l=e.makeSubPage(`${a?"block":"page"}.${s}`);return Object.assign(l,o),n[s]={spaMetricsOptions:i},t[s]=l,l},i=(s,i,a,r)=>{e.sendDelta(s,i,a);const o=n[r],l=t[r];if(e.externalMetricsCollector&&o&&o.spaMetricsOptions&&o.spaMetricsOptions.useExternalMetricsCollector&&l){const t=`${r}.${s}`,n=e.getTime()-Number(l[689.2322]);e.externalMetricsCollector.addAverage(t,"ms",n)}},a=s=>()=>{var a,r;const o=t[s],l=n[s];if(!o||!l)return void window.console.error(`No subpage with id ${s}.`);const c=e.getTime();!l.stubRenderingStartTime&&null!=l&&null!=(a=l.spaMetricsOptions)&&a.startStubRenderingMetric&&window.console.error(`No stubRenderingStartTime for subpage with id ${s}.`),null!=l&&null!=(r=l.spaMetricsOptions)&&r.finishStubRenderingMetric&&i("stub.render.finish",c-(l.stubRenderingStartTime||Number(o[689.2322])),o,s)},r=s=>(r=!0)=>{var o;const l=t[s],c=n[s];if(!l||!c)return void window.console.error(`No subpage with id ${s}.`);const d=e.getTime();c.stubRenderingStartTime=d,null!=c&&null!=(o=c.spaMetricsOptions)&&o.startStubRenderingMetric&&i("stub.render.start",d-Number(l[689.2322]),l,s),r&&requestAnimationFrame((()=>{a(s)()}))},o=s=>()=>{var a;const r=t[s],o=n[s];if(!r||!o)return void window.console.error(`No subpage with id ${s}.`);const l=e.getTime();o.dataLoadingStartTime=l,null!=o&&null!=(a=o.spaMetricsOptions)&&a.startDataLoadingMetric&&i("data.load.start",l-Number(r[689.2322]),r,s)},l=s=>a=>{var r,o;const l=t[s],c=n[s];if(!l||!c)return void window.console.error(`No subpage with id ${s}.`);const d=e.getTime();c.dataLoadingFinishTime=d,!c.dataLoadingStartTime&&null!=c&&null!=(r=c.spaMetricsOptions)&&r.startDataLoadingMetric&&window.console.error(`No dataLoadingStartTime for subpage with id ${s}.`),null!=c&&null!=(o=c.spaMetricsOptions)&&o.finishDataLoadingMetric&&i("data.load.finish."+(a?"cache":"network"),d-(c.dataLoadingStartTime||Number(l[689.2322])),l,s)},c=s=>(a="",r=1e3)=>{var o,l;const c=t[s],d=n[s];if(!c||!d)return void window.console.error(`No subpage with id ${s}.`);if(!d.dataRenderingStartTime)return void window.console.error(`No dataRenderingStartTime for subpage with id ${s}.`);const u=e.getTime();null!=d&&null!=(o=d.spaMetricsOptions)&&o.finishDataRenderingMetric&&i("data.render.finish"+(a?`.${a}`:""),u-d.dataRenderingStartTime,c,s),null!=d&&null!=(l=d.spaMetricsOptions)&&l.animationSpeedMetric&&(null==e.sendAnimationSpeed||e.sendAnimationSpeed(`data.render${a?`.${a}`:""}.animation`,r,c))},d=s=>(a="",r=!0,o=1e3)=>{var l,d;const u=t[s],m=n[s];if(!u||!m)return void window.console.error(`No subpage with id ${s}.`);if(!m.dataLoadingFinishTime&&null!=m&&null!=(l=m.spaMetricsOptions)&&l.finishDataLoadingMetric)return void window.console.error(`No dataLoadingFinishTime for subpage with id ${s}.`);const p=e.getTime();m.dataRenderingStartTime=p,null!=m&&null!=(d=m.spaMetricsOptions)&&d.startDataRenderingMetric&&i("data.render.start"+(a?`.${a}`:""),p-(m.dataLoadingFinishTime||Number(u[689.2322])),u,s),r&&requestAnimationFrame((()=>{c(s)(a,o)}))},u=n=>s=>{const i=t[n];i?e.sendTimeMark(s,void 0,!0,i):window.console.error(`No subpage with id ${n}.`)};return e=>({makeSpaSubPage:s(e),startStubRendering:r(e),finishStubRendering:a(e),startDataLoading:o(e),finishDataLoading:l(e),startDataRendering:d(e),finishDataRendering:c(e),sendTimeMark:u(e)})})()}},88583:(e,t,n)=>{"use strict";n.d(t,{LW:()=>S,XR:()=>E,Dr:()=>C,XV:()=>I,Kg:()=>P,YZ:()=>T,zY:()=>R});n(14072),n(53208);var s=n(54934),i=n(99769);let a=[],r=[],o=[],l=[],c=[],d=!1;const u=i.Z.hasSupport;let m;function p(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function h(e,t){const n=[];let s;for(let i=0,a=e.length;i!==a;i++)s=e[i],t(s)&&n.push(s);return n}let b=0;function g(){return b++,`__scrollEv${b}__`}const v={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let _=F(v),f={},y=!1;const w=[];function k(){const e=F(_);_=D(e)}const S=(e,t,n)=>{var s,i;r.push({scroll:e.scroll,name:e.name||g(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&(s=e.scroll-700,i=e.scroll+700,w.push([s,i]))},E=(e,t,n)=>{o.push({delta:e.delta,name:e.name||g(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,overScrollBehavior:void 0===e.overScrollBehavior||e.overScrollBehavior,data:n,callback:t})},C=e=>{r=h(r,(t=>t.name!==e))},I=e=>{o=h(o,(t=>t.name!==e))},P=()=>{d=!0},T=()=>{k(),d=!1};const R=()=>{u?document.addEventListener("scroll",x,{passive:!0}):requestAnimationFrame(N),((e,t,n)=>{const s=e.name||g();l.push({name:s,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0})})({},(({scroll:e})=>{!function(e){let t=!1;p(w,(([n,s])=>{e>=n&&e<=s&&(t=!0)})),y=t}(e)}))};function A(e,t,n){return n.fromBottom?e<=n.scroll||Boolean(n.bottomEdge&&t<=n.scroll):e>=n.scroll||Boolean(n.bottomEdge&&t>=n.scroll)}function x(){N(Date.now())}function O(e,t){u&&(t||(window.clearTimeout(m),m=window.setTimeout((()=>N(Date.now(),!0)),250)));const n=F(_);_=D(n,t);const{scroll:s,scrollBottomEdge:i}=_;!0===_.scrolling&&n.scrolling,(!0===_.scrolling||t)&&function(e){M(e,!1),L(e,!1)}(_),!1===_.scrolling&&!0===n.scrolling&&function(e){M(e,!0),L(e,!0),p(c,(e=>{window.clearTimeout(e._timeout),e.callback()})),c=[]}(_),function(e,t){p(a,(n=>{if(A(e,t,n)){if(n.onceDebounce&&n._triggeredDebounce)return;B(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)})),a=h(a,(e=>!(e._triggered&&e.once)))}(s,i),function(e,t){p(r,(n=>{0===n._state&&A(e,t,n)&&(B(n.name,{state:1,data:n.data},n.callback),Z(n.name)||(n._state=1)),1!==n._state||A(e,t,n)||(B(n.name,{state:0,data:n.data},n.callback),Z(n.name)||(n._state=0))}))}(s,i),u||requestAnimationFrame(N)}const N=y?O:(0,s.P)(O,30);function M(e,t){const n=h(o,(e=>Boolean(e.endTrigger)===t)),s=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,i=Math.abs(s),a=s>0?1:-1;p(n,(t=>{t.onceDebounce&&f[t.name]||i>=t.delta&&(t.direction===a||t.anyDirection)&&(t.overScrollBehavior||e.scroll>0)&&(B(t.name,{data:t.data},t.callback),t._triggered=!0,f[t.name]=!0)})),o=h(o,(e=>!(e._triggered&&e.once)))}function L(e,t){const n=Date.now();p(l,(s=>{(n-s._lastTriggerTime>=s.timeout||t)&&(B(s.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:s.data},s.callback),s._lastTriggerTime=n)}))}function D(e,t){const n=F(v),s=window.pageYOffset,i=Date.now();return n.scroll=s,n.scrollBottomEdge=s+window.innerHeight,n.scroll!==e.scroll?n.lastScrollChangeTime=i:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,i-n.lastScrollChangeTime>250||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=s,f={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=s),n}function B(e,t,n){Z()||n&&n(t)}function F(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function Z(){return d}},48650:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});n(14072);var s=n(88583);const i=new class{loop(e){var t,n,s,i;"number"==typeof this.start&&"number"==typeof this.distance&&"number"==typeof this.scrollTime&&(this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=(t=this.timeElapsed,n=this.start,s=this.distance,i=this.scrollTime,(t/=i/2)<1?s/2*t*t+n:-s/2*(--t*(t-2)-1)+n),this.container?this.container.scrollTop=this.next:window.scrollTo(0,this.next),this.timeElapsed<this.scrollTime?requestAnimationFrame((e=>{this.loop(e)})):this.end&&this.end())}scrollTo({top:e=0,animate:t=!0,container:n,scrollTime:s=200}={}){return new Promise((i=>{const a=Math.max(0,e),r=()=>{if("number"!=typeof this.start||"number"!=typeof this.distance)return;const e={scroll:a,scrollBottomEdge:a+window.innerHeight};n?n.scrollTop=this.start+this.distance:window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=e,i(a)};this.end=r,this.start=n?n.scrollTop:window.pageYOffset,this.distance=a-this.start,this.scrollTime=s,this.disableScrollEvents(),this.container=n,t?requestAnimationFrame((e=>{this.loop(e)})):(n?n.scrollTop=a:window.scrollTo(0,a),r())}))}disableScrollEvents(){(0,s.Kg)()}enableScrollEvents(){setTimeout((()=>(0,s.YZ)()),500)}}},23654:(e,t,n)=>{"use strict";n.d(t,{K:()=>s,k:()=>i});const s=e=>"/"===e[e.length-1]?e.slice(0,-1):e,i=e=>"/"===e[0]?e.slice(1):e},47171:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var s=n(87363),i=n(20971),a=n(34534),r=n(37471),o=n(38266);const l=e=>({strongestId:e.id,type:e.type,title:e.title,logo:e.logo,logoBackgroundColor:e.logoBackgroundColor,isVerified:e.isVerified,feedLink:e.feedLink,feedApiLink:e.feedApiLink,subscriptionForbidden:e.subscriptionForbidden,status:e.status,isSubscribedInCurrentSession:Boolean(e.isSubscribedInCurrentSession),isUnsubscribedInCurrentSession:Boolean(e.isUnsubscribedInCurrentSession),isUnblockedInCurrentSession:Boolean(e.isUnblockedInCurrentSession),bulkParams:e.bulkParams}),c=(0,o.Xi)("id","strongestId","type","title","logo","logoBackgroundColor","isVerified","feedLink","feedApiLink","subscriptionForbidden"),d=()=>{const e=(0,r.I0)(),t=(0,i.oR)();return(0,s.useCallback)(((n,{status:s})=>{const i=c(n),o=i.strongestId,d=t.getState().sources[o]||Object.assign({},i,{id:o,status:s}),u=l(d);return{encodedSource:u,subscribe:e=>{let n=u;return t.subscribe((()=>{if(!t.getState().sources[o])return;const s=l(t.getState().sources[o]);(0,r.wU)(n,s)||(n=s,e(s))}))},setStatus:n=>{const s=t.getState().sources[o]||d,r=Object.assign({},i,s,{status:n});return e((0,a.HI)(n,r))},setStatusWithCondition:s=>{const r=t.getState().sources[o]||d,l=Object.assign({},i,r,{bulkParams:n.bulkParams,status:s});return e((0,a.KE)(s,l))}}}),[e,t])}},95875:(e,t,n)=>{"use strict";n.d(t,{cq:()=>r,Jx:()=>o,xT:()=>l,H9:()=>c,S4:()=>d,Hz:()=>u,KG:()=>m,ZR:()=>p,CV:()=>h,yb:()=>b,uM:()=>g,Mx:()=>v,f:()=>_,VX:()=>f,cW:()=>S,lD:()=>E,cY:()=>C,v1:()=>I,Zy:()=>P,wA:()=>T,W$:()=>R,rF:()=>A,qR:()=>x});var s=n(93766),i=n(14307),a=n(51749);const r=(e,t)=>({click:n=>e((0,a.q)("click"),{extendStatMeta:{link:t},bulkReplaceMap:{__item_height__:n?String(n):"__item_height__"}}),show:t=>e((0,a.q)("show"),{bulkReplaceMap:{__item_height__:t?String(t):"__item_height__"}}),short:()=>e((0,a.q)("short")),swipe:t=>e((0,a.q)("swipe"),{bulkReplaceMap:{__service_item_type__:t||"__service_item_type__"}})}),o=e=>({like:()=>e((0,a.q)("feedback:more")),dislike:()=>e((0,a.q)("feedback:less")),cancelLike:()=>e((0,a.q)("feedback:cancel_more")),cancelDislike:()=>e((0,a.q)("feedback:cancel_less"))}),l=e=>({clickCommentCounter:()=>e((0,a.q)("comments:counter_click")),clickShare:()=>e((0,a.q)("share"))}),c=e=>({clickTeaser:()=>e((0,a.q)("preview:click")),showTeaser:()=>e((0,a.q)("preview:show"))}),d=e=>({showComplain:()=>e((0,a.q)("complain:show")),clickComplain:t=>{const n="string"==typeof t?[t]:t;e((0,a.q)("complain:click",null==n?void 0:n.join(",")))},openFeedbackMenu:()=>e((0,a.q)("open_feedback_menu"))}),u=(e,t)=>{const n=e=>(t,n)=>{e(("string"==typeof n?n:void 0)||("string"==typeof t?t:void 0))};return{unsubscribe:n((t=>e((0,a.q)("feedback:cancel_favourite",t||"")))),subscribe:n((t=>e((0,a.q)("feedback:favourite",t||"")))),showSubscribeButton:n((t=>e((0,a.q)("favourite_button:show",t||"")))),block:()=>e((0,a.q)("feedback:block")),cancelBlock:()=>e((0,a.q)("feedback:cancel_block")),clickCardSourceLink:()=>e((0,a.q)("card_source:click"),{extendStatMeta:{link:t}}),sourceClick:({height:t,parentId:n,hpos:s,parentType:r}={})=>e((0,a.q)("source:click"),{bulkReplaceMap:(0,i.h)({item_height:t,parent_id:n,parent_type:r,hpos:s})}),sourceShow:({height:t,parentId:n,hpos:s,parentType:r}={})=>e((0,a.q)("source:show"),{bulkReplaceMap:(0,i.h)({item_height:t,parent_id:n,parent_type:r,hpos:s})})}},m=(e,t,n)=>({setAnswerChecked:(s,i)=>{if(!n)return;const{id:r,type:o,answers:l}=n,c=l.find((({id:e})=>s===e));if(!c)return console.error("Answer not found: ",s);e(i?(0,a.q)("custom_user_feedback:click",r,o,s,c.type):(0,a.q)("custom_user_feedback:cancel_click",r,o,s,c.type)),t(i?(0,a.q)("feedback:block"):(0,a.q)("feedback:cancel_block"),c.stats)},showExtendedDislike:()=>{if(!n)return;const{id:t,type:s,answers:i}=n;e((0,a.q)("custom_user_feedback:show",t,s,i.map((({id:e})=>e)).join(","),i.map((({type:e})=>e)).join(",")))}}),p=e=>({showLikeReaction:()=>e((0,a.q)("reaction:show_like")),showDislikeReaction:()=>e((0,a.q)("reaction:show_dislike")),showClickReaction:()=>e((0,a.q)("reaction:show_click"))}),h=(e,t)=>({showPublisherLike:()=>e((0,a.q)("client:show","card_header.publisher_like"),{bulkReplaceMap:{__item_id__:t}})}),b=(e,t={})=>({finishCardClick:()=>e((0,a.q)("click"),{bulkReplaceMap:Object.assign({},(0,s.x)(t))}),changeInterestsClick:()=>e((0,a.q)("click"),{bulkReplaceMap:Object.assign({},(0,s.x)(t))})}),g=e=>({showMoreBlock:()=>e((0,a.q)("subscriptions_heads:subscriptions_more:show")),clickMoreBlock:()=>e((0,a.q)("subscriptions_heads:subscriptions_more:click"))}),v=e=>({showHeadWithLive:()=>e((0,a.q)("head_with_live:show")),clickHeadWithLive:()=>e((0,a.q)("head_with_live:click"))}),_=e=>({showHeadsPanel:()=>e((0,a.q)("client:show","sidebar-left.subscriptions-heads"))}),f=e=>({showPanel:()=>e((0,a.q)("client:show","subscriptions-heads.panel")),clickVideoButton:()=>e((0,a.q)("client:click","subscriptions-heads.button.video")),clickCreateButton:()=>e((0,a.q)("client:click","subscriptions-heads.button.create")),clickSearch:()=>e((0,a.q)("client:click","subscriptions-heads.search")),clickLogo:()=>e((0,a.q)("client:click","subscriptions-heads.logo"))}),y="1005",w="1006",k="covid19",S=e=>({showCovid19Message:()=>e((0,a.q)("client:show",k),{bulkReplaceMap:{__item_id__:y,__item_type__:"interface_element"}}),clickCovid19Message:()=>e((0,a.q)("client:click",k),{bulkReplaceMap:{__item_id__:w,__item_type__:"interface_element"}})}),E=e=>({clickShowcaseButton:()=>e((0,a.q)("showcase_button:click")),showShowcaseButton:()=>e((0,a.q)("showcase_button:show"))}),C=e=>({clickOpenModalDownload:()=>e((0,a.q)("app_install_popup:click")),clickDownloadAppButton:()=>e((0,a.q)("app_install_popup:short_click")),showModalDownload:()=>e((0,a.q)("app_install_popup:show"))}),I=e=>({showContentItem:(t,n)=>e((0,a.q)("content_item:show"),{bulkReplaceMap:{__parent_type__:t||"__parent_type__",__parent_id__:n||"__parent_id__"}}),clickContentItem:(t,n)=>e((0,a.q)("content_item:click"),{bulkReplaceMap:{__parent_type__:t||"__parent_type__",__parent_id__:n||"__parent_id__"}})}),P=(e,{place:t}={})=>({showMoreButton:()=>e((0,a.q)("more_button:show")),clickMoreButton:()=>e((0,a.q)("more_button:click"),{bulkReplaceMap:(0,i.h)({place_param:t})}),clickLessButton:()=>e((0,a.q)("less_button:click"),{bulkReplaceMap:(0,i.h)({place_param:t})})}),T=e=>({mute:t=>e((0,a.q)("carousel_item:mute"),{bulkReplaceMap:{__parent_id__:t||"__parent_id__"}}),cancelMute:t=>e((0,a.q)("carousel_item:cancel_mute"),{bulkReplaceMap:{__parent_id__:t||"__parent_id__"}})}),R=e=>({show:()=>e((0,a.q)("show")),click:t=>e((0,a.q)("click"),{bulkReplaceMap:{__path__:t}})}),A=e=>({click:t=>e((0,a.q)("click"),{bulkReplaceMap:{__item_height__:t?String(t):"__item_height__"},payload:{isNewsEvent:!0}}),show:t=>e((0,a.q)("show"),{bulkReplaceMap:{__item_height__:t?String(t):"__item_height__"},payload:{isNewsEvent:!0}}),short:()=>e((0,a.q)("short"))}),x=({logCard:e,jsonData:t,link:n,parentType:s})=>({click:()=>e((0,a.q)("content_item:click"),{bulkReplaceMap:{__link__:encodeURIComponent(n)||"__link__",__parent_type__:encodeURIComponent(s)||"__parent_type__"},payload:{json_data:t,isNewsEvent:!0}}),show:()=>e((0,a.q)("content_item:show"),{bulkReplaceMap:{__link__:encodeURIComponent(n)||"__link__",__parent_type__:encodeURIComponent(s)||"__parent_type__"},payload:{json_data:t,isNewsEvent:!0}})})},28349:(e,t,n)=>{"use strict";n.d(t,{c2:()=>s,YG:()=>r});const s=e=>e.replace(/&nbsp;/g," "),i=/[^aeiouy]*[aeiouy]+(?:[^aeiouy]*$|[^aeiouy](?=[^aeiouy]))?/gi,a=/[ЙЦКНГШЩЗХЪФВПРЛДЖЧСМТЬБ.]*[ЁУЕЫАОЭЯИЮ.][ЙЦКНГШЩЗХЪФВПРЛДЖЧСМТЬБ.]*?(?=$|[^А-ЯЁ.]|[ЦКНГШЩЗХФВПРЛДЖЧСМТБ.]?[ЁУЕЫАОЭЯИЮ.]|Й[АИУЕО.])/gi,r=e=>{try{return e.split(" ").map((e=>{if(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DD}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}]/u.test(e))return e;const t=e.replace(/ /g,"").split("").every((e=>e.match(/^[А-Яа-я0-9/.]*$/)))?a:i;const n=e.match(t);return n?n.join("­"):e})).join(" ")}catch(t){return e}}},81235:(e,t,n)=>{"use strict";let s;n.d(t,{aF:()=>s,Df:()=>i,HS:()=>a,Ft:()=>r,nh:()=>o,dH:()=>l,j3:()=>c,lu:()=>d,Xw:()=>m,u5:()=>p,UW:()=>h,tn:()=>b,MA:()=>g,XQ:()=>v}),function(e){e.SUBSCRIBED="subscribed",e.BLOCKED="blocked",e.NOT_SUBSCRIBED="not_subscribed"}(s||(s={}));const i={blocked:s.BLOCKED,subscribed:s.SUBSCRIBED,not_subscribed:s.NOT_SUBSCRIBED};let a,r,o,l,c,d;!function(e){e.Normal="normal",e.Header="header"}(a||(a={})),function(e){e.Normal="normal",e.Navbar="navbar"}(r||(r={})),function(e){e.Top="top",e.Bottom="bottom"}(o||(o={})),function(e){e.Black="black",e.White="white",e.Night="night"}(l||(l={})),function(e){e.App="app",e.More="more",e.Error="error",e.Load="load"}(c||(c={})),function(e){e.playerBottom="BOTTOM_PLAYER",e.sidebarTop="TOP_SIDEBAR",e.sidebarMultiple="DOC2DOC",e.sidebarLive="LIVE_ADS_BANNER"}(d||(d={}));let u,m,p,h,b,g,v;var _;let f;!function(e){e.Blur="blur",e.Fade="fade"}(u||(u={})),function(e){e.Suggest="catalog_suggest",e.Carousel="catalog_carousel",e.Category="catalog_category",e.Subs="subscriptions",e.Blocked="profile_blocked",e.Similar="feed",e.Feed="feed",e.Interest="interest",e.Channel="channel",e.Activity="activity_feed",e.Subscriptions="subscriptions",e.LeftColumn="left_column",e.MordaLeftColumn="morda_left_column",e.RightColumn="right_column",e.VideoRelated="video_related",e.VideoFeed="video_more",e.ShowcaseFeed="zen_showcase",e.Saved="saved"}(m||(m={})),function(e){e.Main="main",e.Channel="channel",e.Video="video",e.Interest="interest",e.Showcase="showcase",e.Serp="serp",e.Suite="suite",e.Saved="bookmarks"}(p||(p={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(h||(h={})),function(e){e.Active="active",e.Sleeping="sleeping",e.Deleted="deleted",e.NotExist="not_exist"}(b||(b={})),function(e){e.SourceSubscribeFromMainFeedCard="1001",e.SourceSubscribeFromFeedbackMenu="1002",e.SourceSubscribeFromCarousel="1003",e.SourceLikeFromFeed="1004",e.SourceSubscribeFormZenLib="4001",e.SourceSubscribeFormZenLibCarousel="4002",e.LikeFormZenLib="4002",e.SourceSubscribeFromPage="6001",e.SourceSubscribeFromPageCard="6002",e.SourceLikeFromPage="6003"}(g||(g={})),function(e){e.top="top",e.bottom="bottom"}(v||(v={})),function(e){e.short_video="short_video"}(_||(_={})),function(e){e.id="id",e.name="name",e.socialProfileId="socialProfileId"}(f||(f={}))},96497:(e,t,n)=>{"use strict";n.d(t,{No:()=>s,BE:()=>i,en:()=>a,S8:()=>r,IK:()=>o,mA:()=>l});n(14072);const s=()=>"undefined"!=typeof window?`${"undefined"!=typeof window?window.location.origin:""}${window.location.pathname}`:"",i=()=>"undefined"!=typeof window?window.location.search:"",a=e=>{const t=e.match(/^(([^:/?#]+:)?(?:\/\/((?:([^/?#:]*):([^/?#:]*)@)?([^/?#:]*)(?::([^/?#:]*))?)))?([^?#]*)(\?[^#]*)?(#.*)?$/);if(!t)return;const n=t[6]||"",s=n.match(/^(www.)(.*)/)||"";return{hash:t[10]||"",host:t[3]||"",hostname:n,hostnameWithoutPrefix:s&&s[2],pathname:t[8]||(t[1]?"/":""),protocol:t[2]||"",search:t[9]||""}},r=()=>{if("undefined"==typeof window)return"ru";return window.location.hostname.replace(/.*\.yandex\./,"")};function o(e,t){return`${e||"/"}t/${encodeURIComponent(t)}`}const l=(e,t,n)=>{try{return decodeURI(e).replace(n,t.toString())}catch(t){return console.error(t),e}}},54701:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var s=n(87363);const i=()=>(0,s.useCallback)((()=>!0),[])},45506:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var s=n(37471),i=n(87363);const a=e=>{const t=(0,s.I0)();return(0,i.useCallback)(((...n)=>t(e(...n))),[t,e])}},85466:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var s=n(87363);const i=e=>{const t=(0,s.useRef)(e);return(0,s.useEffect)((()=>{t.current=e}),[e]),(0,s.useCallback)(((...e)=>t.current(...e)),[])}},44781:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var s=n(87363),i=n(37471),a=n(20773),r=n(44624),o=n(14395),l=n(23268);const c=e=>{const{globalBus:t}=(0,l.vv)(),n=(0,i.I0)(),{handleFeedback:c}=(0,o.B)();return(0,s.useCallback)((s=>{e&&void 0!==s&&n((0,r.Fn)(e,s)),c(),t&&t.emit("cardFeedback"),n((0,a.DC)())}),[e,c,t,n])}},7688:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var s=n(87363),i=n(33418),a=n(23268);const r=()=>{const{zenApi:e}=(0,a.vv)();return(0,s.useCallback)((0,i.D)((()=>e.invalidateCache()),2500),[e])}},22694:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var s=n(87363),i=n(84113),a=n(54291);const r=()=>{const e=(0,i.Z)(),t=(0,a.X)();return{clientLog:(0,s.useCallback)(((n,s)=>e(n,Object.assign({},s,t))),[e,t]),log:e}}},53775:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var s=n(87363),i=n(37471),a=n(23268);const r=e=>{const{globalBus:t}=(0,a.vv)(),n=(0,i.I0)();return(0,s.useCallback)((s=>!!e&&(n(((e,n)=>{t.emit("requestSourceOpen",n().sources[s])})),!0)),[e,n,t])}},6060:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,E:()=>r});var s=n(87363);const i=e=>({getHeight:()=>{var t;return null==e||null==(t=e.current)?void 0:t.clientHeight}}),a=i,r=()=>{const e=(0,s.useRef)(null);return(0,s.useMemo)((()=>Object.assign({containerRef:e},i(e))),[e])}},10308:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});const s=n(33566).O},10226:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});n(14072),n(53208);var s=n(87363);const i=()=>{const[e,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t(!0)}),[]),e}},51684:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});n(14072),n(53208);var s=n(87363),i=n(92503);const a=e=>{const[[t,n]]=(0,s.useState)((()=>{const e=new i.xQ,t=new MutationObserver((t=>{t.some((e=>e.addedNodes.length>0))&&e.next(!0)}));return[e,t]}));return(0,s.useEffect)((()=>{e.current&&n&&n.observe(e.current,{attributes:!1,childList:!0,subtree:!1})}),[n,e]),t}},1910:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var s=n(87363);const i="undefined"!=typeof window?s.useLayoutEffect:s.useEffect},13616:(e,t,n)=>{"use strict";n.d(t,{TH:()=>r,UO:()=>o});var s=n(87363),i=n(95340),a=n(16001);function r(){const{location:e}=(0,s.useContext)(i.s6);return e}function o(){const{search:e}=r();return(0,s.useMemo)((()=>(0,a.jP)(e,!0)),[e])}},2604:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var s=n(87363);const i=e=>{(0,s.useEffect)(e,[])}},79538:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var s=n(85466),i=n(2604);const a=(e,t)=>{const n=(0,s.m)(t);(0,i.n)((()=>{const t=e();if(t){const e=t.subscribe({next:n});return()=>e.unsubscribe()}}))}},31665:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var s=n(87363),i=n(23268),a=n(37471);const r=(e,t)=>{const{globalBus:n}=(0,i.vv)(),r=(0,a.v9)((e=>e.params.isSpaApp));return(0,s.useCallback)((s=>{t&&t(s),e&&e.feedLink&&(!r||s.ctrlKey||s.metaKey||s.shiftKey||(s.preventDefault(),n.emit("requestSourceOpen",e)))}),[r,n,t,e])}},22262:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var s=n(87363),i=n(84113),a=n(14307),r=n(54291),o=n(51749);const l=()=>{const{bulkParams:e}=(0,r.X)(),t=(0,i.P)(e);return{clientClick:(0,s.useCallback)(((e,n)=>{const{itemId:s,itemType:i,sourceType:r,sourceId:l,place:c}=n||{};t((0,o.q)("client:click",e),{bulkReplaceMap:(0,a.h)({item_id:s,item_type:i,source_type_param:r,source_id_param:l,place_param:c})})}),[t]),clientShow:(0,s.useCallback)(((e,n)=>{const{itemId:s,itemType:i,sourceType:r,sourceId:l,place:c}=n||{};t((0,o.q)("client:show",e),{bulkReplaceMap:(0,a.h)({item_id:s,item_type:i,source_type_param:r,source_id_param:l,place_param:c})})}),[t])}}},84113:(e,t,n)=>{"use strict";n.d(t,{P:()=>c,Z:()=>d});var s=n(87363),i=n(23268),a=n(91209),r=n(39676),o=n(72331),l=n(89298);const c=e=>{const t=d();return(0,s.useCallback)(((n,{bulkReplaceMap:s,payload:i})=>{e&&t(n,{bulkParams:e,bulkReplaceMap:s,payload:i})}),[e,t])},d=()=>{const{zenApi:e}=(0,i.vv)(),t=(0,a.e)(),n=(0,o.i)(),c=(0,s.useMemo)((()=>null===t?{}:{rowIndex:t}),[t]),d=(0,l.AC)(),u=(0,r.FE)();return(0,s.useCallback)(((t,{bulkParams:s,bulkReplaceMap:i,payload:a,extendStatMeta:r,maxSendTimeoutMs:o})=>{e.logBulkEvents(t,{bulkParams:s,bulkReplaceMap:Object.assign({},d,u,i),statMeta:Object.assign({},c,r),payload:a,maxSendTimeoutMs:o},n)}),[d,u,c,e,n])}},50423:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var s=n(51749),i=n(87363),a=n(84113),r=n(14307);const o=(e,t)=>{const n=(0,a.Z)();return(0,i.useCallback)((({commentId:i,clickOnComment:a,videoPos:o,link:l,serviceItemType:c,height:d,parentId:u,parentType:m,place:p,isSource:h,isShowcaseButton:b,isContentItem:g}={})=>{if(t&&t(),e){n((()=>h?(0,s.q)("source:show"):b?(0,s.q)("showcase_button:show"):g?(0,s.q)("content_item:show"):(0,s.q)("show"))(),{bulkParams:e,bulkReplaceMap:Object.assign({},(0,r.h)({click_on_comment:a,with_comment_id:i,service_item_type:c,item_height:d?String(d):void 0,parent_id:u,parent_type:m,place_param:p}),{_video_pos_:o||"_video_pos_"}),extendStatMeta:{link:l}})}}),[t,n,e])}},17513:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var s=n(87363),i=n(84113),a=n(93766),r=n(51749);const o=e=>{const t=(0,i.Z)();return(0,s.useCallback)((({commentId:n,serviceItemType:s,height:i,parentId:o,parentType:l,isSource:c,isShowcaseButton:d,isContentItem:u,pos:m}={})=>{if(e){t((()=>c?(0,r.q)("source:show"):d?(0,r.q)("showcase_button:show"):u?(0,r.q)("content_item:show"):(0,r.q)("show"))(),{bulkParams:e,bulkReplaceMap:Object.assign({__pos__:m?String(m):"__pos__",__with_comment_id__:n||"__with_comment_id__",__service_item_type__:s||"__service_item_type__",__item_height__:i?String(i):"__item_height__"},(0,a.x)({parentId:o,parentType:l}))})}}),[t,e])}},72361:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var s=n(87363),i=n(84113),a=n(93766),r=n(51749);const o=({bulkParams:e,triggerEvent:t,parentType:n,parentId:o},l)=>{const c=(0,i.Z)();return(0,s.useCallback)((({triggerEvent:s}={})=>{l&&l(),e&&c((0,r.q)("feedback:favourite",s||t||""),{bulkParams:e,bulkReplaceMap:(0,a.x)({parentId:o,parentType:n})})}),[l,e,c,t,o,n])}},36520:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var s=n(51749),i=n(87363),a=n(84113);const r=({bulkParams:e})=>{const t=(0,a.Z)();return(0,i.useCallback)((()=>{e&&t((0,s.q)("feedback:cancel_block"),{bulkParams:e})}),[t,e])}},73950:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var s=n(87363),i=n(84113),a=n(93766),r=n(51749);const o=({bulkParams:e,triggerEvent:t,parentType:n,parentId:o},l)=>{const c=(0,i.Z)();return(0,s.useCallback)((({triggerEvent:s}={})=>{l&&l(),e&&c((0,r.q)("feedback:cancel_favourite",s||t||""),{bulkParams:e,bulkReplaceMap:(0,a.x)({parentId:o,parentType:n})})}),[l,c,e,t,o,n])}},99478:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var s=n(42955),i=n(87363);const a=e=>(0,i.useState)((()=>new s.X(e)))[0]},60290:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var s=n(87363);const i=e=>{const t=(0,s.useRef)();(0,s.useEffect)((()=>{t.current=e}),[e]),(0,s.useEffect)((()=>()=>{t.current&&t.current()}),[])}},40266:(e,t,n)=>{"use strict";n.d(t,{_l:()=>c,M2:()=>d,c:()=>u});n(14072),n(53208);var s=n(87363),i=n(2604),a=n(23268),r=n(92503),o=n(1351);const l=Boolean(!0),c=()=>{const{zenApi:e,shouldDeferEvents$:t,globalBus:n}=(0,a.vv)();(0,i.n)((()=>{l&&(e.startDeferEvents(),Promise.all([(0,o.C)()]).then((()=>{null==t||t.next(!1)})))}))},d=()=>{var e;const{zenApi:t,shouldDeferEvents$:n}=(0,a.vv)(),i=null==(e=t.getConfig().deferredEvents)?void 0:e.shouldDeferEvents;return{handleInteract:(0,s.useCallback)((()=>{i&&(null==n||n.next(!1))}),[i,n]),handleInteractWithNews:(0,s.useCallback)((()=>{t.sendNewsStats()}),[t])}},u=({zenApi:e,existingShouldDeferEvents$:t})=>{const n=t||new r.xQ;return t||e.subscribeToConfig((e=>{var t;n.next(Boolean(null==(t=e.deferredEvents)?void 0:t.shouldDeferEvents))})),n.subscribe((t=>{t||e.stopDeferEvents()})),n}},82837:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});const s=e=>e.replace("gif:","").replace("live:","")},85207:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var s=n(46591);const i=e=>(null==e?void 0:e.type)===s.qG.GIF},95486:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var s=n(46591);const i=e=>e.type===s.qG.LIVE||e.type===s.qG.LIVE_INTERLACED},62488:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});const s=e=>"recommendations_channels"===(null==e?void 0:e.type)},82913:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var s=n(46591),i=n(85207);const a=e=>e.type===s.qG.SHORT_VIDEO||Boolean((0,i.P)(e)&&e.video&&e.video.isShortVideo)},89294:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});n(14072);const s=e=>new Promise((t=>{setTimeout(t,e)}))},6810:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});const s=(e,t,n)=>{const s=window.open(e,t);if(s&&n){const{noOpener:e}=n;e&&(s.opener=null)}return s}},71037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(87363),i=n.n(s),a=n(94971),r=n(23268),o=n(44762);const l=(e,t)=>{const{errorView:n}=t||{},s=t=>{const{zenLogger:s}=(0,r.vv)();return i().createElement(o.S,{onCatch:e=>{e.request?s.error({message:"Chunk failed to load",details:{reason:e.message,url:e.request}}):s.error(e)},errorView:n},i().createElement(e,t))};return s.displayName=(0,a.S)("WithChunkLoadingErrorBounding",e),s}},79382:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});const s=(e,t)=>(n=t,s)=>e(n,s)},32976:(e,t,n)=>{"use strict";n.d(t,{bU:()=>c,Wh:()=>u,bN:()=>m});var s=n(98328),i=n.n(s),a=n(87363),r=n.n(a);const o=i().namespace();o.setup({missingTranslation:"ignore"});const l=(0,a.createContext)("ru"),c=()=>r().useContext(l),d={strong:({children:e})=>r().createElement("strong",null,e),br:r().createElement("br",null),nbsp:" ",p:({children:e})=>r().createElement("p",null,e)},u=e=>Object.keys(e).reduce(((t,n)=>(t[n]=t=>{const s=c(),i=e[n],a=i[s]||i.ru,l=o.rich(a,Object.assign({},d,t),s);return 1===l.length?l[0]:l.map(((e,t)=>"string"==typeof e||"number"==typeof e?e:r().createElement(r().Fragment,{key:t},e)))},t)),{}),m=e=>Object.keys(e).reduce(((t,n)=>(t[n]=(t,s)=>o(e[n][t]||e[n].ru,s,t),t)),{})},627:(e,t,n)=>{"use strict";n.d(t,{s:()=>c,l:()=>d});n(14072),n(53208);var s=n(44546),i=n(87363),a=n.n(i),r=n(98705),o=n(47273),l=n(66715);const c=({sandboxVersion:e=r.L,videoPlayersManagerInitial:t,videoPlayersPoolInitial:n}={})=>{let a=t,c=n,d=!1,u=0;const m=new Set,p=new Set;return{sandboxVersion:e,getVideoPlayersManager:()=>a||(a=new o.S,a.setSessionParams({deviceId:void 0,apiVersion:"auto",sandboxVersion:e,isAdBlockPlayerBundle:!1}),a),getVideoPlayersPool:()=>c||(c=new l.F,c),useMuted:()=>{const[e,t]=(0,i.useState)(d);return(0,s.Z)((()=>{const e=t;return m.add(e),()=>{m.delete(e)}}),[]),e},isMuted:()=>d,setMuted:e=>{d=e,m.forEach((t=>{t(e)}))},useUniqueItemOrder:()=>{const[e]=(0,i.useState)((()=>u++));return e},useOnPlayRequest:e=>{(0,s.Z)((()=>(p.add(e),()=>{p.delete(e)})),[])},playRequest:e=>{p.forEach((t=>{t(e)}))}}},d=a().createContext(c())},7582:(e,t,n)=>{"use strict";n.d(t,{de:()=>s,Ct:()=>i,DK:()=>a,N9:()=>r,Gz:()=>o,Pr:()=>l});n(43503),n(8736);let s,i,a,r,o;!function(e){e[e.Unstarted=-1]="Unstarted",e[e.Ended=0]="Ended",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused",e[e.Buffering=3]="Buffering",e[e.Error=4]="Error"}(s||(s={})),function(e){e.ONAIR="onair",e.FINISHED="finished",e.READY="ready",e.CANCELLED="cancelled",e.OFFLINE="offline"}(i||(i={})),function(e){e.NOT_INITED="NOT_INITED",e.INITIALIZING="INITIALIZING",e.SETTINGSOURCE="SETTINGSOURCE",e.TIMEOUT="TIMEOUT",e.INITED="INITED",e.DESTROYED="DESTROYED",e.ERROR="ERROR"}(a||(a={})),function(e){e.Long="long",e.Discrete="discrete"}(r||(r={})),function(e){e.None="none",e.Auto="auto",e.StopAndGo="stop_and_go",e.ClickToSite="click_to_site"}(o||(o={}));const l={survey:"survey"}},98705:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,D:()=>i});const s="0xcfc8a86",i="zen-video-mute"},557:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});const s=e=>{var t;return(null==(t=e.videoInfo)?void 0:t.videoContentId)||e.streams&&e.streams[0]&&e.streams[0].url}},53963:(e,t,n)=>{"use strict";n.d(t,{i:()=>s,F:()=>i});const s=({videoStreams:e,videoStream:t,videoInfo:n,additionalParams:s,startPosition:i,isLive:a,adConfig:r,skipAllAdPods:o,adPixelData:l})=>{const c=e||(t?[t]:[]),d=l?l.adPixelsLink:void 0,u=l?{ab:l.ab,userAgent:l.userAgent,reqId:l.reqId,dspId:l.dspId,sessionId:l.sessionId}:void 0;return{adConfig:r?Object.assign({},r,{skipAllAdPods:Boolean(o)}):void 0,streams:!a&&c.length>0?c.map((e=>({url:e}))):void 0,withCredentials:!1,additionalParams:s,videoInfo:n,startPosition:i,yaDirectPixelUrl:d,yaDirectPixelData:u}},i=e=>s({videoStreams:e.video.streams,videoInfo:e.video.videoInfo,additionalParams:e.video.additionalParams,adConfig:e.video.adConfig})},45476:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,M:()=>i});const s="auto",i=e=>(e||[]).filter((e=>e.name)).length>0},69396:(e,t,n)=>{"use strict";n.d(t,{mw:()=>i,Jt:()=>r});var s=n(14968);const i=1,a=[.25,.5,.75,i,1.25,1.5,1.75,2],r=(0,s.H)(((e,t)=>a.filter((n=>e<=n&&n<=t))))},47273:(e,t,n)=>{"use strict";n.d(t,{S:()=>H});n(14072),n(53208);var s=n(90724),i=(n(17453),n(5443)),a=n(14544),r=n(7582),o=n(8736);let l,c;!function(e){e[e.PLAYBACK_NOT_STARTED=-1]="PLAYBACK_NOT_STARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.QUEUED=5]="QUEUED"}(l||(l={})),function(e){e.PLAY_BUTTON_CLICK="PLAY_BUTTON_CLICK"}(c||(c={}));var d=n(63415);const u=(0,n(23195).l)([(0,d.S)("dzen-desktop")]),m=({sessionParams:e,errParams:t,videoSource:n,playerConfig:s,playerApi:i,originErr:a=new Error})=>{t.additional=Object.assign({},t.additional),t.message=`ZenVideoPlayer error: ${t.message||""}`;const r=n&&n.additionalParams;r&&(t.additional.item_id=r.item_id,t.additional.stream_block=r.stream_block),n&&n.videoInfo&&(t.additional.videoContentId=n.videoInfo.videoContentId),n&&n.adConfig&&(t.additional.partnerId=n.adConfig.partnerId),s&&"sandbox"===s.apiName&&(t.additional.sandboxVersion=e.sandboxVersion),i&&i.getVersion&&(t.additional.playerVersion=i.getVersion()),u.error(t,a)};var p=n(69396),h=n(82028),b=n(98705);const g="https"+"://static.dzeninfra.ru"+"/video-player/",v="sandbox_version",_="video_player_version",f=()=>"undefined"!=typeof window?(e=>{const{[_]:t}=(0,h.rz)(e);return t?t.toString():""})(window.location.search):"",y=()=>"undefined"!=typeof window?(e=>{const{[v]:t}=(0,h.rz)(e);return t?t.toString():""})(window.location.search):"",w={},k={};var S=n(557);class E{constructor(){this.handlersList=[],this.on=e=>{e&&this.handlersList.push(e)},this.off=e=>{e&&(this.handlersList=this.handlersList.filter((t=>t!==e)))},this.emit=(...e)=>{this.handlersList.forEach((t=>t(...e)))},this.offAll=()=>{this.handlersList=[]}}}const C=(e,t)=>{if("undefined"==typeof window)return!1;const{perf_test_type:n}=(0,h.rz)(window.location.search);return!n||t&&!t.includes(n)?void 0:(e(),!0)},I="undefined"==typeof window?void 0:window;const P=(e,t,n)=>{var s,i;return t.streams&&t.streams.length?{request_info:{use_aab_bundle:e.isAdBlockPlayerBundle},user_data:{req_id:null==(s=t.additionalParams)?void 0:s.rid},content:{additionalParams:Object.assign({},t.additionalParams),streams:t.streams,content_id:n,duration:null==(i=t.additionalParams)?void 0:i.duration}}:n},T=async(e,t)=>{var n,s,i,a;const{videoSource:r}=t,o=function({query:e,linker:t,slots:n}){e.mb_flags="";try{const n=JSON.parse((null==t?void 0:t.flags)||"{}");let s=!1;for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=encodeURIComponent(JSON.stringify(n[t]));e.mb_flags+=s?`;${encodeURIComponent(t)}=${i}`:`${encodeURIComponent(t)}=${i}`,s=!0}}catch(e){}return e.slots=[e.slots,null==t?void 0:t.slots,n].filter(Boolean).join(";"),e}({query:{autoplay:t.autoplay?1:0,version:t.apiVersion,feed:t.isInFeed,play_on_visible:"object"==typeof t.togglePlaybackOnVisibilityChange?t.togglePlaybackOnVisibilityChange.threshold:Boolean(t.togglePlaybackOnVisibilityChange),use_friendly_frame:!0,nativeui:!t.isPlayerControlsVisible,tv:!t.isPlayerControlsVisible,skin:t.isPlayerControlsVisible?void 0:()=>Promise.resolve(!0),hidden:t.isPlayerControlsVisible?t.hiddenControls||"share":"*",preload:!0,preview:!1,cache_sources_count:4,with_ad_insertion:!1,disable_unsafe_log:!0,adConfig:r.adConfig||{},from:null==(n=r.additionalParams)?void 0:n.from,mute:t.isMuted,from_block:null==(s=r.additionalParams)?void 0:s.from_block,recommendations:"off",api_host:t.sandboxApiHost,device_id:t.deviceId,player_api_adapter:!1,service:"ya-video",t:r.startPosition,test_mode:t.testMode?1:0,zen_preload:t.isPreloadOptimizationEnabled,backoffice:t.backoffice,background_color:"transparent",yaDirectPixelUrl:r.yaDirectPixelUrl,yaDirectPixelData:r.yaDirectPixelData},linker:t.linker,slots:t.zenSlots}),l=null==(i=r.videoInfo)?void 0:i.videoContentId;if(!l)throw new Error("SandboxVideoPlayerError: vcid is empty");Sandbox.YaPlayer.EVENTS_TO_V1&&(Sandbox.YaPlayer.EVENTS_TO_V1.BeforeAdPodStart={name:"BeforeAdPodStart"},Sandbox.YaPlayer.EVENTS_TO_V1.AdPodDurationChange={name:"AdPodDurationChange"}),C((()=>{class e extends Sandbox.VH.Provider{load(e,t){return super.load(e,t).then((e=>(e&&e.content&&(e.content.streams=e.content.streams.filter((e=>e.url.includes("m3u8")))),e)))}}Sandbox.VH.Provider=e}),["zen_feed_long_scroll_mobile","zen_feed_loading"]);const c=await e.update(P(t,r,l),o),d=!0===(null==(a=c.ids)?void 0:a.v2);e.on(t.handlers);const u=d&&c.getState();!(u&&"waitForUserPlay"===u.startStage)&&t.autoplay||!t.handlers.onResourcesIdle||t.handlers.onResourcesIdle();const m=t.handlers.onViewersNumberChanged;R(c,m);const p=t.handlers.onLiveStatusChanged;A(c,p),c.setTextTrack=Sandbox.YaPlayer._proxy("setTextTrack").bind(c.player);const h=Sandbox.YaPlayer._proxy("requestVideoElementFullscreen").bind(c.player),b=Sandbox.YaPlayer._proxy("exitVideoElementFullscreen").bind(c.player),g=Sandbox.YaPlayer._proxy("preloadSource").bind(c.player),v=Sandbox.YaPlayer._proxy("setPictureInPictureAllowed").bind(c.player);return{player:d?{pause:c.pause.bind(c),play:c.play.bind(c),seek:c.seek.bind(c),setFullscreen:e=>{e?h():b()},setMuted:c.setMuted.bind(c),playInrollAd:c.playInrollAd.bind(c),setVideoStyle:c.setVideoStyle.bind(c),setTextTrack:c.setTextTrack.bind(c),setFeed:e=>{c.setFeed&&c.setFeed(e)},setVideoTrack:c.setVideoTrack.bind(c),setPlaybackRate:c.setPlaybackRate.bind(c),skipAdPod:c.skipAdPod.bind(c),setNativeAdControlsVisibility:c.setNativeAdControlsVisibility.bind(c),setPictureInPictureAllowed:v.bind(c),openReportWindow:c.openReportWindow.bind(c),getDuration:()=>{const e=c.getState();return e?e.duration:0},getCurrentTime:()=>{const e=c.getState();return e?e.currentTime:0},getVersion:()=>{const e=c.getState();return e?e.version:""},getMuted:()=>{const e=c.getState();return!e||e.muted},setVolume:e=>c.setVolume(e/100),getVolume:()=>{const e=c.getState();return 100*(e?e.volume:0)},getAdState:()=>{var e;return null==(e=c.getState())?void 0:e.adState},getState:c.getState.bind(c)}:c,update:async n=>{var s,i,a;const r=null==(s=n.videoInfo)?void 0:s.videoContentId;if(!r)throw new Error("SandboxVideoPlayerError: vcid is empty");const l=await e.update(P(t,n,r),Object.assign({},o,{adConfig:n.adConfig||{},yaDirectPixelUrl:n.yaDirectPixelUrl,yaDirectPixelData:n.yaDirectPixelData,from:null==(i=n.additionalParams)?void 0:i.from,from_block:null==(a=n.additionalParams)?void 0:a.from_block,t:n.startPosition}));return R(l,m),A(l,p),l},preloadSource:e=>{const n=P(t,e,l);if("string"==typeof n)return{promise:Promise.resolve(),abort:()=>{}};const s={adConfig:e.adConfig||{},streams:n.content.streams,additionalParams:n.content.additionalParams,startPosition:e.startPosition},i=I&&I.AbortController?new AbortController:void 0;return{promise:g(s,{signal:null==i?void 0:i.signal})||Promise.resolve(),abort:()=>{null==i||i.abort()}}},insertInto:t=>e.insertInto(t),destroy:()=>e.destroy()}},R=(e,t)=>{if(!e.getViewersNumber||!t)return;const n=e.getViewersNumber();null!==n&&t(n)},A=(e,t)=>{if(!e.getUGCLiveStatus||!t)return;const n=e.getUGCLiveStatus();null!==n&&t(n)},x=()=>{var e;return I&&I.Ya&&(null==(e=I.Ya.VH)?void 0:e.PlayerJS)},O=e=>{const t=(0,s.V)((e=>g+e+"/pages-common/vh-player-js/_vh-player-js.js")(e),{crossorigin:!0});return I&&I.YandexZen&&I.YandexZen.videoPlayerScriptPromises&&(I.YandexZen.videoPlayerScriptPromises.sandbox=t),t},N=async e=>{const t=await(async e=>{if(x())return x();if(I&&I.YandexZen&&I.YandexZen.videoPlayerScriptPromises)try{await Promise.all(Object.values(I.YandexZen.videoPlayerScriptPromises))}catch(e){}return x()||await O(e),x()})(e.sandboxVersion);if(!t)throw new Error("Sandbox player not loaded");return await(async(e,t)=>{const n=new e(t.playerElement);return T(n,t)})(t,e)},M=()=>{const e="undefined"==typeof window?void 0:window;return e&&e.Ya&&e.Ya.streamPlayer},L=async()=>(M()||await(0,s.V)("https://static.dzeninfra.ru/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js",{crossorigin:!0}),M()),D=async e=>{const t=await L();if(!t)throw new Error("VH Player not loaded");return await((e,{playerElement:t,handlers:n,videoSource:s,apiVersion:i,maxBufferLength:a,isAdBlockPlayerBundle:r,autoplay:o=!1,togglePlaybackOnVisibilityChange:l,isMuted:c=!0,isPlayerControlsVisible:d})=>(async(e,t)=>{const n=await e.init(t);return{player:n,update:e=>n.setSource(e).catch((()=>{})),insertInto:e=>n.insertInto(e),destroy:()=>n.destroy()}})(e,{version:i,element:t,source:s,maxBufferLength:a,hidden:d?void 0:"*",size:{width:"100%",height:"100%"},preload:!0,handlers:n,features:{NativeUI:!d},debug:!1,autoplay:o,muted:c,useFriendlyFrame:!0,togglePlaybackOnVisibilityChange:l,useAbdBundle:r}))(t,e)},B=e=>e instanceof Error?e:new Error(String(e));class F{constructor(e){this.isFailedLastAutoplay=!1,this.isPlayStarted=!1,this.isMutedByFallback=!1,this.onPlayingStateChange=new E,this.onMuteChange=new E,this.onAutoplayFail=new E,this.pausePlayerByFailAutoplay=()=>{this.zenVideoPlayer.pause(),this.onPlayingStateChange.emit(r.de.Paused),this.isMutedByFallback&&(this.zenVideoPlayer.setMuted(!1),this.onMuteChange.emit(!1),this.isMutedByFallback=!1)},this.isAllowAutoplayFallback=()=>!1===this.zenVideoPlayer.getMuted(),this.autoplayTryMoreWithPauseOnFail=async()=>{const e=await this.zenVideoPlayer.getHtmlVideoElement();if(e)try{this.zenVideoPlayer.setMuted(!0),this.onMuteChange.emit(!0),this.isMutedByFallback=!0,await e.play(),this.isFailedLastAutoplay=!1}catch(e){this.onPlayingStateChange.emit(r.de.Paused),this.pausePlayerByFailAutoplay()}},this.nativeAutoplay=async()=>{const e=await this.zenVideoPlayer.getHtmlVideoElement();if(!e||!this.isPlayStarted)return;return(e.play()||Promise.resolve()).catch((e=>{if(this.isPlayStarted&&e&&(this.isFailedLastAutoplay=!0,"NotAllowedError"===e.name||"AbortError"===e.name))return Promise.reject(e)}))},this.yaPlayerAutoplay=async()=>this.zenVideoPlayer.unsafeDirectPlay(),this.tryAutoplay=async(e="zen+player")=>{var t;if(((t=this.zenVideoPlayer.getPlayingState())===r.de.Paused||t===r.de.Unstarted)&&(this.isFailedLastAutoplay||this.onPlayingStateChange.emit(r.de.Buffering)),this.isPlayStarted=!0,await this.zenVideoPlayer.waitPlayerApi(),!this.isPlayStarted)return;const n=this.zenVideoPlayer.getIsPlayedVideo();(n&&"zen+player"===e||this.zenVideoPlayer.getIsAdVisible()||"player"===e?this.yaPlayerAutoplay():this.nativeAutoplay()).then((()=>{this.isFailedLastAutoplay=!1})).catch((()=>{this.isFailedLastAutoplay=!0,this.onAutoplayFail.emit(),n||(this.isAllowAutoplayFallback()?this.autoplayTryMoreWithPauseOnFail():this.pausePlayerByFailAutoplay())}))},this.autopause=async()=>{this.isPlayStarted=!1,await this.zenVideoPlayer.waitPlayerApi(),this.isPlayStarted||this.zenVideoPlayer.pause()},this.getIsPlayStarted=()=>this.isPlayStarted,this.setIsPlayStarted=e=>this.isPlayStarted=e,this.zenVideoPlayer=e}}class Z{constructor(){this.onAdStateChange=new E,this.onOnlineLiveStatusChanged=new E,this.onDurationChange=new E,this.onCurrentTimeChange=new E,this.onCurrentAccuracyWatchedTimeChange=new E,this.onError=new E,this.onStateChange=new E,this.onContentImpression=new E,this.onUserPlay=new E,this.onUserPause=new E,this.onVolumeChange=new E,this.onMuteChange=new E,this.onMuteChangeInAd=new E,this.onFullScreenChange=new E,this.onReady=new E,this.onHeartbeat=new E,this.onAutoplayFail=new E,this.onOnlineViewerCountChange=new E,this.onVideoTrackChange=new E,this.onVideoTracksChange=new E,this.onTextTrackChange=new E,this.onTextTracksChange=new E,this.onPlaybackRateChange=new E,this.onPlaybackRatesChange=new E,this.onNextAdRemainingTimeChange=new E,this.onResourcesIdle=new E,this.onDestroy=new E,this.onSyncStates=new E,this.onAdPodStart=new E,this.onBeforeAdPodStart=new E,this.onAdPodTimeToSkipChange=new E,this.onAdPodDurationChange=new E,this.onAdPodCurrentTimeChange=new E,this.onTileMetaInfoUrlChange=new E}}class V{constructor(e){this.playerPromise=Promise.resolve(void 0),this.realPlayingState=r.de.Unstarted,this.htmlVideoElement=null,this.handlers=new Z,this.initingState=r.DK.NOT_INITED,this.abortPreloadSourceCallbacks={},this.publicStatesPlayer={currentTime:0,watchedTime:0,watchedAccuracyTime:0,currentAccuracyTime:0,playingState:r.de.Unstarted,isMuted:!0,isFullscreen:!1,currentPlaybackRate:p.mw,playbackRates:[]},this.initAutoplayResolver=()=>{this.autoplayResolver=new F(this),this.autoplayResolver.onAutoplayFail.on(this.handlers.onAutoplayFail.emit),this.autoplayResolver.onAutoplayFail.on(this.inlineLogStatEvent.bind(this,"autopause")),this.autoplayResolver.onMuteChange.on(this.handlers.onMuteChange.emit),this.autoplayResolver.onPlayingStateChange.on(this.setPlayingState)},this.getVideoElement=()=>this.htmlVideoElement,this.init=(e=>{let t,n;const s=async(...i)=>{if(t)n=i;else{t=e(...i),n=void 0;try{await t}catch(e){console.warn("PromiseQueue: reject promise",e)}t=null,n&&s(...n)}};return s})((async(e,t,n,s)=>{var i;const a=this.initingState===r.DK.NOT_INITED,o=void 0!==this.playerElement&&this.playerElement!==e,l=!this.isEqualSource(n);var c;(this.playerElement=e,this.heartbeatTimes=t.heartbeatTimes,this.playerConfig=t,this.videoSource=n,e&&n)?(this.playerApi?l?(this.clearPublicState(n),this.playerPromise=this.updateSource(n)):o?(this.setPlayingState(this.realPlayingState),this.isPlayerReady()&&!this.playerConfig.isFallbackPreload&&this.handlers.onContentImpression.emit(),this.autoplayResolver.setIsPlayStarted(!0)):s?this.setPlayingState(this.realPlayingState):this.isPlayerReady()&&!this.playerConfig.isFallbackPreload&&this.handlers.onContentImpression.emit():(this.playerPromise=this.createPlayer(),await this.playerPromise),o&&this.movePlayer(),this.handlers.onSyncStates.emit(this.publicStatesPlayer),this.setFrameFit(t.frameFit),this.setIsInFeed(),s&&this.emitMuteChange(Boolean(this.getMuted())),a&&t.isAutoplay||s||this.setMuted(t.isMuted),this.updateSubtitles(),this.updatePlaybackRateRange(),this.handlers.onVolumeChange.emit(this.getVolume()),this.setNativeAdControlsVisibility(!(null!=(i=this.playerConfig)&&i.isNativeAdControlsHidden)),this.htmlVideoElement||(this.htmlVideoElement=null==(c=this.playerElement)?void 0:c.querySelector("video"))):this.emitError(!0,{message:`player not configured: element: ${typeof e}; source: ${typeof n}`})})),this.getIsInlineInited=()=>this.isInlineInited,this.setIsInlineInited=e=>{this.isInlineInited=e},this.setStatLogger=e=>{this.statLogger=e},this.inlineLogStatEvent=(e,t=this.getWatchedTime())=>{if(this.statLogger&&this.isInlineInited)try{const n=this.getCurrentTime();this.statLogger(e,{watchedTime:t,currentTime:n})}catch(t){this.emitError(!1,{message:"Failed inline log stat event",additional:{event:e}},B(t))}},this.isPlayerReady=()=>this.initingState===r.DK.INITED||this.initingState===r.DK.ERROR||this.initingState===r.DK.DESTROYED||this.initingState===r.DK.TIMEOUT,this.initHeartbeatHandler=()=>{if(!this.videoSource)return;if(!this.heartbeatTimes)return;const e=(0,S.h)(this.videoSource);e?(this.heartbeatHandler=((e,t,n)=>{w[e]=w[e]||{};const s=w[e];return e=>{for(const i of t)!s[i]&&e>=i&&(s[i]=!0,n(i))}})(e,this.heartbeatTimes,this.handleHeartbeat),this.watchTimeAccumulator=(e=>{k[e]=k[e]||{lastAcc:0,totalAcc:0};const t=k[e];return e=>(e<t.lastAcc?t.totalAcc+=e:t.totalAcc+=e-t.lastAcc,t.lastAcc=e,t.totalAcc)})(e)):this.emitError(!1,{message:"Init heartbeat: streamUrl and videoCountentId is empty"})},this.handleHeartbeat=e=>{e&&this.inlineLogStatEvent("heartbeat",e),this.handlers.onHeartbeat.emit(e)},this.preloadVideo=()=>{this.playerApi&&(this.safePlay(),this.autoplayResolver.getIsPlayStarted()||this.pause())},this.handleCurrentTimeChange=(e,t,n)=>{var s,i,a,o;const l=Math.floor(e),c=Math.floor(n);if(isNaN(l)||isNaN(c))return;if(this.initingState===r.DK.INITIALIZING&&n>0&&this.handleResourcesIdle(),this.publicStatesPlayer.watchedAccuracyTime=n,this.publicStatesPlayer.currentAccuracyTime=e,this.handlers.onCurrentAccuracyWatchedTimeChange.emit(n),l===this.publicStatesPlayer.currentTime&&c===this.publicStatesPlayer.watchedTime)return;const d=null==(s=this.videoSource)||null==(i=s.videoInfo)?void 0:i.videoContentId,u=null==(a=this.getPlayerState())?void 0:a.source;(null==u?void 0:u.params.videoInfo.videoContentId)===d&&(0===l&&null!=(o=this.videoSource)&&o.startPosition&&!n||(this.handlers.onCurrentTimeChange.emit(l,c),this.heartbeatHandler&&this.watchTimeAccumulator&&this.heartbeatHandler(this.watchTimeAccumulator(c)),this.publicStatesPlayer.currentTime=l,this.publicStatesPlayer.watchedTime=c))},this.handleVolumeChange=async e=>{const t=await this.getPlayer();if(!t)return;let n=t.player.getMuted();void 0===n&&(n=0===e),this.getIsAdVisible()?this.handlers.onMuteChangeInAd.emit(n):n!==this.publicStatesPlayer.isMuted&&this.emitMuteChange(n),this.publicStatesPlayer.isMuted=n},this.handleUserAction=({name:e,data:t})=>{if(e===c.PLAY_BUTTON_CLICK&&t){const{state:e}=t;"play"===e?this.handlers.onUserPlay.emit():"pause"===e&&this.handlers.onUserPause.emit()}},this.actualizePlayingStatus=()=>{var e;this.autoplayResolver.getIsPlayStarted()?this.safePlay():(this.pause(),this.playerApi&&null!=(e=this.playerConfig)&&e.hackPreload&&this.playerApi.player.seek(this.publicStatesPlayer.currentTime||0))},this.handleResourcesIdle=()=>{this.initingState=r.DK.INITED,this.handlers.onResourcesIdle.emit()},this.handleContentImpression=()=>{var e;this.actualizeMuteState(),this.actualizePlayingStatus();const t=null==(e=this.getPlayerState())?void 0:e.tileMetaInfoUrl;this.publicStatesPlayer.tileMetaInfoUrl=t,t&&this.handlers.onTileMetaInfoUrlChange.emit(t),this.handlers.onContentImpression.emit()},this.actualizeMuteState=()=>{const{playerApi:e,playerConfig:t}=this;if(e&&e.player.getState&&t){const e=this.getPlayerState();e&&e.muted!==t.isMuted&&this.emitMuteChange(e.muted)}},this.emitMuteChange=e=>{this.publicStatesPlayer.isMuted=e,this.handlers.onMuteChange.emit(e)},this.movePlayerPrecondition=()=>{var e;const t=null==(e=this.playerElement)?void 0:e.querySelector("video");null!=t&&this.emitError(!1,{message:"The player already exists in container"})},this.updateSubtitles=()=>{const{playerApi:e,playerConfig:t}=this;e&&t&&(t.isVideoSubtitlesForceEnabled?e.player.setTextTrack("auto"):e.player.setTextTrack(void 0))},this.movePlayer=async()=>{var e;const t=await this.getPlayer(),{playerElement:n}=this;if(t&&n){null!=(e=this.playerConfig)&&e.isMovePlayerCheckExists&&this.movePlayerPrecondition();try{await t.insertInto(n)}catch(e){this.emitError(!0,{message:"InsertInto is failed"},B(e)),this.destroy()}return t}},this.getPlayerState=()=>{if(this.playerApi&&this.playerApi.player.getState)return this.playerApi.player.getState()},this.updatePlaybackRateRange=()=>{const e=this.getPlayerState();e&&this.handlePlaybackRateRangeChange({playbackRateRange:e.playbackRateRange})},this.setPlayingState=e=>{this.publicStatesPlayer.playingState=e,this.handlers.onStateChange.emit(e)},this.handleStateChange=e=>{this.setPlayingState(e),this.realPlayingState=e},this.handleVideoTrackChange=e=>{this.publicStatesPlayer.currentVideoTrack=e,this.handlers.onVideoTrackChange.emit(e)},this.handleVideoTracksChange=e=>{this.publicStatesPlayer.videoTracks=e,C((()=>{e&&this.setVideoTrack(e[0].value)})),this.handlers.onVideoTracksChange.emit(e)},this.handleTextTrackChange=e=>{this.publicStatesPlayer.currentTextTrack=e,this.handlers.onTextTrackChange.emit(e)},this.handleTextTracksChange=e=>{this.publicStatesPlayer.textTrack=e,this.handlers.onTextTracksChange.emit(e),this.updateSubtitles()},this.handlePlaybackRateChange=e=>{const{playbackRate:t=p.mw}=e;this.publicStatesPlayer.currentPlaybackRate=t,this.handlers.onPlaybackRateChange.emit(t)},this.handlePlaybackRateRangeChange=e=>{const{playbackRateRange:t}=e,n=(0,p.Jt)(t.min,t.max);this.publicStatesPlayer.playbackRates=n,this.handlers.onPlaybackRatesChange.emit(n)},this.handleNextAdRemainingTimeChange=({nextAdRemainingTime:e})=>{const t="number"==typeof e?Math.ceil(e):e;t!==this.publicStatesPlayer.nextAdRemainingTime&&(this.publicStatesPlayer.nextAdRemainingTime=t,this.handlers.onNextAdRemainingTimeChange.emit(t))},this.handleAdPodTimeToSkipChange=({adPodTimeToSkip:e})=>{e!==this.publicStatesPlayer.adPodTimeToSkip&&(this.publicStatesPlayer.adPodTimeToSkip=e,this.handlers.onAdPodTimeToSkipChange.emit(e))},this.handleAdPodDurationChange=e=>{e.adPodDuration!==this.publicStatesPlayer.adPodTimeToSkip&&(this.publicStatesPlayer.adPodDuration=e.adPodDuration,this.handlers.onAdPodDurationChange.emit(e.adPodDuration))},this.handleAdPodCurrentTimeChange=({adPodCurrentTime:e})=>{const t="number"==typeof e?Math.ceil(e):e;if(t===this.publicStatesPlayer.adPodCurrentTime)return;const{playerApi:n}=this;let s;const i=this.getPlayerState();n&&i&&(s=i.adPodDuration),this.publicStatesPlayer.adPodCurrentTime=t,this.handlers.onAdPodCurrentTimeChange.emit(t,s)},this.handleOnlineLiveStatusChanged=e=>{this.publicStatesPlayer.liveStatus=e,this.handlers.onOnlineLiveStatusChanged.emit(e)},this.handleOnlineViewerCountChange=e=>{this.publicStatesPlayer.liveCount=e,this.handlers.onOnlineViewerCountChange.emit(e)},this.handlePlayerError=e=>{if(!e.isFatal)return;const t={errorCode:e.code,messageDetails:e.messageDetails?e.messageDetails.message:"",message:e.message,vsid:e.vsid};this.emitError(!0,{additional:t,message:"Player api error",source:"player"},e)},this.logError=(e,t)=>{const{videoSource:n,playerConfig:s,playerApi:i}=this;m({sessionParams:this.sessionParams,playerApi:i&&i.player,videoSource:n,playerConfig:s,errParams:t,originErr:e})},this.emitError=(e,t,n=new Error)=>{let s=n||new Error;n instanceof Error||(s=new Error(String(n)),t.additional=Object.assign({},t.additional,{errorObjectRaw:n}));s.message.includes("cannot find element with id")&&(s.message="cannot find element by id"),this.logError(s,t),e&&(this.initingState=r.DK.ERROR,this.handlers.onError.emit())},this.handlePlayerElemClick=()=>{var e;if(this.getIsAdVisible()&&(null==(e=this.playerConfig)||!e.isNativeAdControlsHidden))return;const t=this.getPlayingState();this.getIsAdVisible()||(t===r.de.Playing?(this.pause(),this.inlineLogStatEvent("pause")):(this.safePlay(),this.inlineLogStatEvent("play")))},this.handleAdStateChange=e=>{this.getIsAdVisible()&&this.inlineLogStatEvent("ad_video_play"),this.publicStatesPlayer.adState=e,this.handlers.onAdStateChange.emit(e)},this.handleAdPodStart=e=>{this.handlers.onAdPodStart.emit(e)},this.handleBeforeAdPodStart=e=>{this.handlers.onBeforeAdPodStart.emit(e.adPlaybackController)},this.createPlayer=async()=>{const e={onDurationChange:this.handlers.onDurationChange.emit,onError:this.handlePlayerError,onStateChange:this.handleStateChange,onContentImpression:this.handleContentImpression,onUserAction:this.handleUserAction,onVolumeChange:this.handleVolumeChange,onFullScreenChange:this.handlers.onFullScreenChange.emit,onCurrentTimeChange:this.handleCurrentTimeChange,onAdStateChange:this.handleAdStateChange,onTextTrackChange:this.handleTextTrackChange,onTextTracksChange:this.handleTextTracksChange,onVideoTrackChange:this.handleVideoTrackChange,onVideoTracksChange:this.handleVideoTracksChange,AdPodStart:this.handleAdPodStart,BeforeAdPodStart:this.handleBeforeAdPodStart,onResourcesIdle:this.handleResourcesIdle,onViewersNumberChanged:this.handleOnlineViewerCountChange,onLiveStatusChanged:this.handleOnlineLiveStatusChanged,PlaybackRateChange:this.handlePlaybackRateChange,PlaybackRateRangeChange:this.handlePlaybackRateRangeChange,NextAdRemainingTimeChange:this.handleNextAdRemainingTimeChange,AdPodTimeToSkipChange:this.handleAdPodTimeToSkipChange,AdPodCurrentTimeChange:this.handleAdPodCurrentTimeChange,AdPodDurationChange:this.handleAdPodDurationChange};if(!this.playerElement)return void this.emitError(!0,{message:"PlayerElement is not configured"});const{playerConfig:t,videoSource:n}=this;if(!t||!n)return;this.initingState=r.DK.INITIALIZING;const s=document.createElement("div");s.style.width="100%",s.style.height="100%",this.playerElement.innerHTML="",this.playerElement.appendChild(s),this.sessionParams.isPlayerControlsVisible||s.addEventListener("click",this.handlePlayerElemClick);const i="sandbox"===t.apiName?N:D,{apiVersion:a,sandboxVersion:o}=(({apiVersion:e,sandboxVersion:t,query:n})=>{let s=n[_]||e||void 0;const i=n[v]||t||b.L;return"auto"===s&&(s=void 0),s&&!/^1\.0-(\d+)$/.test(s)&&(console.warn(`player version must be a string like [1.0-0], but is ${s}`),s=void 0),{apiVersion:s,sandboxVersion:i}})({apiVersion:this.sessionParams.apiVersion,sandboxVersion:this.sessionParams.sandboxVersion,query:{[v]:y(),[_]:f()}});try{this.playerApi=await i({handlers:e,playerElement:s,autoplay:t.isAutoplay,videoSource:n,isInFeed:this.isInFeed(),apiVersion:a,sandboxVersion:o,backoffice:t.backoffice,linker:this.sessionParams.linker,zenSlots:this.sessionParams.zenSlots,isPreloadOptimizationEnabled:t.isPreloadOptimizationEnabled,maxBufferLength:t.maxBufferLength,isMuted:t.isMuted,restorePlaybackProgress:t.restorePlaybackProgress,isAdBlockPlayerBundle:this.sessionParams.isAdBlockPlayerBundle,togglePlaybackOnVisibilityChange:!1,isPlayerControlsVisible:this.sessionParams.isPlayerControlsVisible,sandboxApiHost:t.apiHost,deviceId:this.sessionParams.deviceId,testMode:this.sessionParams.testMode})}catch(e){this.playerApi=void 0,this.emitError(!0,{message:"Failed create player"},B(e))}return this.initHeartbeatHandler(),this.playerApi},this.clearPublicState=e=>{this.publicStatesPlayer.tileMetaInfoUrl="",this.publicStatesPlayer.currentTime=e.startPosition||0,this.publicStatesPlayer.textTrack=[]},this.updateSource=async e=>{if(!this.playerApi)return this.emitError(!0,{message:"Player is not exists"}),void this.destroy();if(!e)return this.emitError(!0,{message:"VideoSource is empty"}),void this.destroy();if(!this.playerElement)return this.emitError(!0,{message:"Player element is not mounted"}),void this.destroy();this.videoSource=e;try{this.initingState=r.DK.SETTINGSOURCE,await this.playerApi.update(e),this.actualizePlayingStatus(),this.initHeartbeatHandler()}catch(e){return this.emitError(!0,{message:"Failed update source"},B(e)),void this.destroy()}return this.playerApi},this.getPlayer=async()=>(await this.playerPromise,this.playerApi),this.waitPlayerApi=async()=>{await this.getPlayer()},this.getHtmlVideoElement=async()=>(await this.playerPromise,this.htmlVideoElement),this.getIsAdVisible=()=>{var e;const t=null==(e=this.playerApi)?void 0:e.player.getAdState();return t&&t.state===o.M.PLAYING},this.fallbackPreloadSource=async(e,t,n)=>{var s;t.isFallbackPreload=!0,t.isAutoplay=!1,await this.init(e,t,n),null!=(s=this.playerConfig)&&s.hackPreload&&this.preloadVideo()},this.abortPreloadSource=e=>{const t=(0,S.h)(e);t&&this.abortPreloadSourceCallbacks[t]&&(this.abortPreloadSourceCallbacks[t](),delete this.abortPreloadSourceCallbacks[t])},this.preloadSource=async(e,t)=>{if(this.isEqualSource(e))return;const n=await this.getPlayer();if(!n)return;const s=n.preloadSource&&n.preloadSource(e);if(!s)return void(t&&t());const i=(0,S.h)(e);i&&(this.abortPreloadSourceCallbacks[i]=s.abort),await s.promise.catch((()=>{})).then((()=>{i&&delete this.abortPreloadSourceCallbacks[i]}))},this.preloadSourceWithFallback=async e=>{const{playerElement:t,playerConfig:n,videoSource:s,onNativePreloadFail:i,isNativePreload:o,skipFirstAwait:l}=e;if(!this.isEqualSource(s))return n.isAutoplay&&this.initingState===r.DK.NOT_INITED?l?await this.fallbackPreloadSource(t,n,s):(await(0,a.D)(0),void await this.preloadSourceWithFallback(Object.assign({},e,{skipFirstAwait:!0}))):o?void await this.preloadSource(s,i):await this.fallbackPreloadSource(t,n,s)},this.autoplay=async()=>{this.initingState!==r.DK.ERROR&&(this.inlineLogStatEvent("autoplay"),this.safePlay())},this.autopause=()=>this.autoplayResolver.autopause(),this.seek=async e=>{const t=await this.getPlayer();if(!t)return;const n=void 0===e?t.player.getDuration():e;t.player.seek(n),this.publicStatesPlayer.playingState===r.de.Ended&&await this.autoplay()},this.seekBy=async(e,t)=>{const n=await this.getPlayer();if(!n)return;const s=n.player.getCurrentTime();"frames"===t?this.seek(s+e/30):this.seek(s+e)},this.setFullscreen=async e=>{this.publicStatesPlayer.isFullscreen=e;const t=await this.getPlayer();t&&t.player.setFullscreen(this.publicStatesPlayer.isFullscreen)},this.toggleFullscreen=()=>{this.setFullscreen(!this.publicStatesPlayer.isFullscreen)},this.setMuted=e=>{const{playerApi:t}=this;this.publicStatesPlayer.isMuted=e,t&&t.player.setMuted(e)},this.setNativeAdControlsVisibility=e=>{const{playerApi:t}=this;t&&t.player.setNativeAdControlsVisibility&&t.player.setNativeAdControlsVisibility(e)},this.setPictureInPictureAllowed=e=>{const{playerApi:t}=this;t&&t.player.setPictureInPictureAllowed&&t.player.setPictureInPictureAllowed(e)},this.getVolume=()=>{const{playerApi:e}=this;return e&&e.player?e.player.getVolume():0},this.getMuted=()=>{const{playerApi:e}=this;var t;return e&&e.player?e.player.getMuted():null==(t=this.playerConfig)?void 0:t.isMuted},this.setVolume=e=>{const{playerApi:t}=this;t&&t.player&&t.player.setVolume(e)},this.skipAdPod=()=>{const{playerApi:e}=this;e&&e.player.skipAdPod&&e.player.skipAdPod()},this.playInrollAd=(e=0)=>{const{playerApi:t,videoSource:n}=this,s=n&&(0,S.h)(n);t&&s&&!V.isPlayedInrollAd[s]&&(V.isPlayedInrollAd[s]=!0,t.player.playInrollAd({timeOffset:e}))},this.isInFeed=()=>{const{playerConfig:e}=this;return Boolean(e&&"feed"===e.placeName)},this.setIsInFeed=()=>{const{playerApi:e}=this;e&&e.player.setFeed&&e.player.setFeed(this.isInFeed())},this.setFrameFit=async e=>{const{playerApi:t}=this;t?t.player.setVideoStyle({objectFit:e}):this.playerConfig&&(this.playerConfig.frameFit=e)},this.getCurrentTime=()=>this.publicStatesPlayer.currentTime,this.getCurrentAccuracyTime=()=>this.publicStatesPlayer.currentAccuracyTime,this.getWatchedTime=()=>this.publicStatesPlayer.watchedTime,this.getIsFullscreen=()=>this.publicStatesPlayer.isFullscreen,this.getPlayingState=()=>this.publicStatesPlayer.playingState,this.unsafeDirectPlay=()=>{const{playerApi:e}=this;if(e)return e.player.play()},this.safePlay=()=>{var e;this.autoplayResolver.tryAutoplay(null==(e=this.playerConfig)?void 0:e.autoplayMode)},this.pause=()=>{const{playerApi:e}=this;e&&e.player.pause()},this.setVideoTrack=e=>{const{playerApi:t}=this;t&&(C((()=>{const{videoTracks:t=[]}=this.publicStatesPlayer,n=[...t];n.sort(((e,t)=>(t.height||0)-(e.height||0)));const s=n.find((e=>e.height&&e.height<=360));s&&(e=s.value)})),t.player.setVideoTrack(e))},this.setPlaybackRate=e=>{const{playerApi:t}=this;t&&t.player.setPlaybackRate&&t.player.setPlaybackRate(e)},this.setTextTrack=e=>{const{playerApi:t}=this;t&&t.player.setTextTrack(e)},this.openReportWindow=()=>{const{playerApi:e}=this;e?e.player.openReportWindow():window.open("https://yandex.ru/support/video-player/feedback.html")},this.flushPlayer=e=>{e&&this.setPlayingState(r.de.Unstarted),(0,i.u)(this.handlers).forEach((e=>{this.handlers[e].offAll()})),this.autoplayResolver.setIsPlayStarted(!1)},this.unhandleEvents=e=>{(0,i.u)(e).forEach((t=>{(0,this.handlers[t].off)(e[t])}))},this.handleEvents=e=>{(0,i.u)(e).forEach((t=>{(0,this.handlers[t].on)(e[t])}))},this.isEqualSource=e=>{if(!this.videoSource)return!1;const t=(0,S.h)(e),n=(0,S.h)(this.videoSource);return t&&n&&n===t},this.canBeReused=e=>{const{playerConfig:t}=this;return!!t&&t.apiName===e.apiName},this.destroy=async()=>{this.initingState=r.DK.DESTROYED;const e=await this.getPlayer();e&&(this.handlers.onDestroy.emit(),e.destroy().catch((e=>{this.emitError(!0,{message:"Failed to destroy player"},e)})),this.playerApi=void 0)},this.getPlace=()=>{var e;return(null==(e=this.playerConfig)?void 0:e.placeName)||"default"},this.getUtcStartTime=()=>{var e;return null==(e=this.getPlayerState())?void 0:e.utcStartTime},this.getVsid=()=>{var e;return null==(e=this.getPlayerState())?void 0:e.vsid},this.getIsPaused=()=>{var e;return"pause"===(null==(e=this.getPlayerState())?void 0:e.playingState)},this.getIsPlayedVideo=()=>this.realPlayingState!==r.de.Unstarted&&this.realPlayingState!==r.de.Error,this.sessionParams=e,this.initAutoplayResolver()}}let U;function j(e){return Boolean(e&&e.getTime&&e.sendDelta&&e.makeSubPage)}V.isPlayedInrollAd={},function(e){e.player="player",e.interactive="interactive",e.render="render"}(U||(U={}));class z{constructor({feature:e}){this.rum="undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0,this.isInited=!1,this.isPlayerVisible=!1,this.isPageVisible=!0,this.wasInHiddenTab=!1,this.startTs=null,this.feature=e,this.subPageIndex=z.lastSubPageIndex}setInitingTs(){z.enterFirstScreenMark(U.player),z.openViewerTs||this.createSubPage(),this.setStartTs()}onAutoplay(){j(this.rum)&&(this.startTs&&(this.startTs=this.rum.getTime()),this.sendPlayerStartTimeMark())}setPlayerVisibility(e){this.isPlayerVisible=e,e||(this.isPlayerWasNotVisible=!0)}setPageVisibility(e){this.isPageVisible=e,e||(this.wasInHiddenTab=!0)}handleContentImpression(){this.isInited=!0,this.sendPlayerStartTimeMark()}sendFirstInteractiveMark(){this.sendFirstScreenMark(U.interactive)}sendPlayerStartTimeMark(){const e=z.openViewerTs||this.startTs;if(!j(this.rum)||!this.isInited||!this.isPlayerVisible||!e||this.wasInHiddenTab||!this.subPage&&!z.openViewerTs)return void(this.wasInHiddenTab=!this.isPageVisible);const t="player.init",n=this.rum.getTime()-e;z.openViewerTs&&this.createSubPage("viewer"),this.rum.sendDelta(t,n,this.subPage),this.rum.externalMetricsCollector&&this.rum.externalMetricsCollector.addAverage(t,"ms",n),this.sendFirstScreenMark(U.player),this.startTs=null,z.openViewerTs=null,this.wasInHiddenTab=!this.isPageVisible}sendFirstScreenMark(e){const t=z.firstScreenMarks[e];j(this.rum)&&this.rum.firstScreenMark&&!this.isPlayerWasNotVisible&&!this.wasInHiddenTab&&this.rum.firstScreenMark.send(t)}createSubPage(e){j(this.rum)&&(this.subPage&&this.subPage.cancel(),this.subPage=this.rum.makeSubPage(e||this.feature,this.rum.getTime()),this.subPageIndex=z.lastSubPageIndex++)}setStartTs(){j(this.rum)&&(this.startTs=this.rum.getTime(),this.isInited=!1,this.wasInHiddenTab=!this.isPageVisible)}}z.openViewerTs=null,z.lastSubPageIndex=0,z.firstScreenMarks={[U.player]:"player.first_init",[U.interactive]:"player.first_interactive",[U.render]:"player.first_render"},z.setOpenViewerTS=()=>{const e="undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0;j(e)&&(z.openViewerTs=e.getTime())},z.enterFirstScreenMark=e=>{const t=z.firstScreenMarks[e],n="undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0;t&&n&&n.firstScreenMark&&n.firstScreenMark.enter(t)},z.inlineSendFirstScreenMark=e=>{const t=z.firstScreenMarks[e],n="undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0;t&&n&&n.firstScreenMark&&n.firstScreenMark.send(t)};class H{constructor(){this.PlayerRUM=z,this.players=[],this.busyPlayers=[],this.isPlayerInlined=!1,this.isInlineInitWasUsed=!1,this.loadMainScriptsOpt={scriptLinks:[],timeout:0,pageLoadPromise:Promise.resolve()},this.isNativePreloadFailed=!1,this.sessionParams={deviceId:void 0,apiVersion:"auto",sandboxVersion:b.L,isAdBlockPlayerBundle:!1},this.setSessionParams=e=>{this.sessionParams=e},this.getSessionParams=()=>this.sessionParams,this.giveMePlayer=(e,t,n,s,i)=>{if(s)return this.livePlayer=this.livePlayer||new V(this.sessionParams),this.livePlayer;if(i&&!this.isNativePreloadFailed){const e=this.players[0]=this.players[0]||new V(this.sessionParams);return this.busyPlayers[0]=!0,e}const a=this.players.findIndex((s=>s.isEqualSource(n)&&(s.getPlace()!==t.placeName||s.playerElement===e)&&s.canBeReused(t)));let r=a;-1===r&&(r=this.players.findIndex(((e,n)=>e.getPlace()!==t.placeName&&!this.busyPlayers[n]&&e.canBeReused(t))),-1===r&&(r=this.players.findIndex(((e,n)=>!this.busyPlayers[n]&&e.canBeReused(t))))),-1===r&&(r=this.busyPlayers.length,this.players[r]=new V(this.sessionParams));const o=this.players[r];return this.busyPlayers[r]=!0,o},this.onNativePreloadFail=()=>{this.isNativePreloadFailed=!0},this.getIsNativePreloadFailed=()=>this.isNativePreloadFailed,this.takePlayer=e=>{const t=this.players.indexOf(e);e.flushPlayer(!0),-1!==t&&(this.busyPlayers[t]=!1)},this.destroyPlayer=e=>{const t=this.players.indexOf(e);e.flushPlayer(!1),e.destroy(),-1!==t&&(this.players.splice(t,1),this.busyPlayers.splice(t,1))},this.setInlineScriptRenderer=e=>{this.inlineScriptRenderer=e},this.getPlayerRUM=()=>this.PlayerRUM,this.prepareInlineStartPlayer=e=>{const{inlineScriptRenderer:t}=this;return t?(this.inlineScriptRenderer=void 0,this.isPlayerInlined=!0,t(e.script)):""},this.getIsPlayerInlined=()=>this.isPlayerInlined,this.onInitAfterInline=e=>{this.onInitAfterInlineCb=e},this.handleInitAfterInline=()=>{this.onInitAfterInlineCb&&this.onInitAfterInlineCb()},this.isInlineInitCanBeUsed=()=>!this.isInlineInitWasUsed&&(this.isInlineInitWasUsed=!0,Boolean(this.isPlayerInlined)),this.setMainScripts=(e=[],t=2e4)=>{const n=new Promise((e=>{"complete"!==document.readyState?document.addEventListener("load",(function t(){document.removeEventListener("load",t),e()})):e()}));this.loadMainScriptsOpt={scriptLinks:e,timeout:t,pageLoadPromise:n}},this.loadMainScripts=async()=>{try{const{scriptLinks:e,timeout:t,pageLoadPromise:n}=this.loadMainScriptsOpt,i=this.players[0];if(this.PlayerRUM&&this.PlayerRUM.enterFirstScreenMark(U.player),e.length&&i&&i.getIsInlineInited()&&!i.isPlayerReady()){const e=new Promise((e=>{const n=()=>{i.handlers.onResourcesIdle.off(n),i.handlers.onError.off(n),i.handlers.onDestroy.off(n),e(),clearTimeout(a)},s=()=>{i.handlers.onContentImpression.off(s),this.PlayerRUM&&this.PlayerRUM.inlineSendFirstScreenMark(U.player)},a=setTimeout(n,t);i.handleEvents({onContentImpression:s,onResourcesIdle:n,onError:n,onDestroy:n})}));await e}await Promise.all([...e.map((e=>(0,s.V)(e,{isAsync:!1}))),n])}catch(e){m({sessionParams:this.sessionParams,errParams:{message:"failed load main bundle"},originErr:B(e)})}},this.inlineStartPlayer=(e,t,n)=>{const{playerElementId:s,playerConfig:i,videoSource:a,isDeferredAutoplay:r}=e,o=document.getElementById(s);if(!o||!i||!a)return void this.loadMainScripts();this.isPlayerInlined=!0;const l=this.players[0]=new V(this.sessionParams);t&&l.setStatLogger(t);const c=Object.assign({},i,{isMuted:n||"1"===localStorage.getItem(b.D)});l.init(o,c,a),r||l.autoplay(),l.setIsInlineInited(!0),this.busyPlayers[0]=!0,this.loadMainScripts()},this.getCommonVideoPlayer=()=>this.players[0],this.getLiveVideoPlayer=()=>this.livePlayer,this.getVideoElement=()=>{var e;return null==(e=this.getCommonVideoPlayer())?void 0:e.getVideoElement()}}}},66715:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var s,i=n(33418);!function(e){e[e.Initing=0]="Initing",e[e.Ended=1]="Ended"}(s||(s={}));class a{constructor(e,t){this.isVisible=!1,this.isActive=!1,this.isLocked=!1,this.isAutoplay=!1,this.isDestroyed=!1,this.canPlayWhenInvisible=!1,this.initingStatus=null,this.focus=()=>{this.initingStatus=s.Initing,this.isActive=!0,this.isDestroyed=!1,this.handlers.onFocus&&this.handlers.onFocus()},this.unfocus=()=>{this.handlers.onUnfocus&&this.handlers.onUnfocus(),this.isActive=!1,this.initingStatus=null},this.destroy=()=>{this.isVisible=!1,this.isActive=!1,this.isLocked=!1,this.isAutoplay=!1,this.isDestroyed=!0,this.initingStatus=null},this.setIsAutoplay=e=>{this.isAutoplay!==e&&(e?(this.isAutoplay=!0,this.handlers.onAutoplay&&this.handlers.onAutoplay()):(this.handlers.onAutopause&&this.handlers.onAutopause(),this.isAutoplay=!1))},this.index=e,this.handlers=t}}class r{constructor(){this.players=[],this.preloadingQueue=[],this.lastAutoplay=0,this.freezeWithMethod=!1,this.countPlayersBefore=0,this.countPlayersAfter=0,this.isWantUpdate=!1,this.isPlayerPreloadingQueueEnabled=!1,this.update=()=>{if("full"===this.freezeWithMethod)return void(this.isWantUpdate=!0);if(0===this.players.length)return;let e=this.players.findIndex((e=>e.isVisible));-1===e&&(e=this.lastAutoplay),this.lastAutoplay=e;const t=this.players.find((e=>e.isVisible)),n=this.players.find((e=>e.isAutoplay)),s=t!==n;if(n&&s&&!n.canPlayWhenInvisible&&n.setIsAutoplay(!1),"preload"===this.freezeWithMethod)return void(this.isWantUpdate=!0);const i=e-this.countPlayersBefore,a=e+this.countPlayersAfter;this.players.forEach(((e,t)=>{const n=t>=i&&t<=a;if(!e||e.isActive===n||e.isDestroyed)return;e.isActive&&!n&&!e.isLocked&&(e.canPlayWhenInvisible&&e.setIsAutoplay(!1),e.unfocus())})),this.isPlayerPreloadingQueueEnabled?(this.clearTimer(),this.preloadingQueue=this.createPreloadingQueue({previousAutoplayCard:n,autoplayCard:t,firstVisible:e}),this.preloadNextPlayerInQueue()):this.players.forEach(((e,t)=>{const n=t>=i&&t<=a;if(!e||e.isActive===n||e.isDestroyed)return;!e.isActive&&n&&e.focus()})),"autoplay"!==this.freezeWithMethod?t&&s&&(n&&n.canPlayWhenInvisible&&n.setIsAutoplay(!1),t.setIsAutoplay(!0)):this.isWantUpdate=!0},this.createPreloadingQueue=({previousAutoplayCard:e,autoplayCard:t,firstVisible:n})=>{const i=[],a=[];let r=[],o="down";return t&&e&&(o=e.index>t.index?"up":"down"),this.players.forEach(((e,t)=>{const r=t>=n-this.countPlayersBefore&&t<=n+this.countPlayersAfter,o=!e.isActive&&r,l=e.initingStatus===s.Ended;!o||e.isDestroyed||l||(t<n?i.push(e):t>n&&a.push(e))})),t&&t.initingStatus!==s.Ended&&r.push(t),r="up"===o?r.concat(i.reverse()).concat(a):r.concat(a).concat(i.reverse()),r},this.preloadNextPlayerInQueue=()=>{const e=this.preloadingQueue[0];e&&null===e.initingStatus&&(e.focus(),this.clearTimer(),this.timerId=setTimeout((()=>{this.handleInitEnded(e)}),5e3))},this.clearTimer=()=>{void 0!==this.timerId&&clearTimeout(this.timerId)},this.handleInitEnded=e=>{e.initingStatus=s.Ended,this.isPlayerPreloadingQueueEnabled&&(this.clearTimer(),this.removeFromQueue(e),this.preloadNextPlayerInQueue())},this.removeFromQueue=e=>{this.preloadingQueue=this.preloadingQueue.filter((t=>t.index!==e.index))},this.updateDebounced=(0,i.D)(this.update,200),this.insertPlayer=e=>{const t=this.players;for(let n=0;n<t.length;n++)if(t[n].index>e.index)return void t.splice(n,0,e);t.push(e)},this.getFirstVisiblePlayer=e=>{var t;return null==(t=this.players.slice(e).find((e=>e.isVisible)))?void 0:t.index},this.createNewPlayer=({index:e,countPlayersBefore:t,countPlayersAfter:n,isPlayerPreloadingQueueEnabled:i=!1,handlers:r,isInitialVisible:o})=>{this.countPlayersBefore=t,this.countPlayersAfter=n,this.isPlayerPreloadingQueueEnabled=i;const l=new a(e,r);return this.insertPlayer(l),o&&(l.isVisible=!0,this.update()),{setPlayerInitIsEnded:()=>{l.initingStatus!==s.Ended&&this.handleInitEnded(l)},setIsVisible:e=>{l.isVisible=Boolean(e),this.updateDebounced()},destroy:()=>{const e=this.players.indexOf(l);l.destroy(),l.handlers.onUnfocus&&l.handlers.onUnfocus(),this.lastAutoplay===e&&(this.lastAutoplay=-1),this.lastAutoplay<e&&(this.lastAutoplay-=1),-1!==e&&(this.players.splice(e,1),this.updateDebounced())},setLocked:e=>{l.isLocked=e},recreate:()=>{l.isDestroyed=!1,this.insertPlayer(l),this.updateDebounced()},setCanPlayWhenInvisible:e=>{l.canPlayWhenInvisible=e},changeIndex:e=>{e!==l.index&&(l.index=e,this.updateDebounced())}}},this.freeze=(e="full")=>{this.freezeWithMethod=e},this.unfreeze=()=>{this.freezeWithMethod=!1,this.isWantUpdate&&(this.update(),this.isWantUpdate=!1)}}getNextAutoplayIndex(){return this.getFirstVisiblePlayer(this.lastAutoplay+1)}}},88529:(e,t,n)=>{"use strict";n.d(t,{rV:()=>o,Sp:()=>l,_m:()=>c,tw:()=>d,sP:()=>u});var s=n(41624),i=n(98705);const a="zen-video-autoplay",r="zen-video-luring-date",o=e=>{switch(s.w.getItem(e||a)){case"1":return!0;case"0":return!1}},l=(e,t)=>{s.w.setItem(e||a,t?"1":"0")},c=()=>"1"===s.w.getItem(i.D),d=e=>{s.w.setItem(i.D,e?"1":"0")},u=()=>{s.w.setItem(r,(new Date).toISOString())}},68129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const s={};function i(e,t){s[t.id]||(s[t.id]=!0,e.add(t))}function a(e,t){return{get content(){return i(e,t),t.content},get id(){return i(e,t),t.id},get node(){return i(e,t),t.node},get viewBox(){return i(e,t),t.viewBox}}}},43070:(e,t,n)=>{"use strict";function s(e){return Object.assign({},e)}n.d(t,{P:()=>s})},61217:(e,t,n)=>{"use strict";n.d(t,{t:()=>o,f:()=>l});var s=n(62179),i=n(61533),a=n.n(i);let r;s.configure({useProxies:"never",enforceActions:"never",reactionScheduler:a().unstable_batchedUpdates});const o=(e,t)=>{r=e;const n=t();return r=void 0,n},l=()=>r},2004:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,E:()=>u});var s=n(46997),i=(n(14072),n(53208),n(87363)),a=n.n(i);const r=["children"],o=(0,i.createContext)(void 0),l=e=>t=>{var n,l;let{children:c}=t,d=(0,s.Z)(t,r);const[u,m]=(0,i.useState)({}),p=(0,i.useCallback)(((e,t)=>{m((n=>{const s=Object.assign({},n);return t?s[e]=t:delete s[e],s}))}),[m]),h=null!=(n=null==(l=(0,i.useContext)(o))?void 0:l.loadingStates)?n:{},b=(0,i.useMemo)((()=>({loadingStates:Object.assign({},h,u),setLoadingState:p})),[h,u,p]),g=Object.values(h).some((e=>e.loading||e.error)),v=Object.values(u).every((e=>e.contentReady)),_=Object.values(u).filter((e=>e.loading)).length,f=Object.values(u).map((e=>e.error)).filter(Boolean),y=(0,i.useRef)(u);y.current=u;const w=(0,i.useCallback)((()=>{Object.values(y.current).filter((e=>e.error)).forEach((e=>e.retry()))}),[y]);return a().createElement(o.Provider,{value:b},a().createElement(e,{contentReady:v,ownProps:d,loadingCount:g?0:_,errors:g?[]:f,retry:w},c))};let c=1;const d=()=>{},u=({contentReady:e=!1,loading:t,error:n,retry:s,onLoadingBoundaryMissing:a=(()=>{throw new Error('Component using "useLoadingBoundary" not wrapped in LoadingBoundary')})})=>{var r;const l=(0,i.useContext)(o);if(!l)try{a()}catch(e){0}const u=null!=(r=null==l?void 0:l.setLoadingState)?r:d,[m]=(0,i.useState)((()=>c++)),p=(0,i.useRef)(!1),h=(0,i.useRef)(!1),b=(0,i.useRef)(void 0);(0,i.useLayoutEffect)((()=>{e===p.current&&t===h.current&&n===b.current||u(m,{contentReady:e,loading:t,error:n,retry:s}),h.current=t,b.current=n}),[m,u,e,t,n]),(0,i.useEffect)((()=>()=>{u(m,void 0)}),[m])}},85170:(e,t,n)=>{"use strict";n.d(t,{hq:()=>f,JC:()=>w,Wd:()=>k,aM:()=>y,JN:()=>_});var s=n(46997),i=(n(14072),n(53208),n(87363)),a=n.n(i),r=n(62179),o=n(88209),l=(n(7923),n(32481)),c=n(42115),d=n(61217),u=n(97212);class m{constructor(e,t,n){this.zest=e,this.endpoint=t,this.params=n,this.data=void 0,this.loading=!1,this.error=void 0,this.listeners=new Map,r.makeObservable(this,{data:r.observable,loading:r.observable})}get isUsed(){var e;return Boolean(this.listeners.size||(null==(e=r.getObserverTree(this,"loading").observers)?void 0:e.length)||(0,c.bz)(this.data))}get isReady(){return Boolean(this.isUsed&&!this.loading&&this.data)}addListener(e){this.listeners.set(e,void 0)}removeListener(e){var t;(this.listeners.delete(e),this.listeners.size)||(null==(t=this.abortController)||t.abort())}callListeners(){for(const e of this.listeners.keys())e();this.listeners.clear()}async fetch(e){var t;null==(t=this.abortController)||t.abort(),this.loading=!0,"undefined"!=typeof AbortController&&(this.abortController=new AbortController);try{var n;return await this.zest.request(this.endpoint,e,null==(n=this.abortController)?void 0:n.signal,(e=>{this.data=e,this.loading=!1,this.error=void 0,this.callListeners()}))}catch(e){r.runInAction((()=>{e instanceof DOMException&&"AbortError"===e.name||(this.error=e),this.loading=!1,this.callListeners()}))}finally{this.abortController=void 0}}}class p{get data(){var e;return null==(e=this.internals.loadedResource)?void 0:e.data}constructor(e,t,n,s){this.zest=e,this.endpoint=t,this.paramsFn=n,this.opts=s,this.loading=!1,this.error=void 0,this.params=void 0,this.refetch=()=>this.fetch(!0),this.internals={query:this,get params(){var e;return null!=(e=this.query.paramsFn())?e:void 0},get externalParams(){return void 0===this.params?void 0:this.query.endpoint.params.serialize(this.params)},get resourceKey(){return void 0===this.externalParams?void 0:JSON.stringify(this.externalParams)},loadedResource:void 0},this.handleResourceResult=()=>{var e;this.loading=!1,this.params=this.internals.params,this.error=null==(e=this.currentResource)?void 0:e.error,this.internals.loadedResource=this.currentResource},this.fetch=async(e,t=this.internals.params)=>{var n;if(this.currentResource&&void 0!==t&&(this.loading=!0,null==(n=this.currentResource)||n.addListener(this.handleResourceResult),!this.currentResource.loading||e)){const e=await this.currentResource.fetch(t);var s;if(e)null==(s=this.opts)||null==s.onFetched||s.onFetched(e,t)}},this.handleResource=e=>{var t,n,s,i,a,r,o;if(null==(t=this.currentResource)||t.removeListener(this.handleResourceResult),!e||void 0===this.internals.params)return this.currentResource=void 0,this.internals.loadedResource=void 0,this.loading=!1,void(this.error=void 0);(this.currentResource=void 0,"no-cache"!==(null==(n=this.opts)?void 0:n.fetchPolicy)&&(this.currentResource=this.resources[e]),this.currentResource)||(this.currentResource=new m(this.zest,this.endpoint,this.internals.params),"no-cache"!==(null==(r=this.opts)?void 0:r.fetchPolicy)&&(this.resources[e]=this.currentResource));if((this.currentResource.isReady&&"network-only"!==(null==(s=this.opts)?void 0:s.fetchPolicy)||this.currentResource.data&&"cache-only"===(null==(i=this.opts)?void 0:i.fetchPolicy))&&(this.internals.loadedResource=this.currentResource,this.params=this.internals.params,"cache-and-network"!==(null==(o=this.opts)?void 0:o.fetchPolicy)))return void(this.loading=!1);if("cache-only"===(null==(a=this.opts)?void 0:a.fetchPolicy))throw new Error("Missing query data in cache");this.fetch()},this.resources=e.getEndpointResources(t),r.makeObservable(this,{loading:!0,error:!0,params:!0,data:!0,refetch:!0}),r.makeAutoObservable(this.internals,{query:!1});const i=e.getEndpointQueriesMap(t);let a;r.onBecomeObserved(this,"loading",(()=>{i.set(this,null),a=r.reaction((()=>this.internals.resourceKey),this.handleResource,{name:"OnQueryParamsChange"}),this.handleResource(this.internals.resourceKey)})),r.onBecomeUnobserved(this,"loading",(()=>{var e;i.delete(this),null==(e=this.currentResource)||e.removeListener(this.handleResourceResult),a()}))}}class h{constructor(e={}){this.initials=e,this.instances=r.observable.map(),this.resources=new Map,this.queries=new Map,this.getInstance=(e,t)=>{const n=e.modelKeyType.serialize(t),s=JSON.stringify(n);return this.getModelInstances(e).get(s)},this.createInstance=(e,t)=>{const n=e.modelKeyType.serialize(t),s=JSON.stringify(n),i=this.getModelInstances(e),a=i.get(s);if(a)return Object.assign(a,t),a;const r=(0,u.B)(new e(t));return i.set(s,r),r},this.query=(e,t,n)=>new p(this,e,t,n)}getModelInstances(e){let t=this.instances.get(e);if(!t){var n;const s=null==(n=this.initials[e.modelName||e.name])?void 0:n.map((t=>{try{const n=(0,l.Hj)(e.objectType.parser,t,"zest"),s=e.modelKeyType.serialize(n);return[JSON.stringify(s),n]}catch(e){return console.error("Failed to parse Zest initials:",e),null}})).filter(Boolean);t=r.observable.map(s),this.instances.set(e,t)}return t}getEndpointResources(e){let t=this.resources.get(e);return t||(t={},this.resources.set(e,t)),t}getEndpointQueriesMap(e){let t=this.queries.get(e);return t||(t=new Map,this.queries.set(e,t)),t}getEndpointQueries(e){return this.getEndpointQueriesMap(e).keys()}async request(e,t,n,s){const i=await e.req(e.params.serialize(t),n);return void 0===i?void 0:r.runInAction((()=>{const t=(0,d.t)(this,(()=>(0,l.Hj)(e.res.parser,i,"zest")));return null==s||s(t),t}))}subscribeOnSerializedInstances(e){const t=new Map;let n;const s=()=>{n=void 0;const s={};for(const[e,n]of t.entries()){if(!e.modelName)continue;const t=this.getModelInstances(e);s[e.modelName]=Array.from(n).map((e=>t.get(e))),n.clear()}e(s)},i=(0,c.jy)(this.instances,((e,[i,a])=>{if(null==i||!i.modelName)return;const r=null!=a?a:(0,c.vu)(e),o=t.get(i);o?o.add(r):t.set(i,new Set([r])),n||(n=setTimeout(s,10))}));return()=>{n&&clearTimeout(n),i()}}setInitials(e){this.initials=e}}var b=n(2004);const g=["data"];const v=(0,i.createContext)(void 0),_=()=>{const e=(0,i.useContext)(v);if(!e)throw new Error("Zest Context is not set");return e},f=({children:e,initialData:t})=>{const n=(0,i.useRef)();return n.current||(n.current=new h(t)),a().createElement(v.Provider,{value:n.current},e)};function y(e,t,n={}){const a=_(),[l]=(0,i.useState)((()=>r.observable.box(t,{name:"ParamsBox",deep:!1})));r.runInAction((()=>l.set(t||null)));const[c]=(0,i.useState)((()=>a.query(e,(()=>l.get()),n))),[d]=(0,i.useState)((()=>r.computed((()=>({loading:c.loading,error:c.error,params:c.params,data:c.data&&(0,u.v)(c.data),refetch:c.refetch})),{name:"QueryStateSnapshot",equals:r.comparer.shallow}))),m=(0,o.useObserver)((()=>d.get())),{data:p}=m,h=(0,s.Z)(m,g);return(0,b.E)({loading:!n.manualLoadingHandling&&h.loading,error:n.manualErrorHandling?void 0:h.error,retry:h.refetch,contentReady:!!p,onLoadingBoundaryMissing(){if(!n.manualErrorHandling||!n.manualLoadingHandling)throw new Error('Component using "useQuery" not wrapped in LoadingBoundary. Either specify both "manualLoadingHandling: true" and "manualErrorHandling: true" for this query or wrap it in LoadingBoundary where it makes sense for UI.')}}),[p,h]}function w(e){const t=_();return(0,i.useCallback)((n=>t.request(e,n)),[t])}function k(e,t,n){const s=w(e),[a,o]=(0,i.useState)(!1),l=(0,i.useRef)(!1),c=(0,i.useCallback)((e=>{l.current=e,o(e)}),[]),[d,m]=(0,i.useState)(),p=(0,u.B)(t[0]),{params:h}=t[1];return[(0,i.useCallback)((async e=>{if(p&&h&&!l.current){m(void 0),c(!0);try{const t=await s(Object.assign({},h,e));r.runInAction((()=>{n(p,t)}))}catch(e){m(e)}finally{c(!1)}}}),[p,h]),{loadingMore:a,error:d}]}},97212:(e,t,n)=>{"use strict";n.d(t,{v:()=>r,B:()=>l});n(14072),n(53208);var s=n(62179),i=n(42115);const a=new WeakMap;function r(e){if(!s.isObservable(e))return e;let t=a.get(e);return t||(t=s.computed((()=>{let t;return t=s.isObservableArray(e)?s.values(e).map((e=>s.isObservable(e)?r(e):e)):s.isObservableMap(e)?new Map(s.entries(e).map((([e,t])=>[e,s.isObservable(t)?r(t):t]))):(0,i.sq)(s.entries(e).map((([e,t])=>[e,s.isObservable(t)?r(t):t]))),o.set(t,e),t})),a.set(e,t)),t.get()}const o=new WeakMap;function l(e){return o.get(e)}},7689:(e,t,n)=>{"use strict";n.d(t,{IX:()=>L,O7:()=>k,kS:()=>M,FD:()=>A,GP:()=>I,jV:()=>N,i0:()=>C,UI:()=>D,wY:()=>R,o4:()=>F,Rx:()=>S,Ry:()=>x,cM:()=>T,IM:()=>B,v0:()=>O,Z_:()=>E,d_:()=>P});n(14072),n(53208);var s=n(32481),i=n(5457),a=n(95758);const r=(0,s.Mv)(((e,t)=>{t.assert((0,i.b)(e),"object",typeof e);for(const n of(0,a.u)(e))t.deepen(n,(()=>t.assert(!1,"never",typeof e[n])));return{}}));var o=n(86826),l=n(40352),c=n(43623),d=n(72034),u=n(78147),m=n(62993),p=n(51780),h=n(29332),b=n(26347),g=n(30373),v=n(46821),_=n(54511),f=n(61217),y=n(42115);const w=(e,t)=>({name:e,parser:t,serialize:e=>e}),k=()=>Object.assign({},w("boolean",o.O7)),S=e=>Object.assign({},w("number",o.Rx),{min:null==e?void 0:e.min}),E=e=>Object.assign({},w("string",o.Z_),{maxLength:null==e?void 0:e.maxLength}),C=e=>Object.assign({},w("literal",l.i(e))),I=e=>Object.assign({},w("enum",c.G(e))),P=(...e)=>Object.assign({},w("enum",d.d(...e))),T=(e,t)=>t,R=e=>Object.assign({},e,{parser:u.w(e.parser),serialize:t=>void 0===t?void 0:e.serialize(t),optional:!0}),A=()=>({name:"emptyObject",parser:r,serialize:()=>"{}"}),x=e=>({name:"object",props:e,parser:m.R((0,y.sq)(Object.entries(e).map((([e,t])=>[e,t.parser])))),serialize:t=>(0,y.sq)(Object.entries(e).map((([e,n])=>[e,n.serialize(t[e])])))}),O=e=>({name:"snakeCaseObject",props:e,parser:p.v((0,y.sq)(Object.entries(e).map((([e,t])=>[e,t.parser])))),serialize:t=>(0,y.sq)(Object.entries(e).map((([e,n])=>[(0,_.a)(e),n.serialize(t[e])])))}),N=(...e)=>({name:"intersection",props:Object.assign({},...e.map((e=>e.props))),parser:h.j(...e.map((e=>e.parser))),serialize:t=>Object.assign({},...e.map((e=>e.serialize(t))))}),M=(e,t)=>({name:"disjointUnion",parser:b.kS(e,(0,y.sq)(Object.entries(t).map((([e,t])=>[e,t.parser])))),serialize:n=>Object.assign({},t[n[e]].serialize(n),{[e]:n[e]})}),L=e=>({name:"array",parser:g.I(e.parser),serialize:t=>t.map(e.serialize)}),D=e=>({name:"map",parser:(0,s.Mv)(((t,n)=>{const i=(0,s.kB)(v.I(e.parser))(t,n);return new Map(Object.entries(i))})),serialize:t=>(0,y.sq)(Array.from(t).map((([t,n])=>[t,e.serialize(n)])))}),B=e=>({name:"record",parser:(0,s.Mv)(((t,n)=>(0,s.kB)(v.I(e.parser))(t,n))),serialize:t=>(0,y.sq)(Object.entries(t).map((([t,n])=>[t,e.serialize(n)])))}),F=e=>({name:"model",parser:(0,s.Mv)(((t,n)=>{const i=(0,f.f)();if(!i)throw new Error("Parsing model instance outside of zest");const a=(0,s.kB)(e.objectType.parser)(t,n);return i.createInstance(e,a)})),serialize:t=>e.objectType.serialize(t)})},42115:(e,t,n)=>{"use strict";n.d(t,{bz:()=>i,sq:()=>a,vu:()=>r,jy:()=>l});n(14072),n(53208);var s=n(62179);const i=e=>{var t,n;if(!s.isObservable(e))return!1;if(s.isObservableArray(e))return Boolean(null==(n=s.getObserverTree(e).observers)?void 0:n.length);const i=s.keys(e)[0];return Boolean(null==(t=s.getObserverTree(e,i).observers)?void 0:t.length)};function a(e){if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};for(const[n,s]of e)t[n]=s;return t}function r(e){return"array"===e.observableKind?e.index:e.name}function o(e){return s.isObservableObject(e)||s.isObservableArray(e)||s.isObservableMap(e)}function l(e,t){const n=new WeakMap;function i(s){const i=n.get(s.object);!function(e,t){switch(e.type){case"add":a(e.newValue,t,e.name);break;case"update":r(e.oldValue),a(e.newValue,t,e.name||`${e.index}`);break;case"remove":case"delete":r(e.oldValue);break;case"splice":e.removed.map(r),e.added.forEach(((n,s)=>a(n,t,`${e.index+s}`)));for(let t=e.index+e.addedCount;t<e.object.length;t++)if(o(e.object[t])){const s=n.get(e.object[t]);s&&(s.key=`${t}`)}}}(s,i),t(s,function(e){if(!e)return[];const t=[];for(;e.parent;)t.push(e.key),e=e.parent;return t.reverse()}(i),e)}function a(e,t,r){if(o(e)){if(n.get(e))return;{const o={parent:t,key:r,dispose:s.observe(e,i)};n.set(e,o),s.entries(e).forEach((([e,t])=>a(t,o,e)))}}}function r(e){if(o(e)){const t=n.get(e);if(!t)return;n.delete(e),t.dispose(),s.values(e).forEach(r)}}return a(e,void 0,""),()=>{r(e)}}},79130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(23242),i=n.n(s),a=n(87240),r=n.n(a),o=n(68129);let l=new(i())({id:"profile_outlined_circle_7e82--inline",use:"profile_outlined_circle_7e82--inline-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" id="profile_outlined_circle_7e82--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M21.3178 24.6387C19.7717 25.5925 17.9501 26.1429 16 26.1429C14.0505 26.1429 12.2294 25.5928 10.6835 24.6395C11.0813 23.2229 12.8066 22.4 16.0035 22.4C19.1982 22.4 20.9194 23.2214 21.3178 24.6387ZM22.8225 23.5055C21.933 21.6041 19.5433 20.6 16.0035 20.6C12.462 20.6 10.0684 21.6049 9.17865 23.5065C7.13813 21.6512 5.85714 18.9752 5.85714 16C5.85714 10.3983 10.3983 5.85714 16 5.85714C21.6017 5.85714 26.1429 10.3983 26.1429 16C26.1429 18.9746 24.8624 21.6502 22.8225 23.5055ZM28 16C28 22.6274 22.6274 28 16 28C9.37258 28 4 22.6274 4 16C4 9.37258 9.37258 4 16 4C22.6274 4 28 9.37258 28 16ZM11.5001 13.0625C11.5001 16.2579 13.0751 19.115 16.0001 19.115C18.9251 19.115 20.5001 16.2579 20.5001 13.0625C20.5001 9.935 18.7001 8 16.0001 8C13.3001 8 11.5001 9.935 11.5001 13.0625ZM18.7001 13.0625C18.7001 15.6511 17.5656 17.315 16.0001 17.315C14.4346 17.315 13.3001 15.6511 13.3001 13.0625C13.3001 10.9216 14.3099 9.8 16.0001 9.8C17.6903 9.8 18.7001 10.9216 18.7001 13.0625Z" fill="currentColor" />\n</symbol>'});const c=(0,o.Z)(r(),l)},43939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(23242),i=n.n(s),a=n(62508),r=n.n(a),o=n(68129);let l=new(i())({id:"icon-arrow-24_87be--inline",use:"icon-arrow-24_87be--inline-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-arrow-24_87be--inline"><path d="M7.5 10.5 12 14l4.5-3.5" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});const c=(0,o.Z)(r(),l)},99501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"close_394e--react",use:"close_394e--react-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="close_394e--react"><path d="M1.795 1.793a1 1 0 0 0 0 1.414L6.588 8l-4.793 4.793a1 1 0 1 0 1.414 1.414l4.793-4.793 4.793 4.793a1 1 0 0 0 1.414-1.414L9.416 8l4.793-4.793a1 1 0 0 0-1.414-1.414L8.002 6.586 3.209 1.793a1 1 0 0 0-1.414 0z" fill="currentColor" /></symbol>'});function u(e){return c().add(d),a().createElement("svg",(0,s.Z)({viewBox:"0 0 16 16"},e),a().createElement("use",{xlinkHref:"#close_394e--react"}))}u.displayName="SpriteSymbolComponent(close_394e--react)"},76397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"circle_stop_a5ba--react",use:"circle_stop_a5ba--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="circle_stop_a5ba--react"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM7.236 5.572a8 8 0 0 1 11.191 11.191L7.238 5.574zM5.791 6.955a8 8 0 0 0 11.254 11.254L5.791 6.955z" fill="currentColor" /></symbol>'});function u(e){return c().add(d),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#circle_stop_a5ba--react"}))}u.displayName="SpriteSymbolComponent(circle_stop_a5ba--react)"},60451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"cross_2b5e--react",use:"cross_2b5e--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cross_2b5e--react"><path d="M7.05 5.636A1 1 0 0 0 5.636 7.05l4.95 4.95-4.95 4.95a1 1 0 0 0 1.414 1.414l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414-1.414L13.414 12l4.95-4.95a1 1 0 0 0-1.414-1.414L12 10.586l-4.95-4.95z" fill="currentColor" /></symbol>'});function u(e){return c().add(d),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#cross_2b5e--react"}))}u.displayName="SpriteSymbolComponent(cross_2b5e--react)"},10172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"profile_outlined_circle_b7b1--react",use:"profile_outlined_circle_b7b1--react-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="profile_outlined_circle_b7b1--react">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.7501 19.8805C15.3635 20.718 13.7381 21.2 12 21.2C10.2619 21.2 8.63645 20.718 7.24989 19.8805C8.28353 18.9136 9.85181 18.414 12 18.414C14.1482 18.414 15.7165 18.9136 16.7501 19.8805ZM18.2271 18.7723C18.2031 18.7411 18.1768 18.7111 18.1482 18.6825C16.735 17.2693 14.669 16.5806 12 16.5806C9.331 16.5806 7.26495 17.2693 5.85182 18.6825C5.82322 18.7111 5.79691 18.7411 5.77288 18.7723C3.94524 17.0909 2.8 14.6792 2.8 12C2.8 6.91898 6.91898 2.8 12 2.8C17.081 2.8 21.2 6.91898 21.2 12C21.2 14.6792 20.0548 17.0909 18.2271 18.7723ZM23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM7.875 10.1369C7.875 13.0127 9.59022 15.4806 12.0009 15.4806C14.4117 15.4806 16.125 13.0127 16.125 10.1369C16.125 7.41398 14.6637 5.58065 12.0009 5.58065C9.33814 5.58065 7.875 7.41398 7.875 10.1369ZM14.2917 10.1369C14.2917 12.1845 13.1986 13.6473 12.0009 13.6473C10.8027 13.6473 9.70833 12.1838 9.70833 10.1369C9.70833 8.29567 10.4796 7.41398 12.0009 7.41398C13.5216 7.41398 14.2917 8.29493 14.2917 10.1369Z" fill="currentColor" />\n</symbol>'});function u(e){return c().add(d),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#profile_outlined_circle_b7b1--react"}))}u.displayName="SpriteSymbolComponent(profile_outlined_circle_b7b1--react)"},46069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"sign_out_56cc--react",use:"sign_out_56cc--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="sign_out_56cc--react"><path d="M21.594 10.943c.583.585.583 1.53 0 2.116L18.71 15.95c-.39.39-1.03.39-1.42 0a.996.996 0 0 1 0-1.41 9.555 9.555 0 0 1 1.69-1.345l.386-.242-.207-.206A10 10 0 0 1 16.92 13H8.998a1 1 0 1 1 0-2h7.922a10 10 0 0 1 2.24.254l.206-.206-.386-.241a9.562 9.562 0 0 1-1.69-1.348.996.996 0 0 1 0-1.41c.39-.39 1.03-.39 1.42 0l2.884 2.893ZM14 16a1 1 0 0 0-1 1v1.5a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1.505a1 1 0 1 0 2 0V5.5A2.5 2.5 0 0 0 12.5 3h-7A2.5 2.5 0 0 0 3 5.5v13A2.5 2.5 0 0 0 5.5 21h7a2.5 2.5 0 0 0 2.5-2.5V17a1 1 0 0 0-1-1Z" fill="currentColor" /></symbol>'});function u(e){return c().add(d),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#sign_out_56cc--react"}))}u.displayName="SpriteSymbolComponent(sign_out_56cc--react)"},99246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(19670),i=n(87363),a=n.n(i),r=n(23242),o=n.n(r),l=n(87240),c=n.n(l);const d=new(o())({id:"tesseract_c7fd--react",use:"tesseract_c7fd--react-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="tesseract_c7fd--react"><g clip-path="url(#tesseract_c7fd--react_prefix__clip0_22_906)"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.876 20.956l-.01-.005.01.005zm-.084-.469c.037.274.087.415.116.477.059.012.184.02.407-.035.445-.108 1.072-.423 1.842-1.035.912-.724 1.913-1.775 2.91-3.1a32.987 32.987 0 01-4.42-1.457 19.49 19.49 0 00-.707 2.683c-.2 1.095-.22 1.922-.148 2.467zm-.223-7.726A32.555 32.555 0 018.632 8.59c-1.643-.22-3.094-.244-4.25-.103-.977.12-1.64.346-2.03.586-.195.121-.278.216-.31.265.023.065.089.2.258.418.337.434.941 1 1.86 1.626.689.469 1.5.935 2.409 1.38zm-.66 1.79C2.317 12.775-.038 10.58.097 8.819.27 6.577 4.417 5.774 9.8 6.744c3.086-4.516 6.569-6.907 8.286-5.456 1.349 1.14 1.26 4.358.005 8.163 3.592 1.776 5.946 3.971 5.812 5.733-.172 2.241-4.32 3.044-9.702 2.074-3.087 4.516-6.57 6.907-8.287 5.456-1.349-1.14-1.26-4.358-.005-8.163zm9.459.861c1.643.22 3.094.244 4.25.103.976-.12 1.64-.346 2.03-.586.195-.12.278-.216.31-.265-.023-.065-.089-.2-.258-.418-.337-.434-.941-1-1.861-1.626a19.484 19.484 0 00-2.408-1.38 32.555 32.555 0 01-2.063 4.172zm.985-6.746c.322-.96.559-1.865.707-2.684.2-1.095.22-1.922.148-2.467a1.71 1.71 0 00-.116-.477c-.059-.012-.184-.019-.407.035-.445.108-1.072.423-1.842 1.035-.912.725-1.913 1.776-2.91 3.1l.425.11c1.41.377 2.754.835 3.995 1.348zm-5.628.29a30.589 30.589 0 014.949 1.507 30.604 30.604 0 01-2.4 4.583 30.594 30.594 0 01-4.949-1.507 30.581 30.581 0 012.4-4.583zm6.342-5.961l.007.009a.038.038 0 00-.007-.01zm.066.056l-.009-.005.01.005zM6.926 20.998l.007.01-.007-.01zm15.05-6.363l.003-.01-.002.003a.056.056 0 00-.002.007zM2.027 9.29l.002.01a.035.035 0 01-.002-.01zm-.007.086s0-.004.004-.01l-.004.01zm19.951 5.334l-.002-.01a.065.065 0 00.002.01z" fill="currentColor" /></g><defs><clipPath id="tesseract_c7fd--react_prefix__clip0_22_906"><path fill="#fff" transform="translate(0 .001)" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});function u(e){return c().add(d),a().createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),a().createElement("use",{xlinkHref:"#tesseract_c7fd--react"}))}u.displayName="SpriteSymbolComponent(tesseract_c7fd--react)"},56017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s={"default-font-family":"-apple-system, system-ui, 'Helvetica Neue', 'Helvetica', roboto, arial, sans-serif",leftSidebarSectionListView:"left-sidebar-section-list-view__leftSidebarSectionListView-21",themeBlack:"left-sidebar-section-list-view__themeBlack-2q",collapseButton:"left-sidebar-section-list-view__collapseButton-Uw",themePortal:"left-sidebar-section-list-view__themePortal-2K",header:"left-sidebar-section-list-view__header-3u",compactSmall:"left-sidebar-section-list-view__compactSmall-2B",collapseButtonText:"left-sidebar-section-list-view__collapseButtonText-GK",isDesktop2Site:"left-sidebar-section-list-view__isDesktop2Site-Cr",isVideoSite:"left-sidebar-section-list-view__isVideoSite-Kb",iconWrapper:"left-sidebar-section-list-view__iconWrapper-3u",icon:"left-sidebar-section-list-view__icon-2e",isCollapsed:"left-sidebar-section-list-view__isCollapsed-1r"}},87363:e=>{"use strict";e.exports=React},61533:e=>{"use strict";e.exports=ReactDOM}},t={},n,s,i,a,r,o;function l(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,n=[],l.O=(e,t,s,i)=>{if(!t){var a=1/0;for(d=0;d<n.length;d++){for(var[t,s,i]=n[d],r=!0,o=0;o<t.length;o++)(!1&i||a>=i)&&Object.keys(l.O).every((e=>l.O[e](t[o])))?t.splice(o--,1):(r=!1,i<a&&(a=i));if(r){n.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=n.length;d>0&&n[d-1][2]>i;d--)n[d]=n[d-1];n[d]=[t,s,i]},l.H={},l.G=e=>{Object.keys(l.H).map((t=>{l.H[t](e)}))},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>"dzen-desktop-"+({1160:"search-publishers",1666:"promo-publications-carousel",1681:"subscriptions-heads-placeholder",2312:"video-viewer-modal-desktop",3026:"card-live-run-out",3468:"source-block-text",3505:"add-to-suite-flow",4251:"recommendations-channels",4777:"showcase-cards-factory",4825:"interview",5050:"hint-eula",5791:"card-subscriptions-more",5858:"onboarding-interest-list",6331:"card-gallery-desktop-2",6582:"modal",6907:"user-question",6943:"promo-publications-list",7746:"image-viewer",8252:"publishers-content-carousel",8416:"promo-publications-carousel-live",8577:"gallery-desktop-popup",8708:"card-live"}[e]||e)+".chromium.ru.bundle.js",l.miniCssF=e=>"dzen-desktop-"+({1160:"search-publishers",1666:"promo-publications-carousel",1681:"subscriptions-heads-placeholder",2312:"video-viewer-modal-desktop",3026:"card-live-run-out",3468:"source-block-text",3505:"add-to-suite-flow",4251:"recommendations-channels",4777:"showcase-cards-factory",4825:"interview",5050:"hint-eula",5791:"card-subscriptions-more",5858:"onboarding-interest-list",6331:"card-gallery-desktop-2",6582:"modal",6907:"user-question",6943:"promo-publications-list",7746:"image-viewer",8252:"publishers-content-carousel",8416:"promo-publications-carousel-live",8577:"gallery-desktop-popup",8708:"card-live"}[e]||e)+".chromium.css",l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},i="l9sal7qj_s296rtrjvyq:",l.l=(e,t,n,a)=>{if(s[e])s[e].push(t);else{var r,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+n){r=u;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.setAttribute("data-webpack",i+n),r.src=e),s[e]=[t];var m=(t,n)=>{r.onerror=r.onload=null,clearTimeout(p);var i=s[e];if(delete s[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),o&&document.head.appendChild(r)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),l.p="",a=e=>new Promise(((t,n)=>{var s=l.miniCssF(e),i=l.p+s;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var i=(r=n[s]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){var r;if((i=(r=a[s]).getAttribute("data-href"))===e||i===t)return r}})(s,i))return t();((e,t,n,s)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=a=>{if(i.onerror=i.onload=null,"load"===a.type)n();else{var r=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,i.parentNode.removeChild(i),s(l)}},i.href=t,document.head.appendChild(i)})(e,i,t,n)})),r={843:0},l.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{1029:1,1160:1,1666:1,1681:1,2312:1,3007:1,3026:1,3468:1,3505:1,4251:1,4777:1,4825:1,5050:1,5639:1,5791:1,5858:1,6331:1,6582:1,6907:1,6943:1,7746:1,7867:1,8252:1,8416:1,8577:1,8708:1,8776:1}[e]&&t.push(r[e]=a(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={843:0,6710:0,7429:0};l.f.j=(t,n)=>{var s=l.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else if(/^(3007|5639|6710|7429)$/.test(t))e[t]=0;else{var i=new Promise(((n,i)=>s=e[t]=[n,i]));n.push(s[2]=i);var a=l.p+l.u(t),r=new Error;l.l(a,(n=>{if(l.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",r.name="ChunkLoadError",r.type=i,r.request=a,s[1](r)}}),"chunk-"+t,t)}},l.H.j=t=>{if(!(l.o(e,t)&&void 0!==e[t]||/^(3007|5639|6710|7429)$/.test(t))){e[t]=null;var n=document.createElement("link");n.charset="utf-8",l.nc&&n.setAttribute("nonce",l.nc),n.rel="preload",n.as="script",n.href=l.p+l.u(t),document.head.appendChild(n)}},l.O.j=t=>0===e[t];var t=(t,n)=>{var s,i,[a,r,o]=n,c=0;if(a.some((t=>0!==e[t]))){for(s in r)l.o(r,s)&&(l.m[s]=r[s]);if(o)var d=o(l)}for(t&&t(n);c<a.length;c++)i=a[c],l.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return l.O(d)},n=self.webpackChunkl9sal7qj_s296rtrjvyq=self.webpackChunkl9sal7qj_s296rtrjvyq||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o={6331:[759,1814,8577]},l.f.preload=e=>{var t=o[e];Array.isArray(t)&&t.map(l.G)},l.O(void 0,[838,6445,6700,759,204,7967,720,9371,2026,6710,6175,3015,4378,4960,3572,2607,7429,727,19,9761,9634,8467,8876,4930],(()=>l(18759))),l.O(void 0,[838,6445,6700,759,204,7967,720,9371,2026,6710,6175,3015,4378,4960,3572,2607,7429,727,19,9761,9634,8467,8876,4930],(()=>l(7197))),l.O(void 0,[838,6445,6700,759,204,7967,720,9371,2026,6710,6175,3015,4378,4960,3572,2607,7429,727,19,9761,9634,8467,8876,4930],(()=>l(12117))),l.O(void 0,[838,6445,6700,759,204,7967,720,9371,2026,6710,6175,3015,4378,4960,3572,2607,7429,727,19,9761,9634,8467,8876,4930],(()=>l(44955)));var c=l.O(void 0,[838,6445,6700,759,204,7967,720,9371,2026,6710,6175,3015,4378,4960,3572,2607,7429,727,19,9761,9634,8467,8876,4930],(()=>l(89445)));c=l.O(c)})();