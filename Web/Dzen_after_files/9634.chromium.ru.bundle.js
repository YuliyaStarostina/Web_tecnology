"use strict";(self.webpackChunkl9sal7qj_s296rtrjvyq=self.webpackChunkl9sal7qj_s296rtrjvyq||[]).push([[9634],{80885:(e,n,t)=>{let i,o;t.d(n,{FC:()=>s,ZN:()=>l,mw:()=>c}),"undefined"!=typeof document&&(void 0!==document.hidden?(o="visibilityState",i="visibilitychange"):void 0!==document.mozHidden?(o="mozVisibilityState",i="mozvisibilitychange"):void 0!==document.msHidden?(o="msVisibilityState",i="msvisibilitychange"):void 0!==document.webkitHidden&&(o="webkitVisibilityState",i="webkitvisibilitychange"));const s=()=>Boolean(o),l=()=>!o||"visible"===document[o],c=e=>{if(!i)return()=>{};const n=i;let t=l(),o=!1;const s=()=>{if(!o){const n=l();t!==n&&(t=n,e(n))}};return document.addEventListener(n,s),document.addEventListener("resume",s),()=>{o=!0,document.removeEventListener(n,s)}}},97078:(e,n,t)=>{t.d(n,{Z:()=>o});t(14072),t(53208);var i=t(87363);const o=({stats:e,dislikeQuestion:n,onCancelFeedback:t,onFeedback:o,onInvalidateCache:s,toggleFeedback:l,setSourceBlocked:c})=>{const[a,r]=(0,i.useState)({}),[d,u]=(0,i.useState)(!1),[b,m]=(0,i.useState)(null);return(0,i.useMemo)((()=>{const i=()=>{n&&(n.answers.forEach((({id:n})=>{a[n]&&e.setAnswerChecked(n,!1)})),r({}))};return{answerChecks:a,toggleAnswer(n){const t=a[n];e.setAnswerChecked(n,!t),r(Object.assign({},a,{[n]:!t})),o(),s&&s()},cancelFeedback(){l("disliked"),i(),t&&t()},isBlocked:d,setCardBlocked(e){u(e),c(e)},complaintsState:b,openComplaints(){e.showComplain(),m("opened")},closeComplaints(){m(null)},sendComplaints(n){e.clickComplain(null==n?void 0:n.reasonIds),m(d?"sended-blocked":"sended")},showExtendedDislike(){e.showExtendedDislike()},uncheckAllDislikeAnswers(){i()}}}),[a,b,n,c,l,d,t,o,s,e])}},67579:(e,n,t)=>{t.d(n,{V:()=>r});t(14072),t(53208);var i=t(87363),o=t(92503),s=t(33836),l=t(81235),c=t(67726);const a=(e,n)=>`soft:${n}:${e}`,r=({stats:e,isSubscribeButtonAllowed:n,isSubscribeButtonBlocked:t=!1,source:r,feedback:d,read:u,place:b,interacted:m,toggleSubscribe:k,l10n:v,subscribeTriggerEvent:h,shouldSendShow:p=!0})=>{const[C,S]=(0,i.useState)(!1),g="subscribed"!==r.status&&(!C&&!r.isSubscribedInCurrentSession||r.isUnsubscribedInCurrentSession),w=b&&"liked"===d&&a(b,"like"),f=b&&(u||m)&&a(b,"return"),y=w||f||void 0;(0,i.useEffect)((()=>{"liked"===d||u||m?g&&S(!0):S(!1)}),[g,d,u,m]);const E=n&&!t&&!r.subscriptionForbidden&&C,[[M,I]]=(0,i.useState)((()=>{const e=new o.xQ;return[e,e.pipe((0,s.x)())]}));(0,i.useEffect)((()=>{M.next(E)}),[M,E]),(0,c.D)({isVisible$:I,onShow:()=>{p&&e.showSubscribeButton(h,y)}});const T=(0,i.useCallback)((e=>{k(h,e)}),[k,h]),B=(0,i.useCallback)((()=>{T(y)}),[T,y]),P=(0,i.useMemo)((()=>({buttonLabels:{subscribe:v("desktop.subscribe"),unsubscribe:v("channel.channel.you_subscribed")},place:l.XQ.bottom,shouldAnimate:!0,shouldShow:E,text:v("common.subscribe-banner-text2")})),[E,v]);return{hasSubscribeButton:E,subscribeActionButton:P,clickSubscribeButton:T,handleToggleSoftSubscribe:B}}},96229:(e,n,t)=>{t.d(n,{n:()=>r});var i=t(87363),o=t.n(i),s=t(19181),l=t(44094),c=t(31632),a=t(11328);const r=(0,i.memo)((({l10n:e,sourceStatus:n,className:t,wrapperClassName:r,renderTrigger:d,onEdit:u,onTogglePinning:b,onMovePinUp:m,onMovePinDown:k,onAddToSuite:v,onRemoveFromSuite:h,onDelete:p,onBlock:C,onComplain:S,onSubscribe:g,onUnsubscribe:w,onShow:f,renderAdditionalItems:y,position:E,theme:M,isPinned:I,onToggleSaved:T,savedStatus:B})=>{const P=(0,i.useRef)(null),{suiteName:$}=(0,i.useContext)(a.M);return o().createElement("div",{ref:P,className:r},o().createElement(l.np,{containerRef:P,className:t,position:null!=E?E:c.Bg,shouldCloseOnOuterClick:!1,renderTrigger:d},o().createElement(s.y,{onShow:f,containerRef:P,l10n:e,status:n,suiteName:$,onEdit:u,onTogglePinning:b,onMovePinUp:m,onMovePinDown:k,onAddToSuite:v,onRemoveFromSuite:h,onDelete:p,onUnsubscribe:w,onSubscribe:g,onBlock:C,onComplain:S,renderAdditionalItems:y,theme:M,clid:void 0,isPinned:I,onToggleSaved:T,savedStatus:B})))}))},79264:(e,n,t)=>{t.d(n,{F:()=>E});t(14072),t(53208);var i=t(87363),o=t.n(i),s=t(71102),l=t.n(s),c=t(14052),a=t(19837),r=t(87712),d=t(19456),u=t(35029),b=t(83137),m=t(2604),k=t(93042),v=t(91058);const h="card-layer-feedback-card-view__cardLayerFeedback-1T",p="card-layer-feedback-card-view__header-1Z",C="card-layer-feedback-card-view__title-Mb",S="card-layer-feedback-card-view__subtitle-2c",g="card-layer-feedback-card-view__cancelButton-3l",w="card-layer-feedback-card-view__actions-2r",f=(0,i.memo)((({isMobile:e,l10n:n,theme:t,onBlock:s,onCancel:f,onCancelBlock:y,onComplain:E,isBlocked:M,isComplained:I})=>{const T=(0,i.useRef)();(0,m.n)((()=>{var e;null==(e=T.current)||e.focus()}));const B=(0,i.useMemo)((()=>E?o().createElement(c.Su,{contentPosition:a.Q.left,icon:o().createElement(b.P,{symbol:v.Z,width:24,height:24}),isMobile:e,key:"complain-action",pinType:r.R.circle,viewType:d.c.textSecondary,theme:t,size:u.u.xl,onClick:E,disabled:I},n("feedback.complain")):null),[e,n,E,t,I]),P=(0,i.useMemo)((()=>s?o().createElement(c.Su,{ref:e=>{T.current=e},contentPosition:a.Q.left,icon:o().createElement(b.P,{symbol:k.Z,width:24,height:24}),isMobile:e,key:"block-action",viewType:d.c.textSecondary,size:u.u.xl,theme:t,onClick:s},n("feedback.block.block_button")):null),[e,n,s,t]),$=(0,i.useMemo)((()=>y?o().createElement(c.Su,{ref:e=>{T.current=e},contentPosition:a.Q.left,icon:o().createElement(b.P,{symbol:k.Z,width:24,height:24}),isMobile:e,key:"cancel-block-action",viewType:d.c.textSecondary,theme:t,size:u.u.xl,onClick:y},n("feedback.unblock_source")):null),[e,n,y,t]),_=(0,i.useMemo)((()=>[M?$:P,B].filter(Boolean).map(((e,n)=>o().createElement("div",{className:w,key:n},e)))),[M,$,P,B]);return o().createElement("div",{className:l()(h,{isMobile:e})},o().createElement("div",{className:p},o().createElement("div",null,o().createElement("div",{className:C},n("feedback.feedback_to_dislike_title")),o().createElement("div",{className:S},n("feedback.fewer_similiar_posts_message"))),o().createElement("div",{className:g},o().createElement(c.Su,{pinType:r.R.round,theme:t,size:e?u.u.xs:u.u.xl,viewType:d.c.light,onClick:f,"data-testid":"feedback-cancel"},n("feedback.cancel")))),o().createElement("div",{className:w},_))}));var y=t(53489);const E=(0,i.memo)((({feedbackProps:{cancelFeedback:e,openComplaints:n,sendComplaints:t,closeComplaints:s,setCardBlocked:l,isBlocked:c,complaintsState:a,uncheckAllDislikeAnswers:r},isMobile:d,l10n:u,lang:b,theme:m,onCancelSourceBlock:k=(()=>{}),onComplain:v=(()=>{}),onSourceBlock:h=(()=>{}),onOpenSourceLink:p,onOpenPublicationLink:C,item:S})=>{const g=(0,i.useCallback)((()=>{l(!0),h()}),[h,l]),w=(0,i.useCallback)((()=>{l(!1),k()}),[k,l]),[E,M]=(0,i.useState)(!1),I=(0,i.useCallback)((()=>{r(),M(!1)}),[r]),T=(0,i.useCallback)((e=>{t({reasonIds:e.complaintReasons}),v()}),[v,t]),B="sended"===a,P="opened"===a||B;return o().createElement(o().Fragment,null,P&&o().createElement(y.l,{l10n:u,lang:b,onClose:s,onComplainClick:T,item:S,onOpenSourceLink:p,onOpenPublicationLink:C}),o().createElement(f,{isMobile:d,isBlocked:c,isComplained:B,l10n:u,theme:m,onBlock:g,onCancel:E?I:e,onCancelBlock:w,onComplain:n}))}))},26717:(e,n,t)=>{t.d(n,{I2:()=>o,zH:()=>s});var i=t(56720);const o=e=>{var n;const{isMobile:t}=null!=(n=e.context.uatraits)?n:{};return(0,i.GP)(e)&&Boolean(t)},s=e=>{const n=(0,i.jA)(e),t=(0,i.tE)(e);return!(n||t)}},42292:(e,n,t)=>{t.d(n,{E:()=>d});t(14072),t(53208);var i=t(87363),o=t(20627),s=t(87038),l=t(80885),c=t(89294);const a=async()=>(await(0,c.D)(200),new Promise((e=>{if((0,l.FC)()&&(0,l.ZN)())return void e();const n=()=>{t(),document.removeEventListener("scroll",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),e()},t=(0,l.mw)((e=>{e&&n()}));document.addEventListener("scroll",n),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)})));var r=t(6060);const d=({stats:e,initialRead:n,onClick:t,containerRef:l,isTeaser:d})=>{const[u,b]=(0,i.useState)(n),[m,k]=(0,i.useState)(n),[v,h]=(0,i.useReducer)((e=>e+1),0),{getHeight:p}=(0,r.D)(l),C=(0,o.z)((n=>{n&&(n.ctrlKey||n.metaKey)?(b(!0),(0,c.D)(1500).then(h)):(0,s.O)().then(a).then((()=>{b(!0),(0,c.D)(1500).then(h)})),k(!0),d&&e.clickTeaser?e.clickTeaser():e.click(p()),t()}),250),S=(0,i.useCallback)((e=>{0!==e.button&&1!==e.button||C(e)}),[C]);return{read:u,interacted:m,mittensJumpAnimationKey:v,handleClick:C,handleAuxClick:S}}},59306:(e,n,t)=>{t.d(n,{k:()=>o});t(14072),t(53208);var i=t(87363);const o=()=>{const[e,n]=(0,i.useState)();return{subscribeTriggerEvent:e,setSubscribeTriggerEvent:n}}},24344:(e,n,t)=>{t.d(n,{a:()=>d});var i=t(37471),o=t(87363),s=t(56720),l=t(89294);var c=t(20773),a=t(22796),r=t(67918);const d=({id:e,scrollTo:n})=>{const t=(0,i.I0)(),d=(e=>{const n=(0,i.I0)();return(0,o.useCallback)((()=>{e&&n(((n,t)=>{const i=t(),o=(0,s.L2)(i),c=(0,s.XM)(i);o&&(c?e():(0,l.D)(1e3).then(e))}))}),[n,e])})(n);return(0,o.useCallback)((()=>{t(((n,t)=>{n((0,c.DC)());const i=t();(0,a.dK)(i,e)&&(0,r.p)(i,e)&&n((0,c.r8)(e)),i.params.shouldCleanCacheOnFeedback&&n((0,c.Yu)(e))})),d()}),[d,e,t])}},6449:(e,n,t)=>{t.d(n,{T:()=>a});var i=t(74251),o=t(51749),s=t(76117),l=t(11328),c=t(87363);const a=({setFeedback:e,stats:n,setSubscribeTriggerEvent:t,feedbackProps:s,item:a,isMobile:u,onDelete:b,pinProps:m,onAddToSuite:k,onRemoveFromSuite:v,onToggleSaved:h})=>{const{channel4:p}=(0,i.od)(),{isMyChannelFeed:C,isMySuiteFeed:S}=(0,c.useContext)(l.M),g=C||S,w=null==p?void 0:p.isSuitesEnabled,{isPinned:f=!1,maxPinnedItemsReached:y=!1,availableMoveItemOptions:E=[],onTogglePinning:M,onMovePinnedItem:I}=null!=m?m:{},T=(0,c.useCallback)((()=>{n.openFeedbackMenu(),t&&t((0,o.q)("open_feedback_menu"))}),[t,n]),B=(0,c.useCallback)((()=>{e("disliked"),s.setCardBlocked(!0)}),[e,s]),P=(0,c.useCallback)((()=>{e("disliked"),s.openComplaints()}),[e,s]),$=(0,c.useCallback)((()=>{const e=d({item:a,isMobile:u});e&&(window.location.href=e)}),[a,u]),_=(0,c.useCallback)((()=>I&&I("up")),[I]),x=(0,c.useCallback)((()=>I&&I("down")),[I]),F="gallery"===(null==a?void 0:a.type),A=g&&!F,O=C&&(!y||f),D=O&&E.includes("up"),L=O&&E.includes("down"),j=w&&C,N=w&&S;return{handleContextMenuShow:T,handleShare:n.clickShare,handleEdit:r($,A),handleDelete:r(b,C),handleTogglePinning:r(M,O),handleMovePinUp:r(_,D),handleMovePinDown:r(x,L),handleAddToSuite:r(k,j),handleRemoveFromSuite:r(v,N),handleBlock:r(B,!g),handleComplain:r(P,!g),handleToggleSaved:r(h,!g)}},r=(e,n)=>n?e:void 0,d=({item:e,isMobile:n=!1})=>{if(!e||!e.publicationObjectId)return"";const{publisherId:t,type:i,publicationObjectId:o}=e;switch(i){case"card":return u({publisherId:t,publicationObjectId:o,isMobile:n});case"brief":return b({publisherId:t,publicationObjectId:o,isMobile:n});case"gif":return m({publisherId:t,publicationObjectId:o,isMobile:n});default:return""}},u=({publisherId:e,publicationObjectId:n,isMobile:t})=>t?`${s.tU}#/editor/${n}?${s.V}=true`:`${s.Il}/${e}/${n}/edit?${s.V}=true`,b=({publisherId:e,publicationObjectId:n,isMobile:t})=>t?`${s.tU}#/brief-editor/${n}?${s.V}=true`:`${s.Il}/${e}?${s.sX}=${n}&${s.V}=true`,m=({publisherId:e,publicationObjectId:n,isMobile:t})=>t?`${s.tU}#/video-editor/${n}?${s.V}=true`:`${s.Il}/${e}?${s.ij}=${n}&${s.V}=true`},87038:(e,n,t)=>{t.d(n,{O:()=>o});t(14072);var i=t(80885);const o=()=>new Promise((e=>{const n=(0,i.mw)((t=>{t||(n(),e())}))}))}}]);