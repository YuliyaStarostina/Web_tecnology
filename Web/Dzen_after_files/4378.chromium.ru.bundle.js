"use strict";(self.webpackChunkl9sal7qj_s296rtrjvyq=self.webpackChunkl9sal7qj_s296rtrjvyq||[]).push([[4378],{74378:(e,i,t)=>{t.d(i,{K:()=>M});t(14072),t(53208);var s=t(87363),l=t.n(s),a=t(13974),o=t(99498),n=t(40407),r=t(47580),u=t(9842),c=t(74251),d=t(3823);const b=(0,a.N)("card-layer-header-view"),m=(0,s.memo)((({titleRef:e,subscribeButton:i,controls:t,logo:s,isMobile:o,renderClickable:n,headerTooltip:r,subtitle:u,theme:m,channelInfoClassName:C,containerClassName:g,backgroundType:p,title:h,size:v="m",extraTitle:f,viewType:E,withLogoFade:T,isVerified:M=!1,isSidebarMod:R,isNullPadding:N,isCarouselCard:k,cardRtbLabel:w,isNewHeader:S,isCompact:L,isCompactCard:y,isPublicationPage:H,onMouseEnterTitle:x,onMouseLeaveTitle:I,isCarouselRedesign:P,isTextCard:F,shouldFadeInterpunct:B})=>{const{isHeaderRedesign:D,isRtbInPreHeader:z}=(0,c.od)(),U=o||z,V=U&&w,O=!U&&w;return l().createElement(l().Fragment,null,V&&l().createElement("div",{className:b("pre-header",{isCompactCard:y,isMobile:o})},V),l().createElement("div",{className:a.N.mix(g,b({isMobile:o,size:v,isNullPadding:N,isSidebarMod:R,isCarouselCard:k,isNewHeader:S,isCompact:L,isCompactCard:y,isHeaderRedesign:D,isTextCard:F}))},l().createElement(d.f,{logo:s,title:h,titleRef:e,subtitle:u,extraTitle:f,backgroundType:p,viewType:E,subscribeButton:i,isVerified:M,isMobile:o,withLogoFade:T,theme:m,className:(0,a.C)(C,b("channel-info")),cardRtbLabel:O,size:v,renderClickable:n,isCompact:L,isCursorDefault:H,isCarouselRedesign:P,onMouseEnterTitle:x,onMouseLeaveTitle:I,shouldFadeInterpunct:B}),r,t&&l().createElement("div",{className:b("controls",{isCompact:L})},t)))}));var C=t(49147),g=t(5703),p=t(34097),h=t(99280),v=t(80106),f=t(62041);const E=["right","top","bottom"],T=(0,a.N)("card-layer-channel-header-view"),M=(0,s.memo)((({host:e,isChannelOwner:i=!1,isMenuButtonDisabled:t=!1,isMobile:a,isSubscribed:d,isSubscribedInCurrentSession:b=!1,containerClassName:M,channelInfoClassName:R,backgroundType:N,hasControls:k=!1,labelIcon:w,labelText:S,l10n:L,lang:y,source:H,renderContextMenu:x,renderAdditional:I,theme:P,withExtraTitle:F,viewType:B,iconSize:D,logoColor:z,logoDefault:U,onClickSubscribeButton:V,onOpenSourceLink:O,isNullPadding:A,isCardChannelLinkDisabled:q,isCarouselCard:_,cardRtbLabel:j,isNewHeader:G,isBlocked:W,isPublicationPage:$,isHiddenSubscribeBtn:K,isCompact:J,logoSize:Q,isCompactCard:X,isCarouselRedesign:Y,onShowSubscribeButton:Z,withLogo:ee=!0,withTooltip:ie,isPromo:te,publicationDate:se,creationTime:le,isPromoPublication:ae,isTextCard:oe,showTooltipCallback:ne,closeTooltipCallback:re,isAuthorized:ue,size:ce="m",shouldShowHeaderMeta:de=!0,threeDotsRedesignFeed:be})=>{var me,Ce;const{shouldDegradateSubscriptions:ge,isHeaderRedesign:pe,isLargeHeaderAvatar:he,shouldHideDateForPromo:ve,shouldRemoveSubscribeButtonsOnMobileArticle:fe,isMobileHeaderRedesign:Ee}=(0,c.od)(),Te=(0,s.useCallback)((e=>{1===e.button&&O()&&e.preventDefault()}),[O]),Me=(0,s.useCallback)((e=>{(0,p.G)(e)&&O()&&e.preventDefault()}),[O]),Re=(0,s.useCallback)(((i,t,s)=>l().createElement(C.P,{className:i,href:H.feedLink,host:e,onAuxClick:Te,onClick:Me,tabIndex:s},t)),[Te,e,Me,H.feedLink]),Ne=(0,s.useRef)(null),[ke,we]=(0,s.useState)(!1),Se=(0,g.F)((e=>{e?(null==ne||ne(),we(!0)):(null==re||re(),we(!1))}),200),Le=(0,s.useCallback)((()=>Se(!0)),[Se]),ye=(0,s.useCallback)((()=>Se(!1)),[Se]),He=null!=(me=null==(Ce=H.redesignLogos)?void 0:Ce.ratio_1x1)?me:H.logo,xe="white"===P?"#f0f1f5":"#1d1e22",Ie=Q||(({isCarouselCard:e,isMobile:i,isPublicationPage:t,isCompact:s,isCarouselRedesign:l,isLargeHeaderAvatar:a,isMobileHeaderRedesign:o})=>l&&i||a||o&&i?32:l?28:s?24:e||i?36:t?48:32)({isCarouselCard:_,isMobile:a,isPublicationPage:$,isCompact:J,isCarouselRedesign:Y,isLargeHeaderAvatar:he,isMobileHeaderRedesign:Ee}),Pe=(0,s.useMemo)((()=>ee&&l().createElement(o.qE,{src:He,backgroundColor:z||xe,stubImage:U,iconSize:Ie,shouldUseDefaultImage:!1,mobileHeaderRedesign:Ee&&a})),[ee,He,z,xe,U,Ie,a,Ee]),Fe=(0,s.useMemo)((()=>l().createElement(o.qE,{src:He,backgroundColor:z||xe,stubImage:U,iconSize:28,shouldUseDefaultImage:!1,mobileHeaderRedesign:Ee&&a})),[He,z,xe,U,a,Ee]),Be=(0,s.useMemo)((()=>{if(_&&H.subscribers)return(0,f.Oo)({l10n:L,lang:y,count:H.subscribers,format:f.gv.SUBSCRIBERS});const e=d?null==S?void 0:S.channelInfoSubscribed:null==S?void 0:S.channelInfoUnsubscribed,i=!ae||(0,v.E)({publicationDate:se,shouldHideDateForPromo:ve})?le:void 0,t=pe?"·":" • ",s=void 0!==e,a=pe&&!!i;return s||a?l().createElement(l().Fragment,null,a&&l().createElement(n.u,{url:null==S?void 0:S.url,text:i,type:null==w?void 0:w.type}),a&&s&&l().createElement("span",{className:T("separator")},t),s&&l().createElement(n.u,{text:e})):null}),[_,H.subscribers,d,S,null==w?void 0:w.type,L,y,pe,ae,ve,le,se]),De=(0,s.useMemo)((()=>{if(!F)return;const e=!ae||(0,v.E)({publicationDate:se,shouldHideDateForPromo:ve})?le:void 0;return e?l().createElement(l().Fragment,null,l().createElement("span",{className:T("separator",{viewType:"inline"})},"·"),e):null}),[F,le,se,ae,ve]),ze=(0,s.useMemo)((()=>{if(!ie||!H.description)return;const e=H.subscribers?(0,f.Oo)({l10n:L,lang:y,count:H.subscribers,format:f.gv.SUBSCRIBERS}):null==S?void 0:S.channelInfoUnsubscribed,i=!te&&e?l().createElement(n.u,{url:null==S?void 0:S.url,text:e,type:null==w?void 0:w.type}):"";return l().createElement(h.x,{className:T("popup"),close:ye,isOpen:ke,targetRef:Ne,direction:E,onShowSubscribeButton:Z,theme:P,title:H.title,description:H.description,logo:Fe,meta:i,renderClickable:Re,onMouseEnter:Le,onMouseLeave:ye,isVerified:H.isVerified,isSubscribed:d,l10n:L,onToggleSubscribe:V})}),[ie,te,null==S?void 0:S.channelInfoUnsubscribed,null==S?void 0:S.url,P,null==w?void 0:w.type,Z,Le,ye,ke,H.title,H.description,H.isVerified,H.subscribers,Fe,Re,d,L,y,V]),[Ue,Ve]=(0,s.useState)(!1),Oe=(0,s.useRef)();(0,s.useEffect)((()=>{d&&b?Oe.current=setTimeout((()=>Ve(!0)),1e3):(Oe.current&&clearTimeout(Oe.current),Ve(!1))}),[d,b]);const Ae=(0,s.useMemo)((()=>!k||W||i||!V||d&&!b||ge||!ue&&fe?null:l().createElement(u.l,{isSubscribed:d,theme:P,onToggleSubscribe:V,l10n:L,isCompact:J,isHidden:K,mobileHeaderRedesign:Ee&&a,shouldFade:Ue})),[J,k,W,i,ge,V,d,b,P,L,K,ue,fe,a,Ee,Ue]),qe=(0,s.useMemo)((()=>{if(!k)return null;const e=!a&&!be,i=x?x((({containerRef:i,toggle:s,isOpen:o})=>l().createElement(r._,{containerRef:i,disabled:t,isMobile:a,iconSize:D,theme:P,onClick:s,isOpen:o,l10n:L,viewType:e?"default":"gray",withBgHover:e,isVertical:e}))):null,s=I?I():null;return l().createElement(l().Fragment,null,i,s)}),[k,x,I,a,t,D,P,L,be]);return l().createElement(m,{titleRef:Ne,subscribeButton:Ae,controls:qe,logo:Pe,containerClassName:M,channelInfoClassName:R,isMobile:a,renderClickable:q?void 0:Re,headerTooltip:ze,subtitle:de?Be:void 0,theme:P,title:H.title,extraTitle:De,viewType:B,withLogoFade:!0,backgroundType:N,isNullPadding:A,isVerified:H.isVerified,isCarouselCard:_,cardRtbLabel:j,isNewHeader:G,isCompact:J,isCompactCard:X,isTextCard:oe,isPublicationPage:$,onMouseEnterTitle:Le,onMouseLeaveTitle:ye,isCarouselRedesign:Y,size:ce,shouldFadeInterpunct:Ue})}))},3823:(e,i,t)=>{t.d(i,{f:()=>m});var s=t(87363),l=t.n(s),a=t(60611),o=t(46764),n=t(40789),r=t(74251),u=t(32976);const c={channelTitleLabel:{ru:"Перейти на страницу канала:",_context:""}},d=((0,u.Wh)(c),(0,u.bN)(c)),b=(0,a.N)("channel-info"),m=(0,s.memo)((({logo:e,extraLogo:i,extraTitle:t,withLogoFade:s,title:c,subscribeButton:m,isVerified:C,className:g,subtitle:p,isMobile:h,isSmallGapLogo:v,theme:f,size:E="m",renderClickable:T,viewType:M,backgroundType:R="solid",isCompact:N,isCursorDefault:k=!1,isWidthByContent:w=!1,titleRef:S,onMouseEnterTitle:L,onMouseLeaveTitle:y,isCarouselRedesign:H=!1,isHovered:x=!1,cardRtbLabel:I,shouldFadeInterpunct:P=!1})=>{const F=(0,u.bU)(),{isMobileHeaderRedesign:B}=(0,r.od)(),D=l().createElement("div",{className:b("title",{isCompact:N,isCarouselRedesign:H,isHovered:x,interpunct:!C&&m&&!h,shouldFadeInterpunct:P}),ref:S,onMouseEnter:L,onMouseLeave:y,"aria-label":`${d.channelTitleLabel(F)} ${c}`},c),z=e?l().createElement("div",{className:b("logo",{withFade:s,isSmallGap:v,viewType:M})},e,i):null;let U=o.U.default;"media"===R?U=o.U.white:f===n.D.black&&(U=o.U.light);const V=(e,i)=>l().createElement(l().Fragment,null,l().createElement("div",{className:b("logo-wrapper"),onMouseEnter:L,onMouseLeave:y},i),l().createElement("div",{className:b("content",{isCompact:N,isCursorDefault:k})},l().createElement("div",{className:b("title-wrapper",{viewType:M})},e,C&&c&&l().createElement(o.$,{className:b("verify-mark"),markTheme:U,size:H?10:N?12:16,withTooltip:!h}),(!h||!B)&&m,t?l().createElement("div",{className:b("title-extra")},t):null),l().createElement("div",{className:b("subtitle",{isCompact:N,isCarouselRedesign:H})},I||(p?l().createElement("span",{className:b("subtitle-text",{capitalize:!c})},p):null))),h&&B&&m),O=a.N.mix(g,b({isMobile:h,theme:f,size:E,isClickable:Boolean(T),verified:C,isWidthByContent:w,mobileHeaderRedesign:B&&h}));return T?l().createElement("div",{className:O},V(T(b("link"),D),T(b("link",{logo:!0}),z,-1))):l().createElement("div",{className:O},V(D,z))}))}}]);